<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1251">
	<LINK REL="stylesheet" HREF="styles_print.css">
	<script language="javascript1.2" src="menu.js"></script>
	<title>Операция Silent Storm: Часовые. Редактор миссий. Версия для печати</title>
</head>
<body leftmargin=10 topmargin=5>
<!--part1-->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Общие сведения</h1>	
				<h2><a name="level1"></a>	Назначение</h2>
		<p>Редактор миссий игры Операция Silent Storm: Часовые  позволяет создавать отдельные миссии, которые можно загружать в интерфейсе игры, вносить изменения или дополнения (модификации) в существующие сценарные миссии, а также объединять несколько миссий в сюжетную последовательность, создавая собственный сценарий. С помощью редактора вы можете создавать карты с использованием всего набора объектов, которые входят в состав игры; размещать на картах противников, союзников и нейтральных персонажей; задавать условия выполнения миссии (поиск улик или выполнение определённых заданий). Параметры различных персонажей, их внешний вид и имеющиеся у них предметы, а также параметры оружия, боеприпасов и другого снаряжения можно менять в широких пределах. Можно вносить изменения в игровой интерфейс, менять или создавать собственные интерфейсные надписи или текстовые сообщения, выводимые в игре, а также подключать записанные вами различные звуковые эффекты и речь персонажей. Предусмотрена возможность импорта графических 2D и 3D-объектов, созданных в соответствующих программах.
		</p>
		<p>С помощью скриптового языка можно создать сценарий миссии с разветвлённой логикой в зависимости от выполнения тех или иных заданий и условий. Кроме того, скрипты позволяют задавать логику отдельных событий, связанных с действиями персонажей, действием с предметами или попаданием персонажей в определённые места игровой зоны. Скрипты также дают возможность изменять логику поведения и некоторые параметры персонажей противника. 
		</p>
		<p>Редактор позволяет организовать совместную работу над проектом на нескольких клиентских машинах, которые подключены к общей базе данных по локальной сети.
		</p>
		<p>Все модификации игры, созданные с помощью редактора, могут быть упакованы в отдельный ресурсный файл, который можно переносить на другие компьютеры с установленной игрой Операция Silent Storm: Часовые  и подключать их в игровом интерфейсе. При этом не требуется наличия установленного редактора на других компьютерах.
		</p>
		<p><strong>Ограничения:</strong> редактор не позволяет вносить изменения, требующие программной реализации на уровне кода игры, в частности, невозможно изменить логику роста параметров персонажей, получение ими новых умений и навыков, исключить или добавить элементы интерфейса и интерфейсные экраны, изменить базовую логику ИИ и т.д.
		</p>
<p>Использование редактора миссий регламентируется соглашением между издателем игры и конечным пользователем:</p>
<p>Пользователь имеет право на создание и неограниченное распространение созданных с помощью настоящего редактора модификаций игры Операция Silent Storm: Часовые, а также подключение к нему собственных дополнений (моделей объектов или персонажей, скриптов и сценариев миссий, образующих сюжетную последовательность). Пользователь имеет право загружать и использовать как для игры, так и для собственных разработок модификации, созданные другими пользователям, при наличии у него установленной лицензионной копии игры Операция Silent Storm: Часовые. Пользователь не имеет права распространять исходные игровые ресурсы игры Операция Silent Storm: Часовые, в том числе отдельные объекты, скрипты, сценарии миссий и т.д., извлеченные из исходных ресурсов, а также редактор миссий и его отдельные компоненты, которые входят в комплект поставки. Все созданные модификации игры Операция Silent Storm: Часовые должны распространяться бесплатно и на безвозмездной основе; пользователь не имеет права распространять любые модификации с целью получения прибыли.</p>

		
		<h2><a name="level2"></a>	Технические требования</h2>
		<p>Для работы с редактором игры Операция Silent Storm: Часовые компьютер должен соответствовать рекомендуемым системным требованиям:
		</p>
		<p>Windows 98/ME/2000/XP, DirectX 9.0<br>
		Pentium IV / Athlon 2,200 МГц и выше<br>
		512 Мб ОЗУ и выше<br>
		Графический 3D-ускоритель AGP 4x класса не ниже GeForce 3 или Radeon 8500, 128 Мб DDR-видеопамяти<br>
		Монитор с разрешением 1024x768 и выше<br>
		Видеорежим с 32-битным цветовым разрешением<br>
		32-скоростной CD или DVD-привод<br>
		DirectX-совместимый звуковой адаптер<br>
		Мышь<br>
		Не менее 200 Мб свободного места на жёстком диске</p>
		
		<p><strong>Основное программное обеспечение (входит в комплект):</strong>
		</p><p>Игра Операция Silent Storm: Часовые, редактор миссий и игровая база данных;<br>
		MSDE — Microsoft SQL server Developer Engine 8.0;<br>
		Набор утилит для создания модификации игры и импорта 3D-объектов из редактора Maya.<br>
		</p>
		<p><strong>Дополнительное программное обеспечение (не входит в комплект):</strong></p>
		<p>
		Microsoft Access 2000 или XP (только для работ по созданию или модификации сценария).
		</p><h2><a name="level3"></a>	Состав редактора</h2>
		<p>Редактор использует следующие файлы (&lt;S3&gt; — каталог, в который установлена игра):
		</p>
					  <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
			    <tr> 
			      <td width=30% valign=top><strong>Имя файла</strong></td><td width=40% valign=top><strong>Назначение</strong></td><td width=30% valign=top>	<strong>Размещение</strong></td>
		<tr valign="top"><td>Mapedit.exe</td><td>	Основная программа</td><td>	&lt;S3&gt;</td></tr>
<tr valign="top"><td>
		S3AGAME_Data.mdf
S3AGAME_Log.ldf
</td><td>
		Файлы игровой базы данных: исходные — в каталоге .\res, редактируемые — в каталоге с именем профиля</td><td>	&lt;S3&gt;\res
		&lt;S3&gt;\&lt;профиль&gt;</td></tr>
		<tr valign="top"><td>
		DataImport.exe	</td><td>Импорт в файл game.db изменений, внесённых в *.MDF и *.LDF 	</td><td>&lt;S3&gt;\Tools</td></tr>
<tr valign="top"><td>
		FontGen.exe	</td><td>Генератор шрифтов, используется для генерации растровых шрифтов из trueType</td><td>	&lt;S3&gt;\Tools</td></tr>
<tr valign="top"><td>
		PkgBuilder.exe</td><td>	Утилита для сборки ресурсов игры	</td><td>&lt;S3&gt;\Tools</td></tr>
		<tr valign="top"><td>
		TexConv.exe</td><td>	Утилита для импорта текстур и перевод их в внутренний формат	</td><td>&lt;S3&gt;\Tools</td></tr>
<tr valign="top"><td>
		A5ExportModel.mll
		*.mel	</td><td>Дополнения и скрипты для редактора Maya (версии 4.0, 4.5 и 5.0) — экспорт 3D-объектов и анимаций</td><td>	&lt;S3&gt;\Tools\ForMaya</td></tr>
<tr valign="top"><td>
		*.mb, *.tga и т.д.	</td><td>Примеры моделей и текстур, созданных в редакторе Maya	</td><td>&lt;S3&gt;\Source</td></tr>
<tr valign="top"><td>
		dot.exe, ft.dll, jpeg.dll, png.dll, z.dll	</td><td>Утилиты для построения сценарного графа (взаимосвязи миссий и условий их выполнения)	</td><td>&lt;S3&gt;\scengraph
		</td></tr>
		</table>
		<p><strong>Примечание:</strong> файлы dot.exe, ft.dll, jpeg.dll, png.dll и z.dll, необходимые для построения графа сценария, не включены в комплект из-за лицензионных ограничений. На остальных возможностях редактора их отсутствие не сказывается.</p>
		<h2><a name="level4"></a>	Установка и запуск редактора</h2>
		 <h3>Прочтите инструкции и установите редактор</h3>
		<p>Ознакомьтесь с Руководством пользователя по игре Операция Silent Storm: Часовые, в частности, с описанием интерфейса боевого экрана, управлением камерой мышью и клавиатурой, а также основными понятиями, связанными с игровым процессом. Установите на компьютер игру Операция Silent Storm: Часовые  с исходных дисков (при необходимости используйте Руководство по игре Операция Silent Storm: Часовые, где описан процесс установки). В начале установки при выборе компонентов отметьте пункт &laquo;MapEditor&raquo;. Если игра была установлена на вашем компьютере без редактора миссий, вызовите пункт &laquo;Uninstall (repair) game&raquo; в программной группе игры Операция Silent Storm: Часовые и в меню мастера установки выберите пункт &laquo;Add/Remove component&raquo;, в следующем диалоговом окне отметьте редактор &laquo;MapEditor&raquo;. Далее следуйте инструкциям мастера установки, появляющимся на экране. По окончании установки в программной группе игры должна появиться ссылка на редактор &laquo;S3 Editor&raquo;. </p>
		
		<h3> Настройте игру</h3>
       <p>Если вы устанавливаете игру Операция Silent Storm: Часовые впервые, обязательно запустите её и проверьте её работоспособность, как минимум, пройдя несколько первых миссий. Задайте настройки игры, необходимые для качественного вывода изображения на вашем компьютере; для совместной работы с редактором установите в игре видеорежим с 32-битным цветом. При наличии проблем с функциональностью игры обратитесь к Руководству пользователя по игре, а также к документам Readme.txt по игре и обновлениям, где описаны возможные решения проблем.</p>
		
		<h3>Установите необходимые компоненты</h3>
		<p>Если на вашем компьютере не был ранее установлен Microsoft SQL Server 8.0 (MSDE), установите его с диска CD1 игры (вместо D: подставьте букву CD-устройства в вашей системе), далее используйте установки &laquo;по умолчанию&raquo;":
		</p>
		<p>D:\Bin\MSDE\setup.exe</p>
		
		<p>После перезагрузки компьютера сервер можно запустить и проверить в работе. При возникновении трудностей с установкой или запуском сервера обратитесь к Приложению 2. 
		</p>
		<h3> Запустите SQL-сервер</h3>
		<p><img src="img/sql.gif" width="291" height="255" border="0" align="right" alt="" hspace="5" vspace="5">
		В системах класса Windows 2000 и Windows XP программа SQL Server устанавливается как сервис и запускается автоматически при старте. В системах класса Windows 98 и Windows ME SQL Server требуется запускать вручную: ссылка на программу запуска записывается в группу Startup, после загрузки ОС в правой части панели задач (taskbar) появляется иконка сервиса SQL Server Service Manager. Чтобы запустить сервис, выполните двойной щелчок по иконке, далее нажмите кнопку Start/Continue. Через некоторое время, когда сервис будет запущен, окно управления можно закрыть. По окончании работы сервис можно остановить кнопкой Stop и выгрузить SQL-сервер.
		</p>
		<p>Через несколько секунд после запуска SQL-сервера его иконка на панели задач станет активной — на ней появится зелёный треугольник. Затем можно запустить редактор. В дальнейшем работу с редактором всегда начинайте с запуска SQL-сервера.
		</p>
		<h3> Проверьте запуск редактора</h3>
		<p>При первом запуске рекомендуется проверить стабильность работы редактора в вашей ОС. В начальном диалоге создания/выбора пользовательского профиля выберите пункт Original game и дождитесь появления основного экрана редактора. Не меняя настроек, выйдите из редактора (меню File, Exit) и попробуйте запустить его снова. Если проблем с повторным запуском нет, можно перейти к созданию пользовательского профиля. В некоторых системах могут быть трудности с повторным запуском редактора (происходит аварийное завершение или &laquo;зависание&raquo;). В этом случае следует запускать его с параметром &laquo;-clean&raquo;. Создайте ссылку *.lnk на exe-файл редактора и в свойствах в строке запуска добавьте параметр —clean. Можно также изменить свойства ссылки на редактор в программной группе Операция Silent Storm: Часовые.
		</p><h2><a name="level5"></a>Пользовательские профили</h2>
		<p>Для работы над собственными модификациями игры необходимо создать новый профиль. Профиль даёт возможность создать и редактировать копию игровой базы данных, не меняя данные в основной базе (собрать модификацию из исходной базы данных игры невозможно). Если с редактором работает несколько пользователей или идёт работа над несколькими независимыми модификациями, можно создать несколько профилей, по одному на каждый проект.
		</p> 
		<h3>Создание и удаление профиля</h3>
		<p>Чтобы создать профиль, используйте начальное диалоговое окно, появляющееся при запуске редактора. Имя профиля может состоять из латинских букв и цифр и не должно содержать знаков препинания или пробелов. Профиль можно также создать с помощью параметра командной строки -createmod и именем профиля. Все файлы, относящиеся к модификации игры, связанной с текущим профилем, размещаются в каталоге <S3>\<профиль>.
		</p>
		<p>Для удаления профиля используйте кнопку Delete в окне начального диалога.
		</p><h2><a name="level6"></a>	Основные разновидности модификаций</h2>
		<p>С помощью редактора можно создавать различные модификации игры Операция Silent Storm: Часовые, которые можно, в целом, разделить на два типа: модификации, влияющие на исходную сюжетную игру, и дополнения, представляющие собой или миссии для самостоятельного прохождения, или миссии, которые заменяют те или иные сюжетные миссии исходной игры.
		</p>
		<h3>Модификации исходной игры</h3>
		<p>С помощью редактора можно внести изменения в исходную базу данных игры, которые приведут к соответствующим изменениям в игровом процессе. Например, можно изменить параметры оружия, боеприпасов и другого снаряжения и, в конечном счёте, изменить баланс игры, изменить RPG-параметры отдельных строительных элементов, отредактировать или заменить те или иные тексты (интерфейс, игровые тексты, связанные с сюжетом и т.д.), поменять расположение элементов интерфейса. Редактор позволяет заменить текстуры различных объектов, импортировать в игровую базу данных (БД) новые объекты — изображения (например, текстуры облика персонажей), тексты, звуки и т.д. Вы можете внести изменения в сюжетные или случайные миссии — изменить расстановку и параметры персонажей противника, расположение улик, поменять архитектуру зданий. Можно доработать сценарные скрипты, определяющие поведение некоторых объектов, &laquo;срабатывание триггеров&raquo; по определённым событиям, появление в миссиях новых объектов, персонажей и их параметры.  Таким образом, редактор даёт возможность в широких пределах менять существующую игру без создания самостоятельных миссий, используя только модификацию различных параметров и изменение сюжетной логики. Однако внесение изменений в те или иные параметры объектов и тем более в логику сюжета требует тщательного тестирования модифицированных миссий, при этом затраты труда на тестирование прямо связаны с величиной и серьёзностью внесённых изменений.
		</p>
		<h3>Создание дополнений к игре</h3>
		<p>Дополнения к игре Операция Silent Storm: Часовые могут включать одиночные миссии или исходный сюжет, в котором часть миссий заменена новыми. Данное Руководство описывает преимущественно эту сторону использования редактора. В разделе 3 описаны необходимые действия при создании карты отдельной миссии, а в разделе 5 - включение миссии в сценарий.
		</p><h2><a name="level7"></a>	Этапы разработки миссии</h2>
		<p>Создание новой карты миссии для игры Операция Silent Storm: Часовые — длительный и достаточно сложный процесс. Редактор даёт возможность выполнить значительную часть этой работы, но не всю. Перед началом работы с редактором желательно иметь общий план или схему, по которой будет создаваться ваша миссия (план частично воплотится в эскизе и полностью — в карте). Сразу после создания новой карты, а возможно, и раньше, в процессе её создания весьма желательно выполнить тесты карты в игре внутри редактора, а затем и самостоятельно и по результатам тестов внести в карту требуемые изменения; возможно также, что циклов тестирования придётся сделать несколько. Для более быстрого освоения редактора и процесса разработки миссий рекомендуем использовать пример, созданный разработчиками из компании Nival Interactive, который прилагается к редактору.
		</p>
		<h3>Общий план миссии</h3>
		<p>Вначале следует выбрать общий план, по которому будут развиваться события в миссии, задания, которые нужно будет выполнить игроку, улики, которые ему предстоит собрать, определить число противников и предполагаемый размер карты. Далее нужно выбрать сезон (лето или зиму), тип рельефа местности, ландшафт (открытое пространство, лес, деревня, город, пустыня, подземелье), а также время суток. Необходимо определить (задать) основные крупные объекты, вокруг которых должны развиваться действия. Далее желательно сделать на бумаге эскиз карты, определить расположение противников, разместить трофеи, наметить условия, которые необходимо обрабатывать или проверять по скриптам. После этого можно начать работу с редактором карт.
		</p>
		<h3>Создание карты</h3>
		<p>Все операции по созданию карты выполняются в редакторе. Редактор позволяет разнообразить вид карты за счёт использования нескольких вариантов одного и того же объекта или вариантов составных частей карты. В конечном счёте можно сделать несколько вариантов карты, при входе в миссию один из вариантов будет выбран случайным образом. Пример создания самостоятельной карты и комментарии, описывающие отдельные приёмы работы, смотрите в разделе 3.
		</p>
		<h3>Тест и доводка баланса</h3>
		<p>После создания карты, а желательно — и в процессе работы следует загрузить карту в игре и проверить её работоспособность, внешний вид ландшафта и строений с различных точек зрения, а на более поздних этапах — попробовать пройти миссию с различными героями. После этого необходимо исправить обнаруженные недостатки в редакторе; возможно, некоторые операции придётся повторить неоднократно.
		</p>
		<h3>Создание собственного сценария</h3>
		<p>Это наиболее сложная часть работы. Перед созданием своего сценария желательно получить опыт работы в редакторе и сделать несколько самостоятельных миссий. Сценарий объединяет отдельные миссии в сюжетную последовательность. Для каждой миссии вам необходимо наметить задания, которые должны выполнить члены группы. В общем случае они должны найти одну или несколько улик (документ, предмет, персонажа), которые откроют им вход в новую игровую зону. С точки зрения игрока сценарий может быть линейным, когда все существующие миссии проходятся последовательно, или разветвлённым, когда к финальной миссии можно придти различными способами, пройдя различное число миссий. Наиболее сложный тип сценария предполагает генерацию доступных миссий и улик из полного сценарного дерева в самом начале сюжетной игры. Для изменения исходного сценария или создания собственного сценария нужно редактировать БД игры напрямую через Access (см. Приложение 3). Пример того, как можно изменить исходный сценарий игры, включив в его начало собственную миссию, рассматривается в разделе 5.
		</p><h2><a name="level8"></a>	Ограничения при работе с редактором</h2>
		<p>Редактор миссий обладает широкими возможностями по модификации игровой базы данных. Многие настройки редактора сделаны в расчёте на профессиональных разработчиков карт и позволяют добавлять, удалять или изменять практически все объекты, сценарии и миссии, существующие в игре.<strong> Часть настроек не рассчитана на конечного пользователя и подробно не документируется. В руководстве описаны только те возможности редактора, которые требуются для создания собственных миссий и сценарных модификаций.</strong>
		</p>
		<p>Редактор в принципе позволяет пользователю создавать произвольные объекты в БД игры через окно списка ресурсов, переименовывать их, перемещать по дереву, удалять и т.д. Мы настоятельно советуем не делать подобных операций, поскольку они могут привести к нарушению нормальной работы игры. Любые созданные вами объекты и темплейты должны размещаться в отдельных папках (ветках дерева) БД, не конфликтуя с уже существующими объектами. Для обеспечения нормального доступа создаваемые вами объекты должны располагаться в тех же закладках списка ресурсов и на тех же ветках ресурсного дерева, где находятся оригинальные объекты этого типа. Все новые объекты должны именоваться латинскими буквами и цифрами. Избегайте использовать символы национального алфавита.
		</p>
		<p><strong>При использовании на вашей карте объектов и темплейтов, исходно существующих в базе данных игры, не вносите в эти объекты какие-либо изменения.</strong> При необходимости изменить что-либо в существующем темплейте сделайте копию средствами редактора под новым именем и вносите изменения в эту копию. Разумеется, новые темплейты, созданные вами и не относящиеся к сюжетным миссиям, можно модифицировать и использовать по вашему усмотрению. При повреждении БД игры выполните реинсталляцию файлов редактора. Если повредились файлы БД, относящиеся к профилю, восстановите их из архивной копии или (см. Приложение 4).
		</p>
		<p>Редактор сохраняет все настройки и параметры в Windows Registry. При некоторых некорректных операциях в основной базе данных или в данных в ветви Registry, относящихся к редактору, могут быть появиться неверные значения и редактор перестанет запускаться. Прежде всего определите, происходит ли сбой при выборе любого профиля (или до выбора профиля) или редактор не работает только с определённым профилем. В первом случае вначале необходимо попытаться исправить данные, запустив редактор с параметром —clean (см. раздел 1.4), а если это не даёт эффекта — выполнить переустановку (удаление и установку) редактора с помощью мастера установки игры Операция Silent Storm: Часовые. Если повреждён только один из профилей, можно попытаться скопировать 2 файла исходной базы данных из каталога .\res взамен файлов БД, находящихся в каталоге с именем профиля (разумеется, сделанные вами изменения будут потеряны). Рекомендуем время от времени делать архивные копии каталогов с именами профилей, тем самым вы сохраните вашу работу на случай непредвиденных обстоятельств. Обратите внимание, что все &laquo;внешние&raquo; операции с файлами БД игры (удаление, восстановление, перемещение из одного каталога в другой) следует выполнять при остановленном SQL-сервере.
		</p><h2><a name="level9"></a>	Дополнительная информация</h2>
		<p>Для обмена опытом с другими игроками по различным сторонам работы с редактором и по созданию модификаций рекомендуем обращаться в раздел форума, посвящённый модификациям игры Операция Silent Storm: Часовые, по адресу <a href="http://forum.nival.com">http://forum.nival.com</a>
		</p>
		<p>На форуме можно задать вопросы сотрудникам компании Nival Interactive и другим игрокам-разработчикам, найти ссылки на их домашние страницы и адреса, где выложены модификации игры, узнать последние новости по выпуску обновлений и дополнений, и многое другое.
		</p>
		<p>Неофициальные страницы игры Операция Silent Storm: Часовые, поддерживаемые игровым сообществом, находятся по адресу <a href="http://www.silest.ru">http://www.silest.ru</a>
		</p>
			</div>		
		</td>
	</tr>	
</table>
<!--part2-->				
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Интерфейс редактора</h1>	
				<h2><a name="level1"></a>	Базовые понятия</h2>
<p>При работе с редактором постоянно используются следующие понятия: объект (Object), блок (Tile) и темплейт или шаблон (Template).
</p>
<p><strong>Объект</strong> — это любой предмет, который располагается на карте и входит в её состав как &laquo;минимальная&raquo; единица. Объекты обладают собственным набором свойств (параметров), они не могут быть разделены на более мелкие части. В ресурсах игры в одном объекте может быть сгруппировано несколько вариантов одного предмета — например, ящик может иметь различные виды раскраски боковых поверхностей или может быть расположен под различными углами. При использовании объекта, имеющего варианты, можно указать конкретный вариант объекта или не указывать вариант, в последнем случае при генерации карты в игре будет случайно выбран один из существующих вариантов объекта. Это даёт возможность каждый раз менять внешний вид одних и тех же предметов. 
</p>
<p><strong>Блок (Tile)</strong> — это минимальное расстояние, на котором могут размещаться строительные конструкции. Другими словами, блок — это минимальный шаг внутренней &laquo;сетки&raquo; карты для строительных элементов зданий, которые автоматически выравниваются по ней. Размер блока по горизонтали 0,625x0,625 м, по вертикали — 2,5 м (шаг между этажами). Персонажи в игре также передвигаются по узлам блоков (только в горизонтальной плоскости, перемещение по высоте не нормируется). Все остальные предметы могут размещаться на карте в произвольных координатах с точностью, которая доступна в редакторе (0,001 м).
</p>
<p><em>Строительный блок</em> — это минимальная ширина базовых элементов конструкции зданий (стен, дверей, окон). Она составляет 2 обычных блока, т.е. 1,3 м. Размеры зданий на плане проще измерять в строительных блоках.
</p>
<p><em>Уровень (этаж)</em> — это понятие широко используется как в игре, так и в редакторе. Помимо &laquo;снятия&raquo; части этажей у строений для лучшего обзора, перемещение по уровням необходимо для правильной расстановки предметов на карте. Расстояние между этажами и шаг переключения равны размеру блока по вертикали, т.е. 2,5 м.
</p>
<p><strong>Темплейт</strong> — это заранее скомпонованная группа объектов, которую можно использовать как одно целое при создании карты. Например, в игре отсутствуют строения как отдельные объекты, все строительные объекты представляют собой блоки строительных конструкций. Чтобы не строить все дома из блоков при создании карты, можно создать несколько темплейтов домов, сохранить их в базе данных игры, а затем при создании карты располагать их на местности необходимым образом. Размер темплейта должен быть кратен 8 блокам. Темплейт может включать в себя как объекты, так и темплейты меньшего размера. Все темплейты, находящиеся внутри текущего, называются вложенными темплейтами (или подтемплейтами), а текущий темплейт — базовым с точки зрения вложенных.
</p>
<p>Аналогично строениям, можно создавать темплейты из группы деревьев, ландшафтных предметов, мебели и т.д. Как и отдельные объекты, темплейты могут иметь несколько различных вариантов, отличающихся размещением отдельных объектов (темплейтов), вариантами текстур, материалами строений и т.д. При создании новых карт можно использовать готовые темплейты, созданные для предыдущих карт. Поскольку понятие &laquo;темплейт&raquo; универсальное, отдельным темплейтом может считаться и целая карта игровой зоны. Её тоже можно использовать как &laquo;блок&raquo; для создания новой карты и т.д. Вероятность появления того или иного варианта темплейта при загрузке карты задаётся в свойствах темплейта.</p>

<p>Крупные темплейты особенно удобно использовать при создании нескольких вариантов одной карты, когда несложной перестановкой зданий и местных предметов можно значительно разнообразить вид миссии и повлиять на тактику её прохождения.
</p>
<p>Размеры любой карты игровой зоны должны быть кратен 8 блокам, минимальный размер — 16х16 блоков, максимальный — примерно 128x128 (увеличение размера карты приводит к повышению системных требований к компьютеру).
<h2></p><a name="level2"></a>	Экран редактора</h2>
<p>Экран редактора состоит из нескольких окон: основное окно в центре экрана, в котором отображается участок карты примерно в том виде, как он выглядит в игре; окно со списком ресурсов в левой части экрана, снабжённое закладками, и 3 окна в правой части: окно свойств выбранного объекта, окно видимых слоёв и окно выбора текстуры отделки. Все окна, кроме основного, могут быть убраны с экрана либо с помощью кнопки с крестиком &laquo;закрыть окно&raquo; в правом верхнем углу, либо через меню &laquo;View&raquo;. Это позволяет увеличить размер основного окна, в котором выводится карта. Ширину и высоту боковых окон можно также менять с помощью мыши.
</p>
<p>Текущее активное окно выделяется дополнительной рамкой. Обратите внимание, что команды управления камерой не будут доступны, если текущим является не основное окно, а какое-либо другое. Чтобы при работе с картой не &laquo;уводить&raquo; фокус ввода с основного окна на другие интерфейсные элементы редактора, используйте команду Realtime preview (см. ниже).
</p>
<p>В верхней части экрана находится главное меню и панели инструментов. Панели можно перемещать по экрану произвольным образом. В нижней части экрана находится строка состояния.
</p> <p><img src="img/main_screen.gif" width="650" height="472" border="0" alt=""></p>
<h2><a name="level3"></a>	Главное меню</h2>
<p>Главное меню состоит из следующих пунктов: File, View, Tools, Map, Help. Опишем подпункты главного меню:</p>
<table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td colspan="2">
<strong>File (Файл)</strong></td></tr><tr><td width="20%">
Exit	</td><td>Завершение работы и выход из редактора (также Alt+F4)</td></tr><tr><td colspan="2">
<strong>View (Вид)</strong></td></tr><tr><td>
Toolbars	</td><td>Управляет выводом панелей инструментов редактора</td></tr><tr><td>
Status bar</td><td>	Вывести или скрыть нижнюю строку состояния на экране редактора</td></tr><tr><td>
Properties</td><td>	Вывести окно свойств текущего объекта</td></tr><tr><td>
Tree view	</td><td>Вывести дерево со списком доступных объектов и темплейтов</td></tr><tr><td>
Layers</td><td>	Вывести окно, управляющее отображением слоёв</td></tr><tr><td>
Building brushes	</td><td>Вывести &laquo;кисти&raquo; для закраски поверхности строений</td></tr><tr><td>
Realtime preview</td><td>	Режим вывода карты в реальном времени, аналогичном игре</td></tr><tr><td>
Grid	</td><td>Вывести/скрыть линии сетки</td></tr><tr><td>
Back	</td><td>Перейти к предыдущему объекту (темплейту), с которым велась работа ранее</td></tr><tr><td>
Forward	</td><td>Перейти к следующему объекту (темплейту), если возвращались назад</td></tr><tr><td>
Preferences...</td><td>	Настройки редактора (см. ниже)</td></tr><tr><td>
Select resource tabs	</td><td>Вывести окно со списком ресурсных закладок</td></tr><tr><td>
Update game view	</td><td>Обновить вид окна карты</td></tr><tr><td>
Camera reset	</td><td>Сбросить камеру в исходное положение</td></tr><tr><td>
Roll	</td><td>Перевывести текущий вариант темплейта в основном окне</td></tr><tr><td>
Full screen</td><td>	Переключиться в полноэкранный режим</td></tr><tr><td colspan="2">
<strong>Tools (Инструменты)</strong></td></tr><tr><td>
Customise...	</td><td>Настроить панели инструментов редактора</td></tr><tr><td>
Build	</td><td>Создать ресурсный файл для текущей модификации игры </td></tr><tr><td>
Write camera	</td><td>Записать положение камеры, выставленное при просмотре объекта, в свойства этого объекта (при работе с темплейтами не действует)</td></tr><tr><td>
Set game aspect ratio	</td><td>Выставить размер основного окна по X и Y пропорционально игре</td></tr><tr><td>
Edit store items...</td><td>	Редактировать набор предметов в магазине базы</td></tr>
<tr><td>

FPS stats...	</td><td>Собрать статистику по частоте кадров - требуется запуск игры из редактора.</td></tr><tr><td>
New object...	</td><td>Запустить мастера (Wizard) добавления нового объекта в БД игры</td></tr><tr><td>
New Model...	</td><td>Запустить мастера (Wizard) добавления новой модели в БД игры</td></tr><tr><td>
Copy object...	</td><td>Запустить мастера (Wizard) добавления копирования модели в БД игры</td></tr><tr><td>
Set database base ID value	</td><td>Устанавливает значение идентификатора от которого будут отсчитываться идентификаторы вновь создаваемых записей в базе данных.
</td></tr>


<tr><td colspan="2">
<strong>Map (Карта)</strong></td></tr><tr><td>
Edit script	</td><td>Переключиться в режим ввода/редактирования скрипта</td></tr><tr><td>
Export grayscale	</td><td>Экспорт карты высот и карта прозрачности текущего варианта темплейта.</td></tr><tr><td>
Import height map	</td><td>Импорт карты высот текущего варианта темплейта.</td></tr><tr><td>
Import alpha map	</td><td>Импорт карты прозрачности текущего варианта темплейта.</td></tr><tr><td colspan="2">
<strong>Help (Справка)</strong></td></tr><tr><td>
Tip of the day...	</td><td>Вывести окно с &laquo;подсказкой на каждый день&raquo;</td></tr><tr><td>
About...	</td><td>Вывести информацию о версии редактора</td></tr></table>

<h2><a name="level4"></a>	Панели инструментов</h2>
<p>Панели инструментов упрощают работу с редактором и дают доступ к наиболее важным функциям. Обычно на экране выводится 4 панели: основная (Default), параметры для вставки новых темплейтов (Template tools), инструменты редактирования (Editor tools) и выбор варианта темплейта (Variant selection). Все панели вы можете располагать в различных местах экрана по своему усмотрению, горизонтально или вертикально.
</p>
<p>Обратите внимание, что часть функций, доступных через кнопки панелей, не включена в меню, поэтому рекомендуется не убирать панели с экрана редактора.</p>

<h3>Основная панель</h3><p>Панель содержит следующие кнопки (они имеют аналоги в главном меню):</p><p><img src="img/tb_default.gif" width="435" height="30" border="0" alt=""></p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td width="20%">

Back	</td><td>Перейти к предыдущему объекту (темплейту), с которым велась работа ранее</td></tr><tr><td>
Forward	</td><td>Перейти к следующему объекту (темплейту), если возвращались назад</td></tr><tr><td>
Copy	</td><td>Копировать выделенный объект (объекты)</td></tr><tr><td>
Paste	</td><td>Вставить выделенный объект (объекты)</td></tr><tr><td>
Update Game View	</td><td>Обновить основное окно редактора с перегрузкой всех объектов (процесс занимает довольно большое время)</td></tr><tr><td>
Build	</td><td>Создать файлы модификации игры (*.res)</td></tr><tr><td>
Camera reset	</td><td>Сбросить камеру в исходное положение (вертикально над началом координат)</td></tr><tr><td>
Show/hide Properties	</td><td>Вывести окно свойств</td></tr><tr><td>
Show/hide Layers	</td><td>Вывести окно слоёв</td></tr><tr><td>
Show/hide Tree view	</td><td>Вывести дерево со списком доступных объектов и темплейтов</td></tr><tr><td>
Select tabs	</td><td>Вывести список закладок с объектами БД</td></tr><tr><td>
Realtime preview	</td><td>Режим вывода карты в основном окне без потери &laquo;фокуса ввода&raquo;</td></tr><tr><td>
Grid on/off </td><td>Вывести/скрыть линии сетки</td></tr><tr><td>
Full Screen	</td><td>Переключиться в полноэкранный режим</td></tr><tr><td>
Run</td><td> 	Запустить игру в основном окне редактора</td></tr><tr><td>
Exit game	</td><td>Вернуться из игры в режим редактирования
</td></tr></table>
<h3>Панель уровня вставки темплейтов</h3>
<p> <img src="img/tb_template.gif" width="180" height="30" border="0" alt=""></p>
<p>Эта панель определяет этаж установки объектов или темплейтов в текущую карту. По умолчанию объекты или темплейты будут ставиться на выбранный этаж независимо от текущей установки уровня камеры. При необходимости любой объект можно затем сместить вверх или вниз.
</p>
<h3>Инструменты редактирования</h3>
<p> <img src="img/tb_editor.gif" width="360" height="30" border="0" alt=""></p>
<p>Эта панель служит для выделения объектов, работы с текстурами и &laquo;кистями&raquo;. При переключении режима редактирования будет меняться и вид курсора:</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td width="20%">
Select Tool	</td><td>Стандартный режим выбора объекта с помощью курсора 
(курсор в виде стрелки)</td></tr><tr><td>
Rectangle Selection	</td><td>Режим выбора группы объектов с помощью рамки 
(курсор в виде креста)</td></tr><tr><td>
Material Select Tool	</td><td>Получить текстуру материала по объекту-образцу 
(курсор в виде пипетки)</td></tr><tr><td>
Brush Tool	</td><td>Выбор одной из текстур для закраски сплошных (solid) объектов 
(курсор в виде кисти)</td></tr><tr><td>
Erase	</td><td>Режим стирания объектов или текстур 
(курсор в виде ластика)</td></tr><tr><td>
Lock selection	</td><td>Не снимать выделение с объектов после щелчка мыши по другим объектам; режим используется для выделения нескольких объектов</td></tr><tr><td>
XY	</td><td>Режим перемещения объекта мышью в плоскости карты</td></tr><tr><td>
Z	</td><td>Режим перемещения объекта мышью по вертикальной оси</td></tr><tr><td>
Angle	</td><td>Поворот объекта на заданный угол по отношению к исходному</td></tr><tr><td>
Small brush</td><td>	Кисть малого размера (кисти используются для нанесения текстур)</td></tr><tr><td>
Medium brush	</td><td>Кисть среднего размера</td></tr><tr><td>
Large brush	</td><td>Кисть большого размера</td></tr></table>

<h3>Выбор варианта темплейта</h3>
<p> <img src="img/tb_variant.gif" width="125" height="30" border="0" alt=""></p>
<p>Данная панель позволяет создавать новые варианты темплейтов и переключаться между ними. Для работы с ней необходимо выделить текущий темплейт.</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td width="20%">
New variant	</td><td>Создать новый вариант темплейта</td></tr><tr><td>
Copy current variant	</td><td>Скопировать текущий активный вариант</td></tr><tr><td>
Delete variant	</td><td>Удалить текущий вариант</td></tr><tr><td>
Variant 1	</td><td>Переключиться в вариант 1 и т.д. (число этих кнопок соответствует числу вариантов темплейта)</td></tr></table>

<h2><a name="level5"></a>	Настройки редактора</h2>
<p>Окно настроек редактора выводится в меню View, Preferences... Это окно содержит несколько закладок с параметрами. Большинство параметров, установленных по умолчанию, целесообразно оставить без изменений. Вам может потребоваться изменить некоторые настройки на закладках General Options и Map options.</p>

<p><img src="img/pref_2.gif" width="344" height="548" border="0" alt="" hspace="5" vspace="5" align="right"><h4>Закладка &laquo;General Options":</h4>
DB Server — имя сервера базы данных MS SQL, по умолчанию или localhost, или имя текущего компьютера.</p>

<p>Source — каталог, откуда по умолчанию будут браться новые ресурсы для включения в игру; Resources — каталог, где находятся текущие игровые ресурсы; </p>
<p>Tools — каталог с внешними программами, используемыми редактором.
</p>
<p>Camera Speed — скорость перемещения камеры при управлении клавиатурой или мышью (рекомендуются значения в пределах 0.2 — 1)
</p>
<p>Objects — настройки, использующиеся при загрузке объектов.</p>
<p>Show ground — показывать участок ландшафта под объектом.</p>
<p>Show properties browser — показывать диалог с свойствами объекта.</p>

<p>Если вы организуете совместную работу над проектом с нескольких компьютеров, находя-щихся в локальной сети, то в поле DB Server необходимо указать имя сервера, на котором запущен SQL-сервер, в поле Source — имя сетевого каталога, куда ваша группа помещает подготовленные ресурсы, а в поле Resources — имя каталога, где собирается проект. Для ускорения доступа к инструментальным программам каталог Tools лучше разместить на локальном компьютере.</p>
<br><br>
<p><img src="img/pref_3.gif" width="344" height="449" hspace="5" vspace="5" border="0" align="right" alt=""><h4>Закладка &laquo;Map options&raquo;:</h4>

SubTemplate depth — глубина отображения вложенных темплейтов, по умолчанию 10 (при недостаточной глубине отображения вложенные темплейты и объекты в них отображаться в основном окне редактора не будут, вместо темплейтов будут выводиться &laquo;коробки&raquo; с синими стенками, избыточная глубина отображения может замедлять вывод изображения и мешать процессу редактирования карты);</p>
<p>Show AI spheres — показывать сферы &laquo;крепления&raquo; объектов к поверхностям, которые влияют на разрушение объектов;</p>
<p>Instant terrain preview — перерисовывать текстуру ландшафта при любых операциях, может замедлять перевывод изображения в редакторе;</p>
<p>Show holes — показывать изменения рельефа, произведенные колодцами и шахтами с вертикальными стенками.</p>
<p>SubTemplate box alpha — определяет прозрачность &laquo;коробок&raquo; субтемплейтов.</p>
<p>Moving speed (arrow keys) — определяет скорость сдвига камеры с помощью клавиатуры.</p>
<p>Interval — задаёт интервал между узлами координатной сетки</p>
<p>Snap to active floor — обеспечивает совмещение сетки в соответствии с активным для редактирования этажом.</p>

<h2><a name="level6"></a>	Основное окно</h2>
<p>В основном окне отображается часть карты в зависимости от выбранного масштаба (zoom). Основные операции с объектами выполняются в этом окне. Отображение карты в этом окне происходит в двух режимах: обычном режиме, в котором карту можно произвольно перемещать, вращать и наклонять, и в игровом режиме, когда фактически происходит запуск игры с отображением игрового интерфейса в основном окне (этот режим включается кнопкой Run на панели инструментов). Игровой режим рекомендуется использовать на этапе &laquo;доводки&raquo; карты для проверки внешнего вида и отладки процесса игры. </p>

	<h4>Управление камерой</h4>
<p>Камерой можно управлять с помощью клавиатуры или мыши, команды управления имеют много общего с управлением камерой в игре (см. раздел &laquo;Команды клавиатуры и мыши&raquo;). Обратите внимание, что правая кнопка мыши совмещает две функции: вывод контекстного меню при неподвижном курсоре (после небольшой паузы) и вращение камеры при сдвиге курсора. Чтобы избежать вывода контекстного меню, нажимайте правую кнопку, одновременно двигая мышь, либо не делайте паузу после нажатия кнопки.
</p>
<h4>Начало координат</h4>
<p>Все координаты объектов, размещённых на карте, отсчитываются от начальной точки. Эта точка обозначается тремя отрезками красного, зелёного и синего цветов, которые показывают направление осей X, Y и Z.</p>

<h4>Отображение сетки</h4>
<p>Для размещения объектов на карте удобно &laquo;привязывать&raquo; их к координатной сетке. Для вывода сетки служит специальная кнопка на панели инструментов. Сетка выводится на горизонтальной поверхности, её шаг 0,625 м. Сплошная сетка показывает активный этаж, на который будут ставиться объекты/строительные блоки.</p>

<h4>&laquo;Скелетный&raquo; режим</h4>
<p>В редакторе есть возможность отображать на карте только &laquo;скелеты&raquo; объектов, при котором текстуры не выводятся. Этот режим меняет только вид объектов, на взаимодействие объектов между собой и возможности редактора он не влияет. В частности, &laquo;скелетный&raquo; режим позволяет увидеть взаимное расположение перекрывающихся объектов или объектов, которые заслоняют друг друга. Кроме того, в &laquo;скелетном&raquo; режиме карта выводится быстрее, чем в обычном, с отображением всех текстур. Переключение режима выполняется с помощью команды Ctrl+W (wireframe).</p>

<h4>Вид объектов и темплейтов</h4>
<p>Будет ли тот или иной объект или темплейтов отображаться в основном окне редактора и каким образом, определяется несколькими параметрами. </p>

<p>Во-первых, слои (layers) объекта должны быть указаны в списке слоёв — для отображения травы или персонажей должны быть включены соответствующие слои (см. ниже раздел &laquo;Окно слоёв&raquo;). Без включения слоя объект отображаться не будет. Включение всех существующих слоёв позволяет вывести карту в виде, наиболее близком к игре, но снижает быстродействие видеовывода и может мешать редактированию некоторых объектов.</p>
<p>
Во-вторых, для отображения темплейтов требуется выбрать подходящий параметр &laquo;глубина отображения&raquo;. По умолчанию значение этого параметра в редакторе равно 10 — это значит, что на карте будут отображаться темплейты до 10-го уровня вложенности. Если темплейт содержит более &laquo;глубокие&raquo; уровни, то они отображаться не будут, вы будете видеть только прямоугольные &laquo;коробки&raquo;. Чрезмерное увеличение глубины вложенности снижает быстродействие видеовывода и может быть нежелательно при построении карты из крупных темплейтов. Глубину можно менять на закладке &laquo;Map options&raquo; в настройках редактора.</p>

<h4>Вход в темплейт на карте и выход из него</h4>
<p>Темплейты, находящиеся на карте, отображаются с прямоугольным контуром в виде полупрозрачной &laquo;коробки&raquo;. Их можно перемещать по карте как одно целое, но их содержимое менять нельзя. Если необходимо изменить тот или иной темплейт, дважды щёлкните мышью по &laquo;коробке&raquo;. Редактор запомнит место, где вы работали, и переключится в режим редактирования выбранного темплейта. После внесения в темплейт необходимых изменений можно вернуться обратно на исходную карту, для этого воспользуйтесь кнопкой &laquo;Back&raquo; или выберите нужный темплейт в окне списка ресурсов.</p>

<h4>Работа с объектами на карте</h4>
<p><img src="img/object_selection.gif" width="265" height="190" hspace="5" vspace="5" border="0" align="right" alt="">Для работы с объектами на карте необходимо вначале выделить объект или группу объектов. Для выделения объекта необходимо использовать &laquo;протяжку&raquo; мыши (drag), т.е. сдвиг мыши при нажатой левой кнопке, при этом выделенная часть карты будет отмечена пунктиром. Объекты, попавшие в пунктирную рамку, будут отмечены ограничивающими прямоугольниками (bounding box). Щелчок левой кнопкой мыши снимает выделение объекта. С группой выделенных объектов можно работать как с одним целым — перемещать, в некоторых случаях — поворачивать.</p>

<p>Для перемещения объекта или группы объектов используются следующие комбинации Alt со стрелками и клавишами PgUp, PgDn:</p>
 <table width="40%" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
 <tr><td>
Влево		</td><td>Alt + &lt;влево&gt;</td></tr><tr><td>
Вправо	</td><td>Alt +  &lt;вправо&gt;</td></tr><tr><td>
Вперёд </td><td>	Alt +  &lt;вперёд&gt;</td></tr><tr><td>
Назад 		</td><td>Alt +  &lt;назад&gt;</td></tr><tr><td>
Вверх 		</td><td>Alt + PgUp</td></tr><tr><td>
Вниз 		</td><td>Alt + PgDn</td></tr></table>

<p>Для перемещения объектов мышью необходимо &laquo;захватить&raquo; объект или группу объектов. По умолчанию объекты перемещаются в горизонтальной плоскости, вертикальная координата не меняется. Для перемещения объекта по вертикали есть две возможности: 
<ul>
	<li>	постоянно перейти в этот режим кнопкой Z на панели инструментов редактирования, </li>
	<li>	временно переключиться в этот режим, нажав и удерживая клавишу Z на клавиатуре.</li>
</ul></p>

<p>Поворот объектов в основном окне возможен только на заданные углы, кратные 90 градусам. Для этого используется клавиша <R> (Rotate). Для поворота на произвольный угол следует использовать окно свойств объекта. Строения и отдельные блоки поворачивать на произвольный угол нельзя.</p>

<p>Обратите внимание, что при выделении группы объектов рамкой в выделение может попасть другой темплейт или объект, окружающий все эти объекты. При попытке переместить выделенные объекты этот темплейт будет передвигаться вместе с ними, что может привести к нежелательным последствиям. Чтобы избежать &laquo;захвата&raquo; лишних объектов, рекомендуется отключать те слои, с которыми вы в данный момент не работаете.
</p>
<h4>Вставка и удаление объектов</h4>
<p>Существует несколько способов вставки объектов (темплейтов) на карту, которые определяются типом объекта:
<ul>
	<li>	Большинство объектов можно добавить из окна со списком объектов (темплейтов), используя функцию &laquo;перетаскивание мышью&raquo; (drag-and-drop) при нажатой левой кнопке, для этого следует &laquo;захватить&raquo; строку с именем объекта и перетащить курсор на нужное место карты, затем отпустить левую кнопку. Объект будет помещён на уровень (этаж), заданный на панели параметров вставки темплейта.</li>
	<li>	Можно скопировать готовый объект, темплейт или группу объектов с другой карты или темплейта и вставить на свою карту. Для этого используются обычные клавиатурные команды копирования и вставки — Ctrl+C, Ctrl+V или кнопки на панелях редактора. Для перехода между темплейтами используйте закладку Templates окна со списком объектов.</li>
	<li>	Сплошные строительные объекты (стены, заборы, вертикальные столбы), которые располагаются вдоль линии или заполняют прямоугольный контур, можно наносить на карту, &laquo;вычерчивая&raquo; соответствующие линии или прямоугольные рамки при нажатой левой кнопке мыши.</li>
	<li>	Объекты, представляющие собой текстуры, наносятся на выбранную поверхность с помощью &laquo;кисти&raquo;. Её размеры можно менять с помощью панели инструментов редактирования. Для покраски стен необходимо выбрать подходящую текстуру в окне выбора текстур объектов (building brushes), а затем активировать &laquo;кисть&raquo;. Для закраски ландшафта или заполнения поверхности грунта травой (трава представляет собой мелкие регулярные кустики) нужно выбрать соответствующий слой (ландшафт, трава) в окне слоёв и вид текстуры грунта или травы в окне объектов БД.</li>
	<li>	Некоторые объекты можно вставить из контекстного меню основного окна, которое вызывается правой кнопкой мыши. Например, таким образом можно создать колодец или шахту (см. ниже). После выбора соответствующего пункта меню открывается диалоговое окно, в котором можно задать параметры нового объекта. Объект будет вставлен в место с центром в точке, откуда было вызвано контекстное меню.</li>
</ul></p>
<p>Для удаления установленного объекта (объектов) служит клавиша Del, при этом объект должен быть выделен. Для стирания нанесённых текстур используется режим &laquo;ластика&raquo;, который выбирается на панели инструментов редактирования. Для большинства операций в основном окне редактора предусмотрена функция отмены (Undo), она вызывается по комбинации Ctrl+Z. Однако учтите, что отмена некоторых сложных операций в основном окне и любых действий в других окнах редактора не предусмотрена.</p>

<h4>Точки опоры объекта (AI spheres)</h4>
<p>Места, которыми объект опирается на поверхность или крепится к ней, обозначаются небольшими цветными сферами (если отображение сфер разрешено на закладке Map Options в параметрах редактора). Сферы выводятся только в редакторе, в игровом режиме они не отображаются. Сферы показывают точки опоры, которые учитываются игровой механикой. При нарушении контакта одной или нескольких опор с поверхностью объект теряет устойчивость и может упасть или разрушиться. Цвет сфер зависит от степени устойчивости объекта: в нормальном состоянии он розовый, у неустойчиво размещённых объектов — жёлтый. Чтобы избежать разрушения объекта сразу после входа на карту, внимательно следите за правильным размещением объектов по высоте, чтобы не было точек опоры, висящих &laquo;в воздухе&raquo;.
</p>
<p><h4>Создание или изменение рельефа</h4>
Редактор позволяет менять рельеф поверхности в интерактивном режиме: делать возвышения (холмы), углубления (ямы), а также сдвигать отдельные узлы поверхности. Для создания рельефа вначале необходимо выбрать слой &laquo;Height map&raquo; в окне выбора слоёв, задать минимальную и максимальную высоты (пределы уровней) для текущей операции и размер &laquo;кисти&raquo;, связанной с курсором. Указав курсором точку на поверхности земли, следует нажать левую кнопку мыши и двигать курсор под некоторым углом к поверхности. Движение с направлением &laquo;вверх&raquo; создаст возвышенность, движение с направлением &laquo;вниз&raquo; — впадину. Чем более вертикально движется курсор, тем более высоким (глубоким) получится рельеф и тем меньше будет его размер. При строго вертикальном движении курсора рельеф образуется вокруг одного узла сетки, при строго горизонтальном — рельеф отсутствует. После завершения операции отпустите левую кнопку мыши и клавишу Shift.
Для изменения координат отдельного узла переключитесь в &laquo;скелетный&raquo; режим, &laquo;захватите&raquo; курсором узел сетки, нажав левую кнопку мыши, и перетаскивайте узел в нужном направлении — вверх или вниз.</p>

<h4>Создание колодцев и шахт</h4>
<p>Для создания колодцев с вертикальными стенками и шахт используйте контекстное меню, вызываемое по правой кнопке мыши: New Terrain Hole. Диалоговое окно даёт возможность задать число узлов в многоугольнике, образующем колодец, глубину ямы и её радиус. После создания ямы отдельные узлы можно двигать мышью, при этом меняется форма ямы. Чтобы удалить весь колодец, выделите отдельный узел и нажмите клавишу Delete.</p>
<h2><a name="level7"></a>	<img src="img/resources.gif" width="478" height="410" hspace="5" vspace="5" border="0" align="right" alt="">Список ресурсов</h2>
<p>Окно со списком доступных ресурсов в левой части экрана имеет несколько закладок. Работать с этим окном вам понадобится практически постоянно.</p>

<p>Для переключения между группами объектов нажмите на соответствующую закладку. После этого в окне отобразится дерево ресурсов, относящихся к выбранной группе. Ветви дерева можно раскрывать или закрывать щелчком мыши по крестику или минусу в соответствующей ветви. Для создания новой ветви (папки) или объекта, а также для пере-именования уже существующих объектов используется контекстное меню, которое вы-зывается по правой кнопке мыши. Объекты можно перемещать по ветвям дерева, &laquo;захватив&raquo; и удерживая их левой кнопкой мыши.<br>
<strong>Предупреждение:</strong> настоятельно не рекомендуется переименовывать или перемещать исходные объекты, входящие в БД игры.</p>

<p>Для вывода полного списка закладок нажмите кнопку Select tabs на основной панели инструментов (см. снимок). Для удобства поиска список всех ресурсов упорядочен по темам. Отметьте галочкой, какие закладки в списке ресурсов вы хотите вывести.</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td colspan="2">
<strong>Scenario Items</strong></td></tr><tr><td width="20%">
AckInfo	</td><td>Настройки реплик (acknowledgements) в зависимости от персонажа, диалога и его интонации. Задание анимации лица в соответствии с диалогом</td></tr><tr><td>
Clues	</td><td>Улика (Clue) - задание, выполнение которого позволяет успешно пройти сценарную миссию. Задание может быть предметом (например, документом), персонажем союзника или противника и т.д.</td></tr><tr><td>
DialogPers</td><td>	Таблица соответствия кода персонажа и PersID.</td></tr><tr><td>
Dialogs</td><td>	Различные диалоги. Проигрываются с помощью скриптов на игровых зонах.</td></tr><tr><td>
Goals</td><td>	Задания, предусмотренные в миссиях. Сначала задание нужно завести в закладке Goals, создав там новый пункт (item) и ввести в полях Task1...Task6 подзадания в нужном количестве. </td></tr><tr><td>
Hints</td><td>	Подсказки, случайным образом раскладывающиеся в RPGItems\Hint Slot</td></tr><tr><td>
Script	</td><td>Скрипты к различным ресурсам (Templates, Chapters, Global Map)</td></tr><tr><td>
Tasks	</td><td>Подзадания, соответствующие заданиям (Goals).</td></tr><tr><td>
Objectives	</td><td>Цели миссий. Список основных действий (ZoneToOpen/ZoneToBlock), производимых при получении улики (capture или destroy).</td></tr><tr><td colspan="2">

<strong>Scenario Globals</strong></td></tr><tr><td>
Chapters	</td><td>Различные участки глобальной карты с зонами случайных стычек (random encounters) и соответствующей зоной лагеря (camp)</td></tr><tr><td>
GlobalMaps	</td><td>Глобальная карта того или иного сценария, с определением базы и стартовой зоны</td></tr><tr><td>
Scenario	</td><td>Имя кампании, описание и соответствующий набор заданий кампании, который необходимо редактировать напрямую в базе (см. раздел 5)</td></tr><tr><td>
ScenarioZones</td><td>	Здесь определяется принадлежность зоны</td></tr><tr><td colspan="2">

<strong>RPG</strong></td></tr><tr><td>
AI Materials	</td><td>AI-свойства материалов, используемые при расчёте взаимодействия и разрушения. Здесь задаются различия между бетоном, деревом, камнем, стеклом, железом и др. материалами, а также характерные для того или иного материала звуки разрушения</td></tr><tr><td>
Medals</td><td>	Здесь определяется последовательность роста ценности наград и соответствие названий их моделям</td></tr><tr><td>
Nationality	</td><td>Национальности и их различные параметры. Используются для определения национального состава одной из сторон (Side)</td></tr><tr><td>
RPG Materials	</td><td>Материалы различной прочности и UltimateMoment</td></tr><tr><td>
Sides</td><td>	Множество параметров противоборствующих сторон (Axis — Allies)</td></tr><tr><td>
RPG APs	</td><td>Величины AP, затрачиваемые на различные действия</td></tr><tr><td colspan="2">

<strong>RPG Settings</strong></td></tr><tr><td>
BaseValues	</td><td>Базовые параметры персонажей/ Panzerklein'ов</td></tr><tr><td>
Classes	</td><td>Базовые параметры классов различных персонажей: Enemy, Engineer, Robot, Grenadier, Medic, Ninja, Scout, ScoutUK, Sniper, Soldier, SoldierUK, WeakEn-emy. Здесь можно указать соответствующие классу панель умений (PerksPanel), подсказку (ToolTip), иконку (Icon)</td></tr><tr><td>
Criticals</td><td>	Различные эффекты от критических поражений в зависимости от места попадания (HitLocation)</td></tr><tr><td>
Diplomacies</td><td>	Таблица двусторонних дипломатических отношений. Ячейки могут принимать значения En (враг), Ally (союзник), Neut (нейтральный).</td></tr><tr><td>
Perks	</td><td>Некоторые общие параметры умений</td></tr><tr><td>
Pers	</td><td>Параметры NPC (Side, ModelID, FaceID, WeaponID, WearingPanzercleinID и т.д.)</td></tr><tr><td>
Store Items	</td><td>Рейтинговая система предметов на складе базы для каждой из сторон</td></tr><tr><td>
Chests	</td><td>RPG-ящики для предметов, раскладываемых по зонам (loot) с распределением по уровням сложности зоны</td></tr><tr><td>
Weapon Type</td><td>	Тип оружия и его соответствие NameID</td></tr><tr><td colspan="2">

<strong>RPG Items</strong></td></tr><tr><td>
Ammo Type	</td><td>Различные типы патронов</td></tr><tr><td>
Clips	</td><td>Обоймы с боеприпасами. Quantity — число патронов в обойме, AmmoGroup — принадлежность обоймы к одной из групп, определяет взаимозаменяемость обойм.</td></tr><tr><td>
Eng grenades	</td><td>Инженерные гранаты, их параметры зависят от инженерного навыка</td></tr><tr><td>
First aid	</td><td>Медицинские предметы. Effect — результат применения препарата, Re-quiredSkill — навык, требующийся для его применения. SkillModifier — улучшение навыка при использовании данного препарата. Power — рост величины VP для препаратов-стимуляторов.</td></tr><tr><td>
Grenades	</td><td>Гранаты. Sound1ID — звук взрыва гранаты, Effect1ID — соответствующий эффект взрыва</td></tr><tr><td>
Keys	</td><td>Ключи от замков. Таблица соответствий ItemID и KeyID.</td></tr><tr><td>
Mines	</td><td>Здесь задаются параметры мин. Explosion — тип взрыва соответствует гранате, прописанной в данном поле. APToSet — кол-во AP, необходимое для установки мины. ItemID — соответствующий мине предмет (RPG item).</td></tr><tr><td>
Panzerkleins	</td><td>Параметры для бронекостюмов Panzerklein</td></tr><tr><td>
Picklock</td><td>	Параметры отмычек</td></tr><tr><td>
RPG Items	</td><td>Описание свойств RPG-предметов (ModelID, SubType) и других вспомогательных параметров. Используется при задании параметров Clips, RPG Weapons, Grenades, Firs Aid, Store Item, Mines, Tools, Keys и др.</td></tr><tr><td>
RPG Weapons	</td><td>RPG-оружие, использование которого персонажами указывается в ресурсных закладках Pers и Objects</td></tr><tr><td>
Tools	</td><td>Параметры инструментальных средств инженера</td></tr><tr><td colspan="2">

<strong>Graphics</strong></td></tr><tr><td>
AIGeometries	</td><td>AI-геометрии объектов необходимы для расчёта физического взаимодействия. SrcName указывает на модель в виде *.mb-файла, Ladder-Part определяет, является ли данная геометрия частью вертикальных лестниц. Другие параметры определяют воздействие геометрии на проходимость, видимость, даёт ли она укрытие и т.д.</td></tr><tr><td>
Animations	</td><td>Анимации объектов. SrcName указывает на анимацию в виде *.ma-файла. Здесь также определяется тип анимации, её скорость, совместимое оружие и другие параметры</td></tr><tr><td>
AnimWeapon	</td><td>Начальные пространственные параметры для каждой из поз, наличие возможности сдвига персонажа без потери прицеливания (strafe) и т.д.</td></tr><tr><td>
Cubemaps	</td><td>Карты наложения среды, позволяющие правильно накладывать отражение на объёмные предметы</td></tr><tr><td>
Debris	</td><td>Параметры осколков некоторых материалов (конечная стадия разрушения)</td></tr><tr><td>
DebrisMaterials</td><td>	Материалы для осколков (обломков)</td></tr><tr><td>
Geometries	</td><td>Геометрия различных объектов с указанием корневого узла (RootJoint из редактора Maya) и соответствующей AI геометрии</td></tr><tr><td>
Materials	</td><td>Текстуры различных материалов с учетом mapping'а</td></tr><tr><td>
Skeletons	</td><td>Параметры для экспорта скелетных моделей персонажей</td></tr><tr><td>
Textures	</td><td>Двумерные текстуры интерфейсов, шрифтов и др.</td></tr><tr><td>
Terr Tiles	</td><td>Блоки для раскраски ландшафта</td></tr><tr><td colspan="2">

<strong>Effects/Lights</strong></td></tr><tr><td>
Light	</td><td>Предопределённые настройки освещения для различных видеоадаптеров</td></tr><tr><td>
LightInstances	</td><td>Предопределённые настройки источников освещения (presets) с указанием их позиции</td></tr><tr><td>
LightAnim	</td><td>Анимированные источники освещения </td></tr><tr><td>
Effects	</td><td>Эффекты разрушения, взрывов, падающей листвы и т.д. Например, эффект взрыва может прикладываться к широкому кругу взрывающихся объектов</td></tr><tr><td>
Particles	</td><td>Параметры для экспорта эффектов, связанных с частицами</td></tr><tr><td colspan="2">

<strong>Misc</strong></td></tr><tr><td>
ComplexHeads	</td><td>Головы персонажей</td></tr><tr><td>
Containers	</td><td>Наборы из моделей, звуков, эффектов для каждой фазы разрушения объекта</td></tr><tr><td>
Doors	</td><td>Привязка открывающихся объектов к звукам открытия/закрытия.</td></tr><tr><td>
Grass	</td><td>Материал и текстура для травы</td></tr><tr><td>
Guns	</td><td>Стационарное оружие</td></tr><tr><td>
Models	</td><td>Модели объектов, персонажей, элементов интерфейса и др.</td></tr><tr><td>
Uniforms	</td><td>Параметры униформы, предметы, подвешиваемые на портупее (гранаты, сумки с боеприпасами и т.д.), определение использующихся моделей</td></tr><tr><td>
Difficulty	</td><td>Влияние сложности игры на появление предметов, определяет, при каком уровне сложности может появиться тот или иной предмет (Item). Значения: Empty, Easy, Normal и Hard. При Empty предмет выдаётся всегда, при других уровнях — предмет зависит от сложности, выбранной в начале игры.</td></tr><tr><td colspan="2">

<strong>Interfaces</strong></td></tr><tr><td>
Cursors	</td><td>Курсоры</td></tr><tr><td>
Fonts	</td><td>Шрифты для разных разрешений</td></tr><tr><td>
Interfaces	</td><td>Все игровые интерфейсы</td></tr><tr><td>
Strings</td><td>	Строки</td></tr><tr><td>
UItextures	</td><td>Привязка текстуры к определенному разрешению экрана</td></tr><tr><td colspan="2">

<strong>Zones</strong></td></tr><tr><td>
Constructor</td><td>	Элементы конструктора для строительства зданий</td></tr><tr><td>
Objects	</td><td>Объекты, использующиеся в темплейтах с соответствующими ссылками на контейнеры</td></tr><tr><td>
PassageObj	</td><td>Ссылки на объекты, являющиеся переходами на другие зоны</td></tr><tr><td>
Spots	</td><td>Плоские текстуры (пятна) для отделки ландшафта</td></tr><tr><td>
Templates	</td><td>Территория прямоугольной формы, которая может содержать набор объектов/строительных блоков, быть игровой зоной или её частью</td></tr><tr><td>
WaypointNames	</td><td>Список точек пути, используется для указания маршрутов персонажам.</td></tr><tr><td colspan="2">

<strong>Facegen</strong></td></tr><tr><td>
FaceExpressions	</td><td>Параметры выражения лица</td></tr><tr><td>
FaceGen glasses	</td><td>Ссылки на модели и текстуры для глаз различных персонажей, использующихся при генерации лиц</td></tr><tr><td>
FaceGen hair	</td><td>Ссылки на модели и текстуры для волос различных персонажей, использующихся при генерации лиц</td></tr><tr><td>
Heads	</td><td>Головы персонажей</td></tr><tr><td>
HeadSeqs	</td><td>Анимации для голов</td></tr><tr><td>
Race	</td><td>Четыре расы персонажей для генератора лиц</td></tr><tr><td colspan="2">

<strong>Music/Sound</strong></td></tr><tr><td>
Music	</td><td>Музыка *.wav формата с различными параметрами</td></tr><tr><td>
Rnd sound	</td><td>Множество различающихся между собой звуков для каждой из групп эффектов</td></tr><tr><td>
Sound	</td><td>Различные звуки/звуковые эффекты</td></tr><tr><td>
Sound Effects	</td><td>Специальные звуковые эффекты, использующиеся некоторыми объектами</td></tr></table>

<p>Названия объектов в списках представляют собой идентификаторы, по которым они определены в ресурсных файлах игры (это &laquo;внутренние&raquo; имена). Имена объектов, которые можно прочитать в игровом интерфейсе, берутся из свойства &laquo;имя объекта&raquo;; в некоторых случаях они могут совпадать.
</p>
<p>Рассмотрим более подробно закладку Templates, как наиболее важную. Она содержит отдельные темплейты, а также готовые карты игровых зон:</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td>
Buildings 	</td><td>Готовые строения</td></tr><tr><td>
Camps 	</td><td>Лагерь</td></tr><tr><td>
Chests </td><td>	Различные ящики</td></tr><tr><td>
DEMO	</td><td>Демонстрационные варианты</td></tr><tr><td>
Examples	</td><td>Примеры (однородные объекты, собранные для удобства выбора)</td></tr><tr><td>
Interface </td><td>	Интерфейс игры</td></tr><tr><td>
Missions 	</td><td>Карты основных игровых зон</td></tr><tr><td>
Mobs for RE 	</td><td>Персонажи противников для &laquo;случайных стычек&raquo;</td></tr><tr><td>
Mobs-Scenario 	</td><td>Сценарные персонажи противников</td></tr><tr><td>
Movies </td><td>	Элементы роликов</td></tr><tr><td>
Random Encounters (4) 	</td><td>Карты игровых зон &laquo;случайных стычек&raquo;</td></tr><tr><td>
Scenario 	</td><td>Сценарные темплейты и скрипты</td></tr><tr><td>
TerrainObjects </td><td>	Ландшафтные темплейты</td></tr><tr><td>
Tests	</td><td>Тестовые темплейты</td></tr><tr><td>
Deploy 	</td><td>Объект, указывающий место &laquo;высадки&raquo; персонажей при входе на игровую зону</td></tr></table>

<h3>Структура и свойства ресурсов в редакторе</h3>
<p>Все доступные ресурсы в редакторе сгруппированы по различным закладкам. Ресурсы внутри каждой закладки упорядочены в древовидную структуру по принципу тематической близости. Часть ресурсов может входить в состав других, более крупных ресурсов, часть непосредственно используется игрой.
</p>
<p>Любой ресурс имеет набор свойств, их также называют параметрами. В игровой БД существуют следующие виды параметров:
<ul>
	<li>	пустое поле (параметр задан, но значение не определено или отсутствует);</li>
	<li>	целое значение;</li>
	<li>	вещественное значение (десятичный разделитель — точка);</li>
	<li>	текстовая строка, выбранная из списка — например, класс объекта;</li>
	<li>	текстовая строка произвольного формата — например, имя персонажа;</li>
	<li>	ссылка на другой ресурс, находящийся в игровой БД.</li>
</ul></p>
<h2><a name="level8"></a>	Окно свойств объекта</h2>
<p><img src="img/properties.gif" width="280" height="270" hspace="5" vspace="5" border="0" align="right" alt="">Окно свойств выбранного объекта показывает список параметров, которыми описывается текущий выделенный объект. Оно состоит из двух колонок: Properties (Параметры) и Value (Значение). Часть параметров в списке может быть изменена, другая часть предопределена и не может меняться. Для изменения параметра нужно выделить соответствующую строку и нажать клавишу Enter, затем ввести в правой колонке новое значение и нажать Enter ещё раз. Кнопка в поле ввода параметра показывает, что данный параметр берётся из диалогового окна или списка. При нажатии кнопки открывается окно выбора — например, это может быть &laquo;дерево&raquo; со списком различных вариантов предмета или текстур, которые используются для отображения поверхности объекта:
</p>
<p>В данном окне можно изменить значение параметра (выбрать другой предмет или элемент списка), либо стереть значение (для этого служит кнопка &laquo;Set Empty&raquo;).
</p>
<p>Любой объект содержит набор параметров:
ID (Идентификатор) — уникальный номер, который присваивается объекту. Идентификатор состоит из двух чисел: номер собственно объекта и номер его варианта. Номер объекта используется в редакторе при ссылках на объект. Номер также удобно использовать для поиска объекта в разветвлённом дереве текущей закладки, для этого служит контекстное меню, вызываемое в пределах дерева по правой кнопке мыши. Номер темплейта, представляющего собой готовую карту, используется для загрузки карты в игре (см. раздел 3.10).
</p><p><img src="img/select_item.gif" width="618" height="510" border="0" alt=""></p>
<p>X, Y — текущие координаты объекта на карте в блоках, отсчёт на карте начинается с 0, 0 (у различных объектов координата может быть &laquo;привязана&raquo; или к центру модели, или к центру вращения, а в некоторых случаях может быть вынесена за пределы видимой части модели);</p>
<p>Rotation (Поворот) — величина поворота объекта вокруг оси в градусах; для строительных блоков и сплошных (solid) объектов допустимые значения — 0, 90, 180, 270.</p>

<p>Другие параметры определяются выбранным объектом, наборы возможных параметров весьма разнообразны. Они могут определять освещение, текстуру, боевые свойства, дипломатию и т.д. 
</p>
<p>При выделении на карте сразу нескольких объектов в окне свойств отображаются только те свойства, которыми одновременно обладают все выделенные объекты. Эти свойства можно менять одновременно. Если конкретное значение свойства у нескольких выделенных объектов не отображено (поле пустое), это значит, что у разных объектов оно не совпадает.
</p>
<p>Модификация параметров может осуществляться различными способами. Помимо окна выбора, рассмотренного выше, многие параметры можно вводить напрямую. Некоторые параметры имеют вид выпадающего списка (drop-down box), в котором вы можете выбрать нужное значение. Другие параметры можно изменить с помощью двойного щелчка мышью по полю значения. Часть параметров модифицируется &laquo;на месте&raquo;, некоторые выводят диалоговое окно с полем ввода. Обратите внимание, что все рациональные числа в &laquo;плавающем&raquo; формате необходимо вводить с десятичным разделителем-точкой, независимо от региональных настроек вашей операционной системы.
</p><h2><a name="level9"></a>	Окно слоёв</h2>
<p>Это окно управляет отображением в основном окне редактора различных слоёв, т.е. влияет на отображение и вид групп объектов, относящихся к этим слоям. В этом же окне задаётся текущий слой, с которым происходит работа в основном окне редактора.
</p>
<p><img src="img/layers.gif" width="280" height="320" hspace="5" vspace="5" border="0" align="right" alt="">В верхней части окна находится группа кнопок:
<ul>
	<li> вывод окна со списком слоёв;</li>
	<li> удаление слоя (только слоя &laquo;Трава&raquo;, Grass)</li>
	<li> перемещение текущего слоя вверх и вниз.</li>
</ul></p>

<p>Группа ключей Floor links позволяет связать несколько слоёв для выделения объектов, находящихся на разных уровнях, как целого (см. ниже).
</p>
<p>Список слоёв состоит из ряда строк по числу слоёв, ранее выбранных в окне списка. Строка каждого слой содержит поле выбора (checkbox), определяющее отображение слоя; поле, определяющее связь между слоями (Link); цвет заполнения для некоторых слоёв и название слоя.
</p>
<p>Например, при выборе слоя Units на карте будут отображаться все установленные персонажи, при отключении этого слоя персонажи выводиться не будут. Связь между слоями позволяет выбирать как целые объекты, относящиеся к разным классам или находящиеся на разных уровнях — например, длинные наклонные скаты крыш. Для обычных объектов и темплейтов эта связь не требуется.
</p>
<p>Для выбора текущего слоя можно щёлкнуть мышью по соответствующей строке и поставить галочку в левом поле. В редакторе предусмотрена работа со следующими слоями:</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td>Cellar	</td><td>Нижние уровни строений (подвалы и т.д.)</td></tr><tr><td>
Floors	</td><td>Полы этажей строений</td></tr><tr><td>
Grass	</td><td>Трава</td></tr><tr><td>
Height map	</td><td>Карта высот, позволяет редактировать рельеф местности</td></tr><tr><td>
Intermediate floors	</td><td>Полы на промежуточных уровнях (например, лестничные площадки)</td></tr><tr><td>
Intermediate solids	</td><td>Сплошные объекты на промежуточных уровнях</td></tr><tr><td>
Objects	</td><td>Отдельные объекты</td></tr><tr><td>
Rooms	</td><td>Комнаты</td></tr><tr><td>
Solids	</td><td>Сплошные объекты (каменные заборы и т.д.)</td></tr><tr><td>
Sub templates	</td><td>Субтемплейты (вложенные темплейты)</td></tr><tr><td>
Terrain color map	</td><td>Цветовая карта ландшафта</td></tr><tr><td>
Terrain holes	</td><td>Колодцы и шахты</td></tr><tr><td>
Terrain spots	</td><td>Пятна на ландшафте</td></tr><tr><td>
Texture	</td><td>Текстуры поверхностей</td></tr><tr><td>
Units	</td><td>Персонажи</td></tr><tr><td>
Walls	</td><td>Стены</td></tr></table>

<h2><a name="level10"></a>	 Окно выбора текстуры отделки</h2>
<p><img src="img/brushes.gif" width="270" height="182" hspace="5" vspace="5" border="0" align="right" alt="">Это окно выводится при выборе пункта Building brushes в меню View. Оно позволяет выбрать один из нескольких заданных видов текстуры для закраски поверхности строительных блоков (обычно стен). При желании любую текстуру можно переопределить. После этого можно воспользоваться &laquo;кистью&raquo; для закраски внешней и внутренней поверхности выбранной стены. Обратите внимание, что раскраска стены не влияет на её AI-свойства (пробиваемость пулей или снарядом, устойчивость к взрывной волне), которые определяются материалом стены, а не её отделкой.
</p>
			</div>	
		</td>
	</tr>	
</table>
<!--part3-->				
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Создание карты миссии</h1>	
				<p>Рассмотрим пример создания самостоятельной карты и некоторые приёмы редактирования, используемые в процессе работы. 
<h2><a name="level1"></a>	Общий замысел, определение размера карты</h2>
<p>Перед началом работы у вас должны быть продуманы основные идеи, т.е. сценарий событий, которые будут реализованы на карте, и создан её эскиз. Сценарий должен включать события, ограниченные по времени, максимум в пределах 2-3 часов. Не стремитесь создать миссию, требующую стратегических действий и рассчитанную на сутки и более: и персонажи, и сами игроки будут слишком утомлены. Используйте примерно такой масштаб операций, который есть в сюжетных миссиях игры. Имея сценарий и эскиз карты, можно приступать к её созданию в редакторе, предварительно вам следует ознакомиться с доступными ресурсами редактора, его интерфейсом и сделать несколько простых тестовых карт для получения навыка работы с объектами и темплейтами.
</p>
<p>Первое, с чего следует начать, — это создать базовый темплейт (т.е. темплейт, представляющий собой всю карту) и определить его параметры. Для создания нового темплейта необходимо в списке ресурсов Resource tabs... выбрать закладку Temlates и в нужной ветке дерева (папке) в контекстном меню, вызываемом по правой кнопке мыши, выбрать New Item..., задать размер карты и ввести её имя. Затем в свойствах созданного объекта следует определить такие основные поля, как DiplomacyID, ScriptID, и завести требующиеся практически всегда слои (layers) HeightMap и Floors. 
</p>
<p>Размеры и пропорции карты необходимо выбрать исходя из её наполнения, точнее, из её самых больших и трудно модифицируемых частей, определённых в сценарном замысле. Такой частью может быть, например, большое строение (дом, замок) или длинная дорога определённой формы. Основной темплейт должен полностью включать эту часть или части карты, в противном случае на определённом этапе работы вам придётся создать новую карту как темплейт большего размера и поместить всё сделанное там, что весьма нерационально. Совмещение разных темплейтов во многих случаях может создать определённые проблемы.
</p>
<p>Итак, для примера сделаем карту небольшого размера с ремонтной мастерской в Германии, на которой и будут происходить действия миссии. Эта мастерская расположена на огороженной забором территории в промышленном районе на окраине немецкого города. Мастерская имеет важное значение с точки зрения продукции, которая там производится или складируется, поэтому мастерскую хорошо охраняют. Охрана есть на самой территории, охраняются единственные ворота, ведущие внутрь, наконец, по периметру с внешней стороны забора ходит патруль. Наша задача — проникнуть на территорию мастерской, уничтожить охрану и найти хранящуюся там продукцию, по возможности избегая потерь среди гражданских лиц. Группа начинает миссию рядом с небольшой полосой возвышения, покрытой травой, которая отделена деревьями от главной дороги, ведущей к мастерской. Умелое использование этой полосы облегчит выполнение миссии.
</p>
<p><img src="img/sample_map_1.gif" width="300" height="259" hspace="5" vspace="5" border="0" align="right" alt="">Рассчитаем примерные размеры, этажность и некоторые другие параметры карты. Любой персонаж занимает 1 узел сетки и, соответственно, блокирует проходимость в коридоре здания шириной 2 блока (tiles), т.е. 1 строительный блок. Здания имеют обычно минимум один коридор и комнаты, которые шире в несколько раз. Отсюда ширина зданий обычно находится в интервале от 2 блока * 4 до 2 блока * 16.
</p>
<p>Наше здание представляет собой мастерскую, в которой могут размещаться автомобили. Кроме того, нам необходимо отобразить территорию, прилегающую к зданию. В промышленном районе территория используется достаточно активно, отдельные предприятия и мастерские плотно прилегают друг к другу, территории ограничены заборами — больших лесных массивов и сильно пересечённой местности здесь нет, есть лишь небольшие участки травы и отдельные деревья. Поэтому зададим размер карты ненамного больше, чем размер основного здания — 8х16 строительных блоков, т.е. 16x32 обычных блока.
</p>
<p>Количество этажей не должно быть большим по многим причинам. Одна из них — сложность игрового дизайна, другая — технические ограничения, диктуемые мощностью компьютера. В нашем случае остановимся на 2 этажах с чердаком. Это не противоречит нашему основному замыслу и вполне достаточно, чтобы реализовать как различные архитектурные замыслы, так и игровые возможности.</p>

<p>После создания основного темплейта можно перейти к размещению на нём объектов, т.е. к строительству.</p>
<h2><a name="level2"></a>Строительство здания</h2>
<p>При строительстве мы оперируем строительными элементами, которые по своим свойствам сильно отличаются от обычных объектов — растений, лежащих на земле предметов, мебели и т.д. Все строительные блоки автоматически выравниваются по сетке карты. Их разрушение происходит в соответствии с моделью взаимодействия строительных блоков и физического разрушения строений, которая реализована в игре.
</p>
<p>Отдельные объекты разрушаются по заранее предопределенным фазам, не имеют жёсткой связи друг с другом, зато их можно размещать почти произвольно.</p>

<p>Устойчивость конструкции здания определяется в каждом узле строительного блока. У объектов её можно определить по соприкосновению точек опоры (AI-сфер) с другими устойчивыми объектами или строительными блоками (снимок слева).</p>

<p> <img src="img/sample_map_9.gif" width="300" height="217" hspace="5" vspace="5" border="0" alt=""><img src="img/sample_map_10.gif" width="300" height="217" hspace="5" vspace="5" border="0" alt=""></p>
 


<p>Общую картину устойчивости строения можно посмотреть на правом снимке по комбинации LCtrl + B (см. &laquo;клавиатурные команды&raquo;). Яркие многогранники — это неустойчивые узлы. Наличие в конструкции строения неустойчивых узлов может привести к обрушению этой части строения сразу после входа на карту.</p>

<p>Строительство начинается с создания каркаса. В списке ресурсов необходимо найти строительные блоки из нужного материала, например, кирпича. Выбранный материал будет определять AI-свойства конструкции, т.е. пулепробиваемость и устойчивость к разрушению от взрывной волны. Внешний вид (облицовку) стен можно будет изменить позже. Выберите слой Walls (стены) и приступайте к строительству каркаса.</p>

<p><img src="img/sample_map_4.gif" width="300" height="260" hspace="5" vspace="5" border="0" align="right" alt="">При строительстве желательно учитывать историческую правдоподобность в архитектуре, например, для простых строений вроде ремонтной мастерской различные архитектурные &laquo;излишества&raquo; не очень уместны. В определённых местах необходимо установить строительные блоки с проёмами для размещения дверей и окон, которые будут установлены на следующем этапе.</p>

<p>После того как построен основной каркас здания, определены входы и выходы, можно приступать к строительству внутренних перекрытий. Полы обычно располагают на нижнем уровне соответствующего этажа. В некоторых случаях их можно размещать на высоте половины этажа в слое Intermediate floors — обычно это используется для создания лестничных пролётов между этажами или для реализации некоторых небольших подъемов внутри здания. </p>
<h2><a name="level3"></a>	Связанные зоны</h2>
<p>Связанные зоны представляют собой игровые зоны, между которыми можно перемещаться через специальные переходы (двери, лестницы, люки и т.д. , которые называются Passages). Для перехода из одной связанной зоны в другую вся группа должна собраться вокруг этого перехода. 
</p>
<p><img src="img/submap.gif" width="300" height="213" hspace="5" vspace="5" border="0" align="right" alt="">В качестве примера создания связанной зоны рассмотрим подземный уровень мастерской. Эта зона имеет два перехода. Лестница, выделенная на снимке, связывает подземный уровень с первым этажом мастерской. Боковая дверь-шлюз ведет в соседнюю комнату, которая представляет собой другую связанную зону.</p>

<p>Для построения всех подземных уровней задаётся начальный уровень 0, т.е. поверхность земли, поскольку высадка персонажей должна происходить на 0 уровень. Чтобы текстура земли не была видна, в поле ShowTerrain следует задать false. Таким образом, игрок будет видеть только внутренний вид помещений, окружённых чёрным фоном.</p>

<p>Боковые поверхности всех подземных сооружений (стены по периметру уровня, пол и потолок, если есть) необходимо делать из неразрушаемых материалов. Неразрушаемые блоки на закладке Construction Kit можно найти по названию ресурсов, они оканчивается на &laquo;ud&raquo;.</p>
<p>
Чтобы логически соединить связанные зоны, сначала необходимо в поле Template1... Template3 ресурсной закладки ScenrioZones указать темплейты, которые будут объединены в одну сценарную зону. В закладке PassageObj находится список объектов, которые игра считает переходами. Для установки одного из этих объектов на игровую зону нужно найти объект по ссылке поля ObjectID. Затем перейдите на закладку Objects и установите объект (например, лестницу или шлюзовую дверь) на карту.</p>
<p>После установки объектов (Passages) на каждый из связанных темплейтов нужно указать параметры переходов. Параметры PassageZoneID и PassageObjectID необходимо прописывать в свойствах (properties) объектов, поставленных на данную зону. Эти два параметра образуют уникальный в пределах всей сценарной зоны идентификатор перехода. Он должен быть одинаковым у обеих частей перехода.</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
<tr> <td width="20%">
PassageZoneID	</td><td>Первый идентификационный параметр перехода</td></tr><tr><td>
PassageObjectID	</td><td>Второй идентификационный параметр перехода</td></tr><tr><td>
APRadius	</td><td>Радиус в единицах AP, в котором должна находиться группа персонажей игрока, чтобы появилась возможность воспользоваться переходом </td></tr></table>
<h2><a name="level4"></a>	Внутреннее оформление зданий</h2>
<p>Внутреннее оформление — одна из наиболее важных частей дизайна зданий. Начинать его лучше с покраски (отделки) стен и полов. Окраску стен можно выбрать из различных вариантов текстур штукатурки, обоев и кафеля.</p>

<p><img src="img/wall.gif" width="110" height="174" hspace="5" vspace="5" border="0" align="right" alt="">Строительным блокам необходимо максимум 4 текстуры: текстура лицевой стороны (фасад), задней стороны (интерьер), торца и текстура разлома (для случая частичного повреждения строительного блока). Эти наборы и варианты текстур можно выбрать из списка ресурсов в окне выбора текстур отделки (Building brushes), нажав кнопку одного из вариантов.</p>

<p>Красить можно заранее созданными вариантами (наборами, presets) из 4 материалов или первым вариантом, который содержит только 1 материал. Первый набор позволяет закрашивать строительные блоки одной текстурой в зависимости от стороны, с которой она наносится. Это уменьшает вероятность ошибочной покраски разломов стен/полов, так как первый набор красит только видимые поверхности.</p>

<p>Различные по геометрии строительные элементы имеют различный mapping (отображение 3D-объекта в виде 2D-развертки для наложения текстур). Выбирать материалы для строительного элемента нужно в соответствии с его разверткой.</p>

<p><img src="img/wall_properties.gif" width="440" height="412"  border="0" align="" alt=""></p><p>Для примера рассмотрим объект Wall02con из ресурсной закладки Constructor (отсюда берутся объекты для слоёв Floors, Solids, Walls.) с ID={35,112}. Загрузив его, можно в поле properties посмотреть или изменить текстуры, накладывающиеся по умолчанию. Обратите внимание, что изменение параметров в свойствах этого ресурса повлияет на его вид на всех зонах, где данный ресурс использовался.
</p>
<ul>FirstGeomDefMaterial0 — материал лицевой стороны;<br>
FirstGeomDefMaterial1 — материал тыльной стороны;<br>
FirstGeomDefMaterial2 — материал торца;<br>
FirstGeomDefMaterial3 — материал разлома.</ul>

 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
 <tr><td width="10%"><img src="img/brush_tool.gif" width="22" height="22" border="0" alt=""></td><td>
Изменение параметров окраски для конкретного участка стены на игровой зоне в окне редактирования зданий производится кистью.</td></tr><tr><td>

 <img src="img/dropper_tool.gif" width="23" height="22" border="0" alt=""></td><td>
Пипеткой (Building brushes) удобно брать образец текстуры/набора текстур с других строительных блоков. Текстура или набор текстур будет сохранена в том варианте, который активен в данный момент.</td></tr></table>

<p><img src="img/wall1_material.gif" width="238" height="181" hspace="5" vspace="5" border="0" align="right" alt="">Щёлкнув мышью на слое Wall, выберем строительный блок Wall02con. Возьмём пипеткой все четыре материала во второй набор текстур (set). Выбрать активный набор можно в окне Building Brushes. Теперь, пройдя кистью по аналогичным строительным блокам, мы сможем заменить их материалы на значения из Set2.</p><br><br><br>

<p><img src="img/wall_material.gif" width="265" height="213" hspace="5" vspace="5" border="0" align="left" alt="">При нажатии кнопки напротив названия набора появится окно выбора материалов. </p>
<p><ul>Material 0: — материал лицевой стороны;<br>
Material 1: — материал тыльной стороны;<br>
Material 2: — материал торца;<br>
Material 3: — материал разлома.</ul>
Эти параметры действуют только в игровой зоне, где размещён строительный блок.</p><br><br>

<p>Некоторые строительные элементы имеют более сложный mapping, например камин Fireplace ID={651,1772} в том же ресурсе Construction.</p><p><img src="img/stove.gif" width="184" height="216" border="0" alt="" hspace="5" vspace="5"><img src="img/stove_material.gif" width="266" height="216" hspace="5" vspace="5" border="0" alt=""></p>
<p><ul>Material 0: — материал низа лицевой стороны;<br>
Material 1: — материал тыльной стороны (материал, использующийся для покраски стен);<br>
Material 2: — материал верха лицевой стороны;<br>
Material 3: — материал торца и разлома.</ul></p>

<p><img src="img/sample_map_5.gif" width="300" height="261" hspace="5" vspace="5" border="0" align="right" alt="">После подбора подходящих текстур и последующей покраски строительных блоков необхо-димо подобрать предметы внутренней обстановки здания. Выбирать их следует по многим параметрам — таким как размер, цвет, назначение и др. Также следует учитывать ограниче-ния, накладываемые выбранным регионом по историческому и культурному признаку. Не следует без веских причин использовать английские предметы (например, маркированные ящики) в немецких зонах и наоборот. С другой стороны, многие объекты (цветы, стулья) не имеют особой национальной принадлежности и могут размещаться практически в любой обстановке. </p>

<p>Учитывая большое количество объектов интерьера, существующих в игре, и постоянную необходимость у разработчика карты вести поиск объектов, наиболее подходящих для конкретного места, группы объектов можно собирать в одном темплейте и затем выбирать (копировать и ставить на карту) нужные. Этот темплейт обычно представляет собой плоский участок поверхности, где произвольно расставлены или разложены предметы, близкие по теме. В ресурсной закладке Template\Examples\ есть готовые темплейты с такими подборками. В них можно посмотреть тонкости использования групп объектов — как их лучше совмещать друг с другом, места их применения и т.д.</p>

<p>Расположение объектов интерьера должно учитывать места их размещения и использования в реальной жизни, а также исходить из действий, которые происходили или могли происходить ранее в этом месте. С помощью расстановки отдельных статичных объектов можно передать процесс, который хотя и не реализуется игровой механикой, но имеет определённый сюжетный смысл. Например, грузовой автомобиль и группа небольших объектов (ящиков) рядом, которые могут по габаритам в нём поместиться, наводят на мысль о процессе погрузки или разгрузки. А рабочие (нейтральные персонажи), стоящие поблизости, будут восприниматься как участники этого процесса. Что именно находится в ящиках и как они связаны с событиями миссии, сможет выяснить сам игрок.</p>

<p><img src="img/sample_map_7.gif" width="300" height="260" hspace="5" vspace="5" border="0" align="right" alt="">Следует особо проверить ограничения при расстановке используемых объектов (usable objects) — к ним относятся все открываемые двери, окна, ящики, шкафы и т.д. Практически все эти объекты имеют анимацию при активации — например, окна открывают створки, у ящиков поднимается крышка и т.д. Поэтому после установки такого объекта нужно посмотреть оба его состояния (двойным щелчком по объекту в режиме редактирования строений). Необходимо убедиться, что анимированный объект не задевает другие объекты, а также обеспечить нормальный подход к нему, чтобы персонаж мог его использовать. При установке дверей в смежные углы комнаты или коридора необходимо проверить, чтобы траектории открывания дверей не пересекались, иначе игровой AI будет считать такую комбинацию дверей непроходимой.</p>

<p>Некоторые двери и окна можно заминировать, установив гранату-ловушку (прописывается в свойствах объекта), то же можно сделать и с ящиками. Часть дверей можно закрыть на замок, это заставит персонажей игрока или использовать отмычки, или выбивать двери взрывом, что сразу привлекает внимание противника. </p>

<p>В конечном счёте у вас должно получиться здание, которое удовлетворяет всем требованиям и ограничениям, сформулированным на этапе составления эскиза карты.</p>
<h2><a name="level5"></a>	Проходимость</h2>
<p><img src="img/sample_map_6.gif" width="300" height="260" hspace="5" vspace="5" border="0" align="right" alt="">При перемещениях в игре персонажи отыскивают кратчайший путь, по которому можно добраться в указанную точку. От того, какие участки карты проходимы, а какие нет, зависит удобство перемещения игрока по уровню. Проходимость лучше учитывать на всех этапах разработки карты. При составлении эскиза целесообразно наметить основные линии проходов, при расстановке объектов на карте можно оценивать изменение проходимости по &laquo;коробкам&raquo; объектов (bounding boxes) и по занимаемым ими узлам.</p>

<p>Более точно контролировать проходимость на карте можно в игровом режиме, включив AI-геометрию (Ctrl+A) и, перебирая уровни (+ и — на цифровой клавиатуре), смотреть проходимость клавишей P. В игровом режиме можно увидеть места, где персонаж сможет пройти беспрепятственно, в каких узлах сетки он может находиться, и какие позы в этих местах могут быть реализованы. Если место, где по сценарному замыслу должен пройти персонаж, не обозначено узлом сетки, то оно не имеет проходимости и надо изменить расположение окружающих предметов. Обстановка в здании также должна также учитывать проходимость.
Особо следует отметить расстановку вертикальных лестниц. Они состоят из двух частей: из собственно объекта и AI-геометрии. Объект обеспечивает визуальную часть лестницы, AI-геометрия — функциональную. Чтобы создать AI-геометрию лестницы, необходимо вызвать контекстное меню в режиме редактирования строений и выбрать New Ladder. На карте в режиме AI-геометрии лестница должна быть отмечена как проходимая (слой проходимости может быть немного отодвинут от самого объекта).
</p>
<p>Обратите внимание на место входа персонажей на карту и проходимость вокруг этого места. Учтите, что в группе может быть до 6 персонажей (вместо 3, предлагаемых по умолчанию при тесте). Все 6 персонажей должны поместиться в окрестностях точки входа, не попав на непроходимые участки (островки) и не мешая друг другу. Особо проверьте место входа, если оно находится в подземелье или в узком коридоре: некоторые персонажи могут оказаться за пределами игровой зоны и управлять ими будет невозможно. При отладке проходимости в игровом режиме полезно использовать команду Ctrl+T для &laquo;телепортации&raquo; текущего персонажа в указанную мышью точку.</p>
<h2><a name="level6"></a>	Рельеф</h2>
<p>Редактор позволяет создавать рельеф различного вида и сложности. Наиболее доступный способ его создания — в основном окне редактора в 3D-виде. Необходимо выбрать слой HeightMap, затем в его диалоговом окне задать максимум и минимум возможной высоты на темплейте (от 0 до 10), после чего можно с помощью мыши начинать редактировать поверхность ландшафта (см. в описании интерфейса &laquo;Основное окно&raquo;, &laquo;Создание или изменение рельефа&raquo;). </p>

<p>Другая возможность — экспорт и импорт карты высот по градациям серого в *.bmp-файле через меню Map, Import heightmap. Максимальная высота эквивалентна белому цвету, а минимальная — чёрному.</p>

<p>Редактировать рельеф можно как в базовом темплейте (т.е. на готовой карте), так и в одном из субтемплейтов (вложенных темплейтов). В свойствах темплейта можно задать 3 типа наложения HeighMap: Add, Normal, Subtraction. Add — режим сложения высот текущего темплейта (субтемплейта) и темплейта, в который он будет установлен, Normal — режим установки абсолютных высот субтемплейта, Subtraction — режим вычитания высот, обратный сложению. Режим сложения используется наиболее часто. Выбрав в поле HMBlendType режим Add, задаём для рельефа режим сложения высот. Теперь этот темплейт можно устанавливать на любую ровную поверхность базового темплейта.</p>

 
 
<p><img src="img/height_map_2.gif" width="30" height="163" hspace="5" vspace="5" border="0" align="left" alt=""><img src="img/height_map_1.gif" width="82" height="163" hspace="5" vspace="5" border="0" align="right" alt="">На примере левая картинка представляет собой BMP-файл, отображающий карту высот для полосы возвышения, которая проходит вдоль дороги. Картинка справа показывает темплейт этой полосы в 3D-виде (включен &laquo;скелетный&raquo; режим и слой травы). Карта выполнена в градациях серого: минимальная высота соответствует чёрному цвету, максимальная — белому. Размеры картинки определяются так: по 1 точке на 1 блок (tile) на карте + по 1 дополнительному пикселу по сторонам X и Y. В примере слева для полосы размером 8х48 блоков требуется карта высот размером 9х49 точек (пикселов). После формирования полосы возвышения она целиком включается на карту как субтемплейт.</p>

<p>Рельеф также можно редактировать, включив режим подвалов выбором слоя Cellar. Это нужно для создания проходимости в подземной части строения. </p>
<p>Отдельная функция редактора — создание вертикальных колодцев (шахт) произвольной глубины по контекстному меню New Terrain Holes... в слое HeightMap. На данной карте это использовалось для вырезания земли под колодцем.</p>
<h2><a name="level7"></a>	Расстановка персонажей</h2>
<p><img src="img/Assault_Agent_Mod.gif" width="174" height="300" hspace="5" vspace="5" border="0" align="right" alt="">С технической точки зрения расстановка персонажей не отличается от расстановки объектов на карте. Она выполняется в зависимости от типа миссии и в соответствии с конкретными идеями по реализации интересного игрового процесса. Каждый персонаж должен принадлежать &laquo;игроку&raquo; с определённым номером, число номеров зависит от числа сторон, участвующих в миссии. Персонажи игрока всегда имеют номер 0, номера другим персонажам необходимо задавать вручную. Им можно присваивать любой номер от 1 до 15. Все персонажи с одним номером считаются одной стороной, которой можно прописать различные отношения с другими сторонами (diplomacy). Отношения между всеми сторонами сводятся в таблицу дипломатии, которую можно найти в ресурсной закладке Diplomacies и задать в свойствах темплейта через таблицу DiplomacyID. 
</p>
<p>Для персонажей предусмотрены следующие параметры:</p>
<strong>General</strong>
<p>MapID — принадлежность зоне с ID.<br>
SelectionX — координата X центра &laquo;ящика выделения&raquo;<br>
SelectionY — координата Y центра &laquo;ящика выделения&raquo;<br>
SelectionZ — координата Z центра &laquo;ящика выделения&raquo;</p>
<strong>Pers</strong>
<p>MonsterID — ссылка на конкретного персонажа из Pers<br>
Name — имя персонажа на игровой зоне, используется как идентификатор для скрипта (см. ниже).<br>
PosX — координата X в блоках (tiles)<br>
PosY — координата Y в блоках<br>
Floor — этаж, на котором находится персонаж<br>
Rotation — угол поворота относительно положения по умолчанию<br>
ClueSlot — true, если персонаж является уликой (clue)<br>
ClueInventorySlot — true, если в предметах этого персонажа может лежать улика<br>
Player — номер игрока для дипломатии<br>
RelativeLevel — уровень персонажа относительно игрока<br>
Group — имя группы на игровой зоне, к которой принадлежит персонаж. Используется для объединения нескольких персонажей в группу.<br> 
Pose — поза по умолчанию (Crawl, Crouch, Stand)<br>
Logic — логика по умолчанию (Fear, Guard, Roaming, Sentry )<br>
RoamingRadius — радиус возможного перемещения персонажа, измеряемый в AP.<br>
FearUseToHit — персонаж ищет укрытие<br>
GuardAnimation — для персонажа используется анимация стражника (Guard)</p>
<h2><a name="level8"></a>	Расстановка трофеев </h2>
<p>Расстановка или раскладка трофеев (loot) — оружия, боеприпасов, инженерных и медицинских предметов — обычно производится в ящики достаточного размера. На карте трофеи желательно размещать с постепенным ростом ценности по ходу выполнения миссии, самые лучшие трофеи оставить ближе к финалу. Часть ящиков можно закрыть на замок и/или заминировать, можно поставить поблизости персонажи противника — всё это определяется сценарным замыслом.</p>

<p>Можно также использовать готовые темплейты с вариантами (All Templates\Chests\...) и линейной раскладкой трофеев на 15 уровней. Эти раскладки составлены для сценарных миссий таким образом, чтобы для каждого уровня сложности карты получались трофеи, наиболее подходящие по балансу (разумеется, вы можете сделать собственные раскладки). Каждый вариант имеет определённую вероятность появления при загрузке игры, которая задается в поле RNDWeight. Значение в этом поле представляет собой вес данного варианта относительно других вариантов, в сумме все варианты темплейта дают 100%. Поэтому удобнее приписывать им такие значения, чтобы в сумме получилось 100. Затем в свойствах объекта (поле RPGChestID) можно указать, какой RPG ящик в него поместить. Сам трофей прописывается в RPG ящиках (закладка Chests) с помощью полей Items и Level. </p>
<h2><a name="level9"></a>	Отладка и трансляция модификации</h2>
<p>В процессе разработки карты, начиная с самых ранних стадий, полезно периодически проводить рабочие тесты, запуская карту в редакторе и проверяя вид местности, проходимость отдельных участков, а на следующих стадиях — этапы выполнения миссии в обстановке, приближенной к реальной. При запуске миссии в редакторе на стороне игрока используется стандартная группа из 3 человек со стандартным снаряжением. Если по логике от участников группы требуется оснащение более высокого класса — например, вы разрабатываете миссию ближе к финалу кампании, для теста можно выложить у точки входа ряд трофеев, которые группа будет подбирать и затем начинать миссию (позже, при отладке в реальных условиях кампании эти трофеи следует удалить). Аналогичный приём для выдачи группе начального снаряжения можно использовать, если вы создаёте отдельную миссию.</p>

<p>Параметры тестовых персонажей можно изменить с помощью скриптовых команд через консоль (полный список скриптов смотрите в Приложении 6). Для корректного теста уровень персонажей должен соответствовать уровню миссии. Например, чтобы дать главному герою 5 уровень, необходимо ввести в консоли одну из следующих команд (первая обращается непосредственно к главному герою, вторая адресована персонажу с номером 0 в группе, т.е. к крайнему левому персонажу на игровой панели, а это и есть главный герой):</p>

<p>@UnitSetXPLevel(GetHero(), 5)<br>
@UnitSetXPLevel(GroupGetUnit(GetParty(),0), 5)</p>

<p><strong>Примечание:</strong> знак &laquo;@&raquo; используется в консоли для ввода строк, содержащих скриптовые функции, чтобы отличать их от консольных команд. В скриптах, создаваемых в редакторе, этот знак не нужен. В скриптах, вводимых в консоли, нельзя записывать последовательность команд с переносом на следующую строку. В принципе в консоли можно объявлять переменные или функции, использовать циклы, операторы перехода и т.д., но все команды должны размещаться в пределах одной строки.
Персонажа можно также указать по имени, используя функцию GetUnit(name). Обратите внимание, что скриптовые имена могут не совпадать с именами в игровом интерфейсе.</p>

<p>@UnitSetXPLevel(GetUnit('fritz'), 4)</p>

<p>Если ваша модификация будет представлять собой отдельную миссию, начальные параметры членам группы лучше устанавливать этими же командами автоматически через скрипт, запускаемый при входе. С помощью скриптов вы также можете изменить состав группы по умолчанию.
</p>
<p>После отладки миссии с запуском игры через интерфейс редактора можно выполнить трансляцию её в ресурсы для самостоятельного подключения к игре. Используйте меню Tools, Build или соответствующую кнопку на основной панели инструментов. Трансляция занимает довольно значительное время, при этом запускаются внешние утилиты из каталога .\Tools, которые выводят информацию в консольных окнах. После успешной трансляции все окна должны быть закрыты без сообщений об ошибках.</p>

<p>Подключите модификацию к игре и выполните её тест, введя в окне консоли команду tem-plate #### (см. следующий раздел). После успешного теста можно запаковать все ресурсы, приложить описание по подключению миссии и передать другим желающим для игры.</p>
<h2><a name="level10"></a>	 Подключение модификации к игре</h2>
<p>После трансляции созданной модификации редактор создаёт в каталоге текущего профиля набор файлов, включающих все изменённые и добавленные данные. Прежде всего это файл game.db, описывающий структуру модификации, набор файлов *.res с ресурсами (имена и количество файлов зависит от вида изменённых ресурсов, при некоторых изменениях файлы *.res могут отсутствовать). 
</p>
<p>Обязательным компонентом модификации является текстовый файл с именем description.txt, который содержит строку с её названием (желательно не длиннее 30-35 символов). Эта строка будет выводиться в игре на экране подключения модификации. Файл description.txt необходимо создать вручную любым текстовым редактором в ANSI-формате. Перед тем, как придумать название, учтите, что латинские буквы смогут прочитать пользователи любых версий игры, а локализованный текст будет доступен только игрокам с такой же локализованной версией.</p>

<p>Набор файлов модификации можно переносить на любой компьютер с установленной игрой Операция Silent Storm: Часовые и подключать их в игровом интерфейсе; при этом не требуется наличия установленного редактора.</p>

<p>Чтобы модификацию можно было подключить к игре, необходимо записать все файлы модификации в каталог с некоторым (произвольным) именем, который создан в каталоге игры, например &lt;S3&gt;\My_Russian_mod. Для удобства имя каталога может совпадать с названием модификации, хотя это не обязательно. После запуска игра обнаружит модификацию по файлу description.txt, и её можно будет подключить через пункт &laquo;Custom game&raquo; в главном меню игры Операция Silent Storm: Часовые. Дальнейшие действия зависят от типа модификации.</p>

<h4>Подключение модификаций исходной игры и новых сюжетных линий</h4>
<p>Модификации, меняющие параметры исходной сюжетной игры, начинают работать автоматически, для их запуска можно просто начать новую игру. Если изменения были внесены в ту или иную миссию или карту, они появятся в случае, если вы первый раз входите в эту миссию (в противном случае вместо модификации будет загружена запись оригинальной сюжетной миссии). Если изменения были внесены в RPG-систему, они начнут проявляться сразу или по мере получения вами предметов (оружия, боеприпасов и т.д.) с изменёнными параметрами.
</p>
<p>Если модификация заменяет часть миссий в исходной игре или представляет собой новую сюжетную линию, для её запуска достаточно начать новую игру в соответствующей сюжетной линии (в зависимости от того, была ли включена в модификацию одна сторона-участница или обе).</p>

<h4>Подключение одиночных миссий</h4>
<p>Модификации, представляющие собой отдельную миссию, которые не заменяют сюжетные миссии в игре, недоступны напрямую из игрового интерфейса и требуют специальной команды для их подключения. Прежде всего, у вас должен быть разрешён доступ к консоли игры Операция Silent Storm: Часовые (по умолчанию вход в консоль отключен). Для этого в начало файла &lt;S3&gt;\cfg\autoexec.cfg необходимо добавить строку (выделена жирным):<br>
//<br>
<strong>wirbelwind</strong><br>
gfx_autodetect<br>
//<br>
После запуска игры следует открыть консоль клавишей &lt;`&gt; (или &laquo;тильда&raquo;). Если клавиша не задействована, добавьте в файл &lt;S3&gt;\cfg\input.cfg, в секцию Base строку (выделена жирным):<br>
...<br>
bind hqscreenshot 'RSHIFT' + 'SYSRQ'<br>
bind showfps	'SCROLL'<br>
<strong>bind console</strong>	'`'<br>
//</p>
<p>Для загрузки карты откройте окно консоли и наберите в нём следующую команду (вместо #### необходимо подставить номер карты — первое число в идентификаторе ID, который можно посмотреть в редакторе миссий):</p>

<p>template ####</p>

<p>- будет загружена карта (темплейт) с соответствующим номером. Например, для карты с номером темплейта 1000006, следует ввести команду template 1000006. Для выхода в главное меню воспользуйтесь игровым интерфейсом или используйте консольную команду mainmenu. Полный список консольных команд игры и их параметры можно получить, введя команду help (обращаем внимание, что поддержка по консольным функциям для конечных пользователей не предоставляется и за проблемы, связанные с ее использованием, разработчики отвечать не могут).</p>

<p>В миссиях, запущенных с помощью команды template ####, выбирать сторону, заходить на базу, набирать в группу других участников и менять снаряжение нельзя. Чтобы все перечисленные возможности стали доступны игроку, необходимо создать сюжетную последовательность миссий, которая образует самостоятельный сценарий. Этой теме посвящены следующие разделы Руководства.</p>

<p>При распространении созданных вами модификаций рекомендуем прилагать к ним краткое описание модификации и способ её подключения к игре. Такое описание поможет игрокам, которые не пользуются редактором и не знакомы с настоящим Руководством.</p>

				
			</div>	
		</td>
	</tr>	
</table>
<!--part4-->				
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Возможности редактора</h1>	
				<h2><a name="level1"></a>		Создание новых объектов</h2>
<p>Помимо операций с готовыми объектами и изменения их параметров, редактор позволяет выполнять импорт 2D- и 3D-объектов, а также звуковых файлов. Все операции импорта объектов выполняются одинаковым образом. Вначале нужно создать файл или несколько файлов с объектами в формате, пригодном для редактора, затем подобрать для нового объекта подходящую ветвь дерева или при необходимости создать новую ветвь, и создать новый объект (item, т.е. ресурс одного из типов, существующих в редакторе). Эти операции выполняются в окне списка ресурсов с помощью контекстного меню, которое вызывается при нажатии правой кнопки мыши на соответствующую ветвь ресурсного дерева.
</p>
<p><img src="img/new.gif" width="210" height="253" hspace="5" vspace="5" border="0" align="right" alt="">Пункт &laquo;New Folder..." позволяет создать новую ветвь (папку) на дереве, пункт &laquo;New Item...&raquo; — создать новый объект. При создании объекта выводится диалоговое окно, вид которого зависит от вида объекта. Например, при создании нового темплейта необходимо задать его длину, ширину и имя, а при вставке графического объекта или звука — открыть окно файловой системы и выбрать файл, который нужно импортировать (или экспортировать — с точки зрения объекта). Как и при создании профиля, настоятельно рекомендуется в именах использовать только латинские буквы и цифры без пробелов и знаков препинания.</p>

<p>Контекстное меню позволяет удалять и переименовывать ветви и объекты, а также копировать их имена. Здесь же можно задать цвет, которым будет выводиться имя в дереве, цвет служит только для удобства маркировки и не имеет заранее заданного смысла. Поиск объектов в пределах дерева (Ctrl+F) можно выполнять или по номеру, или по варианту.</p>

<p>Вновь созданному ресурсу автоматически присваивается уникальный номер (ID), по которому на него можно ссылаться, номер удобно использовать для поиска. После этого необходимо выполнить импорт объекта: в окне файловой системы, которое открывается при выборе источника в списке свойств нужно найти на диске соответствующий ресурс, тогда редактор выполнит импорт и поместит новый ресурс в один из каталогов пользовательского профиля, создав в нём соответствующий файл. С этого момента ресурс доступен для использования в редакторе, его можно вывести в основное окно (посмотреть графический объект, прочитать текст, прослушать звук), сделать на него ссылку и т.д. Для многих ресурсов необходимо задать обязательные параметры, для справки смотрите параметры, которые есть у ресурсов аналогичного типа, существующих в БД игры. Сложные объекты могут иметь большое количество ссылок на другие ресурсы, все их необходимо заполнить. Например, у 3D-объектов есть геометрия (модель), текстуры поверхностей для различных вариантов объектов, AI-геометрия, AI-материал и т.д.</p>

<p>Наиболее удобно импортировать новые объекты при помощи мастеров (Wizards), которые вызываются через пункт Tools в главном меню. Мастер выводит ряд диалоговых экранов, в которых нужно отметить необходимые поля. В первом экране мастера ввода нового объекта следует выбрать папку дерева, где нужно будет разместить объект, и указать число стадий разрушения. В следующем экране следует выбрать файлы-источники данных для объектов и указать корневой узел RootJoin для основной и AI-геометрии. Последний экран определяет свойства материалов объекта. Более подробно параметры объектов описаны дальше в этом разделе.</p>
<h2><a name="level2"></a>		Текстовые ресурсы</h2>
<p>Все текстовые ресурсы, которые выводятся в интерфейсе игры, собраны на закладке Strings. Они разбиты на несколько групп, в том числе: субтитры для реплик персонажей, их биографии, тексты диалогов; интерфейсные надписи, названия и описания объектов, строки и тексты заданий и подзаданий, сценарные тексты, выводимые при получении улик и т.д. Создавать новые текстовые ресурсы нужно в соответствующих ветвях ресурсного дерева.
</p>
<p>Часть интерфейсных строк содержится вместе с HTML-описателями (дескрипторами), описывающими размер и цвет шрифта, а также расположение строк внутри текстовой области. Эти описатели должны сохраняться при изменении текстов или при создании новых текстовых ресурсов по способу копирования существующих. Менять описатели без особой необходимости не рекомендуется. В некоторых случаях можно менять размер шрифта (в ограниченных пределах), например, если надпись плохо &laquo;вписывается&raquo; в соответствующее место интерфейса. Учтите, что шрифты в игре сделаны в виде текстур фиксированного размера, которые в отличие от TTF-шрифтов не могут произвольно менять масштаб. При изменении размера шрифта игровая платформа выберет одну из существующих текстур, наиболее близкую по размеру. Имена шрифтов и их размеры можно посмотреть на закладке Fonts.</p>

<p>Окно, в котором выводятся текстовые строки, не предоставляет больших удобств по вводу и редактированию строк, и использовать его для работы над текстами, кроме мелких правок, нецелесообразно. Основная работа по созданию и правке текстов должна выполняться в соответствующих программах, после чего готовый текст переносится в редактор с помощью копирования и вставки. Текстовые абзацы представляют собой длинную строку, не содержащую символов переноса строки. При выводе абзаца в игровом интерфейсе игровая платформа самостоятельно разделяет слова по строкам. Для принудительного переноса строк и создания новых абзацев следует использовать описатель <br>. Список элементов языка HTML, поддерживаемых игровой платформой, и шрифтов приводится в Приложении 5.</p>

<p>Обратите внимание, чтобы в текстах, которые готовятся в обычном редакторе (MS Word и т.д.), был отключен перенос слов по слогам, иначе эти символы перейдут в игровые тексты.</p>
<h2><a name="level3"></a>		Импорт звуковых файлов</h2>
<p>Игра поддерживает несколько типов звукового сопровождения — фоновую музыку и звуки окружающей среды (ambience), реплики персонажей (диалоговые фразы, acknowledgment'ы), звуковые эффекты (SFX). Редактор позволяет менять существующее звуковое сопровождение своим или включать новые звуковые файлы. В игре есть достаточно большая подборка звуковых эффектов (особенно звуков стрельбы и эффектов взрыва), поэтому прежде чем добавлять свой эффект, посмотрите, найдётся ли среди ресурсов что-то подходящее. Звуки можно проигрывать в интерфейсе редактора двойным щелчком по иконке ресурса в ресурсном дереве.
</p>
<p>Все звуковые эффекты (однократные и циклические) записываются в формате *.wav с частотой 44 кГц, моно. Однократные эффекты должны быть созданы с помощью кодировки Microsoft ADPCM, циклические - Microsoft PCM. 
</p>
<p>Игра воспроизводит музыкальное сопровождение и речь в формате Ogg Vorbis. Музыку, записанную в исходном формате *.wav, 44 кГц стерео, нужно преобразовать с пределом скорости потока (bitrate) 128 кбит/с. Скорость потока речи, записанной в формате 44 кГц моно, должна быть 96 кбит/с. Все файлы *.ogg требуется переименовать в расширение *.wav непосредственно перед операцией импорта в редакторе. Конверторы, необходимые для преобразования, можно загрузить на странице проекта Ogg Vorbis по адресу: http://www.vorbis.com/download.psp
</p>
<p>Все звуки размещаются в группе ресурсных закладок Music/Sound, при импорте звука выберите тематически соответствующую ему ресурсную закладку и создайте новый ресурс (item). Затем в его свойствах найдите расположение файла-источника и выполните импорт, далее укажите параметр Cycled для &laquo;зацикленных&raquo; звуков (например, эффекты окружающей среды) и оставьте Non cycled для всех остальных звуков.</p>

<p>Звуковые эффекты как часть более общих эффектов подключаются к эффектам, которые они озвучивают — например, выстрелы или взрывы. Музыка и звуки окружающей среды определяются в свойствах миссии. Подключение речи персонажей сложнее: необходимо связать звук (Sound), анимацию речи (HeadSeq) и текст, выводящийся в субтитрах диалогов или на игровом экране (Strings). Эти параметры находятся на ресурсной закладке AckInfo.</p>
<h2><a name="level4"></a>		Импорт 2D-графики</h2>
<p>Плоское изображение (2D-текстура) должно быть создано в формате TGA или DXT (формат DirectX). При импорте изображения в редакторе следует определить следующие параметры.</p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
 <tr><td width="20%" colspan="2">
<strong>Type</strong> — способ преобразования картинки:</td></tr><tr><td>
ordinary	</td><td>ввести &laquo;как есть&raquo;, без изменений</td></tr><tr><td>
bump	</td><td>конвертировать карту высот в карту нормалей</td></tr><tr><td>
transparent	</td><td>этот параметр нужно использовать для текстур прозрачных материалов и частиц (premultiplied alpha)</td></tr><tr><td>
transparentAdd	</td><td>то же, что и transparent, но при использовании этого параметра прозрачная текстура будет накладываться по add, а не по альфе</td></tr><tr><td colspan="2">

<strong>StorageType</strong> — где будет размещаться текстура:</td></tr><tr><td>
ordinary	</td><td>обычная текстура, хранится в ресурсах на диске до обращения к ней</td></tr><tr><td>
2D	</td><td>текстура будет помещена в кеш 2D-текстур (используется только для интерфейсных текстур для ускорения отображения)</td></tr></table>

<p><strong>Format</strong> — формат, в который будет преобразована текстура. 2D-текстуры и частицы (parti-cles) должны быть обязательно в формате 8888 (R-G-B-A), остальные по выбору, причём формат dxt предпочтительнее.
</p><p><strong>AddrType</strong> — clamp/wrap. Этот параметр влияет на расчет mip-уровней, должен совпадать с типом использования в материале для получения оптимального качества изображения.
</p>
<p><strong>NMips</strong> — количество mip-уровней: 0 — все уровни, 1 — один уровень и т.д.</p>
<p><strong>MappingSize/BumpGain</strong> — параметры, влияющие на конвертацию карты высот в bump: mapping size — &laquo;размер текстуры&raquo;, bumpgain — её &laquo;высота&raquo;.</p>

<p><strong>Width, Height, AverageColor</strong> — эти поля заполняются автоматически при выборе файла.</p>

<p><strong>InstantLoad</strong> — прямая загрузка. Если флажок установлен в 1, для этой текстуры не будет использован механизм отложенной загрузки. В большинстве случаев использовать нежелательно, чтобы исключить задержку при загрузке текстуры.</p>
<h2><a name="level5"></a>	Создание 3D-объектов</h2>
<p>3D-объекты — основной вид объектов, используемых на картах. Большинство 3D-объектов в игре создано с помощью редактора Maya. Для работы с Maya предполагается соответствующая подготовка, поэтому о создании3D-объектов мы не рассказываем. В комплект редактора включены дополнения (plugins) и скрипты для Maya версий 4.0, 4.5 и 5.0 — они служат для экспорта 3D-объектов и анимаций. В комплект также входят примеры различных объектов, которые можно использовать как образцы при разработке в Maya собственных объектов, эти примеры можно использовать на своих картах.</p>

<p>Для экспорта 3D-объектов необходимо, чтобы редактор Maya был установлен на том же компьютере, что и редактор Silent Storm, поскольку при экспорте происходит запуск некоторых компонентов Maya. При совместной работе над проектом в локальной сети это условие упрощается, достаточно иметь Maya только у художников.</p>

<p>3D-объекты включают набор составных частей, взаимосвязь между которыми в наиболее общем виде изображена на схеме:
</p>
<p> <img src="img/objects.gif" width="650" height="456" border="0" alt=""></p>

<p>Doors (двери), Guns (оружие), PassageObj (лестницы, люки, ворота), Constructor (строительные блоки) — это примеры различных 3D-объектов. Doors и PassageObj или RPG-объекты — более сложные объекты по сравнению с &laquo;элементарными&raquo; объектами, поскольку они имеют дополнительную функциональность. Для лучшего понимания свойств и частей объектов приводим их классификацию.
</p>
<p><em>Строительные объекты </em>представляют собой блоки определённой формы из строительных материалов (дерева, кирпича, камня и т.д.). Их RPG-свойства определяются свойствами материала, который выбирается отдельно при строительстве здания. У стенных блоков должна быть определена &laquo;внешняя&raquo; и &laquo;внутренняя&raquo; текстура (текстуры отделки), у всех блоков — текстура боковых поверхностей и текстура разлома. Специальных фаз разрушения строительные блоки не имеют, их разрушение и эффекты определяются игровой механикой.
</p>
<p><em>Двери</em> представляют собой объекты, которые могут поворачиваться или сдвигаться. В отличие от строительных блоков, у дверей есть фазы разрушения, которые должны быть включены в набор составных частей объекта. Между фазами разрушения должны быть соответствующие визуальные и акустические эффекты (анимации разлетающихся досок, деформация металла и т.д.). Последняя фаза (стадия) разрушения соответствует выбитой двери, т.е. её отсутствию. Двери могут быть закрыты на замок и заминированы.
</p>
<p><em>Ящики как RPG-объекты</em> — это прямоугольные коробки с открывающейся крышкой или передней стенкой (в игре также есть закрытые ящики, разновидность мебели). У ящиков предусмотрена внешняя в внутренняя текстура. Изменением внешней текстуры легко поменять принадлежность ящика той или иной стороне-участнице. Как и двери, ящики имеют фазы разрушения, могут быть закрыты на замок и/или заминированы. У ящиков могут быть определены внутренние &laquo;полки&raquo; или уровни, на которых размещаются различные предметы, при отсутствии полок предметы кладутся на дно ящика.</p>
<p>
Сейфы по своим параметрам похожи на ящики, но стадий разрушения у них нет.</p>

<p><em>Оружие</em> в игре не разрушается, его текстура всегда постоянна. Боеприпасы к стрелковому оружию также не разрушаются. Гранаты и мины стадий разрушения не имеют, у них есть только исходное состояние и эффект от взрыва (вспышка и грохот).</p>

<p><em>Растения</em> (деревья и кустарники) разрушаются по стадиям, визуальный эффект разрушения обычно состоит из падающих листьев и обломков древесины.</p>

<p>Разнообразные <em>местные предметы</em>, как на улице, так и внутри помещения, имеют соответствующую геометрию, текстуру, стадии разрушения с визуальными и акустическими эффектами. Отдельная подгруппа объектов включает взрывоопасные предметы — бочки с воспламеняющимися веществами, газовые баллоны, химические ёмкости, ящики с тротилом и т.д. Как правило, такие объекты имеют исходное состояние и конечную стадию разрушения, а также содержат эффекты взрыва.
</p>
<p>В &laquo;статическом&raquo; виде все 3D-объекты состоят из полигонального каркаса и текстуры, натянутой на этот каркас. Используемые объекты (usable objects) с движущимися частями (двери, ящики, шлагбаумы) имеют анимацию открытия/закрытия. Скелетные модели, к которым относятся персонажи, включают более сложные анимации (все стандартные движения персонажей реализованы в игровой платформе; специально анимировать требуется лишь сложные нестандартные движения). Обратите внимание, что головы персонажей не включены в модели из-за того, что форма головы и анимация мимики реализована в игре отдельным механизмом. Однако в редакторе возможен импорт текстуры для головы.</p>

<p>Для большинства разрушаемых объектов есть понятие &laquo;AI-геометрия&raquo; (AI geometry). Это упрощённая геометрическая схема объекта, используемая при расчёте взаимодействия пули, снаряда или взрывной волны с препятствием (использование реальной геометрии чрезмерно усложнило бы расчёты). На снимках в верхнем ряду изображены различные стадии разрушения скамейки, которая есть среди примеров, прилагаемых к редактору (Object.mb). В следующих рядах снимков можно видеть обычную и AI-геометрию (без текстур). Розовые сферы показывают точки опоры скамейки (AI-сферы), потеря половины опор и более ведёт к разрушению объекта.</p>
<table width="600" border="0" cellspacing="0" cellpadding="0">
<tr><td><img src="img/sample_object.gif" width="100" height="83" border="0" alt="">
</td><td><img src="img/sample_object1.gif" width="100" height="83" border="0" alt="">
</td><td><img src="img/sample_object2.gif" width="100" height="83" border="0" alt="">
</td><td><img src="img/sample_object3.gif" width="100" height="83" border="0" alt="">
</td><td><img src="img/sample_object4.gif" width="100" height="83" border="0" alt=""></td></tr>
<tr><td><img src="img/Geometry_WaitingBench.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/Geometry_WaitingBench_Crash.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/Geometry_WaitingBench_4Cras.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/Geometry_WaitingBench_3Cras.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/Geometry_WaitingBench_1Cras.gif" width="100" height="90" border="0" alt="">
</td></tr>
<tr><td><img src="img/AIGeometry_WaitingBench.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/AIGeometry_WaitingBench_01C.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/AIGeometry_WaitingBench_2Cr.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/AIGeometry_WaitingBench_3Cr.gif" width="100" height="90" border="0" alt="">
</td><td><img src="img/AIGeometry_WaitingBench_4Cr.gif" width="100" height="90" border="0" alt="">
</td></tr>
</table>
<p>Объекты могут иметь различные варианты, как правило, для этого достаточно изменить текстуру или форму объекта. Совокупность свойств объекта образует контейнер. В контейнер входят модель объекта, текстура, стадии разрушения (если они есть), AI-геометрия, различные виды освещения, а также визуальные и звуковые эффекты разрушения. Материалы обломков и RPG-свойства объектов не входят в контейнер, их можно выбирать отдельно.</p>

<p>При создании объектов в редакторе Maya необходимо воспроизвести все стадии разрушения для видимой геометрии и для AI-геометрии. Для экспорта 3D-объектов из Maya должны быть подключены дополнения (plugins) и скрипты, в противном случае вы будете видеть в окне консоли ошибки типа Invalid file type specified и выполнить экспорт не удастся (предупреждения о несоответствии версий объекта и редактора можно игнорировать). Некоторые скрипты используются напрямую при работе в Maya, например, установку AI-сфер в местах опор удобно выполнять скриптом.</p>

<p>При включении в ресурсы нового 3D-объекта используется несколько ресурсных закладок. Objects &laquo;собирает&raquo; объект, ссылаясь на контейнер (контейнеры), Containers содержит ссылки на 3D-модели и AI-геометрию с учётом различных стадий разрушения и соответствующих анимаций. Собственно сами модели, AI-геометрия и эффекты разрушения находятся на закладках Models, AIGeometries, Effects, Sound или Rnd sound, в этих закладках и выполняется импорт составных частей объекта в ресурсы (обратите внимание, что в контекстном меню для этого служит пункт Export). В числе параметров моделей и AI-геометрии необходимо задавать корневые узлы (Root Joints), которые служат для отсчёта центра модели, изначально их имена определяются в Maya. Например, для моделей скамейки имя корневого узла — WaitingBench, имя узла для AI-моделей этой же скамейки — WaitingBench_AI.
</p>
<p>В общем случае перед импортом нового объекта рекомендуется посмотреть, как устроены аналогичные объекты в редакторе, какой у них список параметров, какие ссылки на другие ресурсы, на каких закладках и в каких ветвях дерева они находятся. Эти данные можно использовать как прототип при импорте своего объекта.</p>

<p>Головы персонажей в игре выполнены в редакторе LifeStudio:HEAD <a href="http://www.lifemi.com">http://www.lifemi.com</a>. Эта программа не очень распространена и используется преимущественно профессиональными разработчиками игр. Поэтому для модификации голов рекомендуем использовать готовые модели и анимации (см. закладки Heads и ComplexHeads), наложив на них свою текстуру. Образец текстуры головы есть среди файлов, прилагаемых в качестве примеров</p>.
<h2><a name="level6"></a>		Скрипты</a></h2>
<p>Скрипт — это набор функций, связанных логическими операторами, который по существу представляет собой программу. В игре Silent Storm используется скриптовый язык LUA (см. список функций в Приложении 6). Описание языка LUA и различные руководства по нему можно найти в сети Интернет по адресу <a href="http://www.lua.org">http://www.lua.org</a></p>

<p>Игровая платформа поддерживает достаточно большое количество готовых функций. Часть из них используется для управления персонажами в скриптовых роликах, для изменения поведения и параметров отдельных персонажей, для общего изменения логики в процессе прохождения миссии, проигрывания видео- и аудиоэффектов и т.д. Другие функции нужны для проверок различных параметров, состояний и событий в ходе игре — от факта выполнения отдельных заданий до проверки предметов, подобранных игроком.</p>

<p>Чтобы вызвать прописанный к миссии скрипт, после загрузки нужного базового темплейта следует нажать Ctrl+S. В открывшемся окне можно создавать и редактировать скрипт, который автоматически сохраняется после закрытия окна. </p>

<p>Структура скрипта описывается следующим образом.</p>
<ul><em>1.	Описание параметров.</em> —- Declaration Var<br>
Здесь обычно выставляются стартовые значения для глобальных переменных. Описываются группы персонажей, камеры, так как напрямую обратиться к ним можно лишь через ID. <br>
<em>2.	Описание функций.</em> —- Declaration Func<br>
Определение в теле скрипта необходимо для всех новых, ещё не описанных функций.
При использовании циклов с проверками следует в конце цикла вставлять паузу хотя бы в 20 сегментов, т.е. 1 секунду (1 сегмент — это временной интервал порядка 0,05 с). <br>
<em>3.	Вызов функций</em> —- Main Script<br>
Функции выполняются последовательно друг за другом, т.е. пока не выполнится предыдущая функция, следующая не выполняется. При необходимости их можно запускать параллельно с помощью команды StartThread( function, a, b, c, d ). Обычно это требуется для функций, выполняющихся продолжительное время.<br>
Если вызывается скриптовая функция, относящаяся к персонажу, настоятельно рекомендуется предварительно отменить текущее действие персонажа командой UnitCance-lAction(unit).</ul>

<p>Cкрипт к темплейту 1000006</p>
<p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>-- Declaration Var</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>OpenShutters = false              -- sets the initial value for the OpenShutters
      variable </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>SwitchON = false           -- sets the value for the global SwitchON variable </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>Group1 = GetGroup( 2 )            -- associates the variable to the group with
      ID=2 </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>Switch = &quot;Switch&quot;</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>function SwitchCheck()            -- function that launches ShuttersOpen()
      in case of use of the Switch object.</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       SwitchON = ObjectIsOpened( GetObject( Switch ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       while true do</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             if SwitchON ~= ObjectIsOpened( GetObject( Switch ) ) then</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>                    SwitchON = ObjectIsOpened( GetObject( Switch ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>                    ShuttersOpen()</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             Sleep( 40 )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>function ShuttersOpen()    -- function that opens the gate shutters if they
      are closed or closes them if they are open. </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       if ObjectIsOpened( GetObject( &quot;Shutter1&quot; ) ) and ObjectIsOpened(
      GetObject( &quot;Shutter2&quot; ) ) then </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             OpenShutters = true</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       if not ( ObjectIsOpened( GetObject( &quot;Shutter1&quot; ) ) ) and </span></p> 
  <p><span
lang=EN-US style='font-size:8.0pt;font-family:"Courier New";'>not( ObjectIsOpened(
      GetObject( &quot;Shutter2&quot; ) ) ) </span></p> 
  <p><span
lang=EN-US style='font-size:8.0pt;font-family:"Courier New";'>then </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             OpenShutters = false</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       if OpenShutters then </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             ObjectClose( GetObject( &quot;Shutter2&quot; ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             Sleep( random( 20 ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             ObjectClose( GetObject( &quot;Shutter1&quot; ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             out( &quot;Close&quot; )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             OpenShutters = false</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       else</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             ObjectOpen( GetObject( &quot;Shutter1&quot; ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             Sleep( random( 20 ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             ObjectOpen( GetObject( &quot;Shutter2&quot; ) )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             out( &quot;Open&quot; )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>             OpenShutters = true</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>function SetPatrolRoute()  -- function that specifies the route of the “Group1”
      group</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       local route = CreateRoute( &quot;w1&quot;, &quot;w2&quot;, &quot;w3&quot;, &quot;w4&quot; )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       GroupSetRoute( Group1, route, true )</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>end</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>--Main script</span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       Floor( 4 )          -- specifies the highest screened storey </span></p> 
  <p><span lang=EN-US style='font-size:8.0pt;font-family:"Courier New";
'>       SetPatrolRoute</span><span
style='font-size:8.0pt;font-family:"Courier New"'>() </span></p> 
  <p><span style='font-size:8.0pt;font-family:"Courier New"'>       </span><span lang=EN-US style='font-size:
8.0pt;font-family:"Courier New";'>SwitchCheck</span><span
style='font-size:8.0pt;font-family:"Courier New"'>()</span></p> 


			</div>	
		</td>
	</tr>	
</table>
<!--part5-->				
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Создание сценария</h1>	
				<p> В S3 механизм, обеспечивающий продвижение по сценарию, реализован с использованием функций скриптового языка. Они обеспечивают открытие миссий для игрока, завершение миссий, переход от одного блока миссий к другому и т.п. </p>
<p> Для создания полноценного сценария следует создать структуру, которая включает в себя все составляющие сценария. </p>

<p> При встраивании собственной миссии в уже существующую сценарную игру большая часть сценарной структуры уже существует и поэтому остается только указать место новой миссии в этой структуре. </p>
<p> В текущей версии игры скрипт, обеспечивающий продвижение по сюжету, запускается на базе, на которую герой попадает после выполнения вводной миссии. При создании самостоятельного сценария рекомендуется детально ознакомиться с этим скриптом. Наличие зоны аналогичной базе облегчает создание механизма продвижения по сюжету. В принципе возможен перенос функциональности базы внутрь сюжетных миссий. Для этого полезно воспользоваться следующими скриптовыми функциями: </p>

<p> CheckScenarioBlockJustComplete ( nBlockOrder ) </p>
<p> CompleteAllBlocksBefore ( BlockOrder ) </p>
<p> GetNextBlockOrder </p>
<p> IsMissionTaken </p>
<p> IsReadyForNextBlock </p>
<p> IsScenarioBlockCompleteNumAvailableMissions() </p>
<p> NumMissionInBlock </p>
<p> ScenarioAddVisibleZone ( zoneName ) </p>
<p> TakeMission () </p>
<h2> <a name="level1"></a>	Сценарные ресурсы</h2>

<p><strong> Scenario</strong> — сценарий. Он служит вершиной иерархии, которая содержит все необходимое для организации набора миссий в сюжет, содержит ссылку на название, описание и список сценарных блоков. </p>
<p> При вызове этой ссылки список сценарных блоков выводится в отдельном окне редактора. </p>
<p><strong> Сценарные блоки</strong> – это набор из нескольких миссий, из которых определенное количество должно быть выполнено, прежде чем игрок получит доступ к миссиям следующего блока. В пределах одного блока миссии могут выполняться в любом порядке. Для того чтобы создать более линейный сценарий – цепочку миссий – нужно создать набор блоков, содержащих одну миссию. </p>
<p> Для создания нового блока в списке воспользуйтесь пунктом New Item контекстного меню. </p>
<p> Опиание блока состоит из номера блока, который определяет положение блока в цепочке, количества миссий, которые нужно выполнить для того чтобы завершить блок, и ссылки на список миссий,составляющих этот блок. При вызове этой ссылки список миссий блока открывается в отдельном окне редактора. </p>

<p><strong> Сценарные миссии - </strong> это игровые зоны с установленными для них параметрами, которые позволяют использовать эти карты в качестве части сценария. </p>
<p> Параметры отображаются при выборе миссии в списке. </p>
 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="157" valign="top"><p> JournalRecordID </p></td>
    <td width="500" valign="top"><p> Ссылка на запись в журнале героя, которая выведется по окончании миссии </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> SmallDescription </p></td>
    <td width="500" valign="top"><p> Код миссии, для обращения к ней из консоли и скриптов. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Description </p></td>
    <td width="500" valign="top"><p> Трава </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Item Slots </p></td>
    <td width="500" valign="top"><p> Не используется </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Person Slots </p></td>
    <td width="500" valign="top"><p> Не используется </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> CluesMaxNumber </p></td>
    <td width="500" valign="top"><p> Не используется </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> TimeOfday </p></td>
    <td width="500" valign="top"><p> Время суток на зоне </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> ReparationForCivs </p></td>
    <td width="500" valign="top"><p> Размер штрафа за гибель одного гражданского лица на этой зоне. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Reward </p></td>
    <td width="500" valign="top"><p> Размер денежного вознаграждения за выполнение основного задания. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> MobsLevel </p></td>
    <td width="500" valign="top"><p> Уровень врагов </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> CanPKBeUsed </p></td>
    <td width="500" valign="top"><p> Можно ли использовать на зоне бронекостюмы. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Goals </p></td>
    <td width="500" valign="top"><p> Ссылка на список заданий на зоне. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Templates </p></td>
    <td width="500" valign="top"><p> Ссылки на максимум три подзоны </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> Scenario </p></td>
    <td width="500" valign="top"><p> Ссылка на сценарий, которому принадлежит эта зона (должна указывать на сценарий AddOn \ Main ) </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> N а me </p></td>
    <td width="500" valign="top"><p> Ссылка на внутриигровое название зоны </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> ZoneDescriptionID </p></td>
    <td width="500" valign="top"><p> Ссылка на подробное описание зоны </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> PWLImageID </p></td>
    <td width="500" valign="top"><p> Ссылка на изображение, которое будет показываться при загрузке зоны. </p></td>
  </tr>
  <tr>
    <td width="157" valign="top"><p> PhotoID </p></td>
    <td width="500" valign="top"><p> Ссылка на изображение зоны на экране выбора миссии </p></td>
  </tr>
</table>

<p> Для создания новой миссии блока в списке миссий воспользуйтесь пунктом New Item контекстного меню. </p>

<p> При щелчке по ссылке, ведущей в список заданий, список откроется в отдельном окне редактора. </p>

<p><strong> Задания – </strong> цели, которые должны быть достигнуты игроком во время миссии для ее успешного выполнения<strong></strong></p>
<p> Параметры заданий отображаются при выборе задания в списке </p>

 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="158" valign="top"><p> JournalRecordID </p></td>
    <td width="499" valign="top"><p> Ссылка на запись в журнале героя, которая выведется по выполнению задания миссии </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> BlocksLeaveZone </p></td>
    <td width="499" valign="top"><p> Необходимо ли выполнение данного задания для завершения миссии. </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> CompleteImmediately </p></td>
    <td width="499" valign="top"><p> Засчитывается ли задание немедленно или только по выходе с зоны. </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> VisibleByDefault </p></td>
    <td width="499" valign="top"><p> Отображается ли задание сразу по приходе на миссию(в противном случае должно показываться с использованием скрипта). </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> SmallDescription </p></td>
    <td width="499" valign="top"><p> Не используется </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> GoalType </p></td>
    <td width="499" valign="top"><p> Conclision – задается скриптом, Item – действие с предметом, Person - действие с персонажем, Object – действие с неподбираемым объектом на зоне </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> Reward </p></td>
    <td width="499" valign="top"><p> Дополнительное денежное вознаграждение за выполнение данного задания в дополнение к вознаграждению за миссию. </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> Tasks </p></td>
    <td width="499" valign="top"><p> Ссылки на максимум шесть подзаданий </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> Reward </p></td>
    <td width="499" valign="top"><p> Размер денежного вознаграждения за выполнение основного задания. </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> PersID </p></td>
    <td width="499" valign="top"><p> Персонаж, с которым нужно совершить действие для выполнения задания </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> ObjectID </p></td>
    <td width="499" valign="top"><p> Неподнимаемый объект, с которым нужно совершить действие для выполнения задания </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> GoaName </p></td>
    <td width="499" valign="top"><p> Ссылка на формулировку задания. </p></td>
  </tr>
  <tr>
    <td width="158" valign="top"><p> ItemID </p></td>
    <td width="499" valign="top"><p> Предмет, с которым нужно совершить действие для выполнения задания </p></td>
  </tr>
</table>

<p> Для выполнения задания некоторое действие должно быть совершено с персонажем, предметом или стационарным объектом на зоне. Выбор между ними производится параметром GoalType, а затем используются поля PersID, ItemID и ObjectID соответственно. </p>
<p> Действия, которые необходимо совершить, определяются подзаданиями. </p>
<p> Если условия выполнения задания не подходят под вышеописанные, то параметру GoalType присваивается значение Conclusion, а тип подзадания устанавливается в Complete By Script . </p>

<p> Для создания нового задания для миссии в списке заданий воспользуйтесь пунктом New Item контекстного меню. </p>
<p> При щелчке на поле с названием подзадания в отдельном окне редактора появится список подзаданий. </p>

<p><strong> Подзадания – </strong> это последовательность действий, которые должны быть совершены игроком для успешного выполнения задания. В ыполнение последнего подзадания означает выполнение всего задания. Каждое подзадание имеет 2 параметра: тип выполнения ( Tag ) и текстовое описание ( Description ). Тип выполнения можно выбрать из выпадающего списка: </p>

 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="169" valign="top"><p> Carry out item </p></td>
    <td width="474" valign="top"><p> Вынести из зоны указанный предмет </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Carry out person </p></td>
    <td width="474" valign="top"><p> Вынести на себе из зоны указанного персонажа </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Complete by script </p></td>
    <td width="474" valign="top"><p> Задание/подзадание завершается по скрипту </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Defend object </p></td>
    <td width="474" valign="top"><p> Предотвратить уничтожение указанного объекта </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Destroy item carrier </p></td>
    <td width="474" valign="top"><p> Уничтожить персонажа, владеющего предметом </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Destroy object </p></td>
    <td width="474" valign="top"><p> Уничтожить указанный объект </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Find item </p></td>
    <td width="474" valign="top"><p> Найти (увидеть) указанный предмет </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Find person </p></td>
    <td width="474" valign="top"><p> Найти (увидеть) указанного персонажа </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Kill person </p></td>
    <td width="474" valign="top"><p> Уничтожить указанного персонажа </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Stun person </p></td>
    <td width="474" valign="top"><p> Привести персонажа в бессознательное состояние </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Take item </p></td>
    <td width="474" valign="top"><p> Взять предмет </p></td>
  </tr>
  <tr>
    <td width="169" valign="top"><p> Take person </p></td>
    <td width="474" valign="top"><p> Поднять тело персонажа </p></td>
  </tr>
</table>

<p> Текстовые строки, относящиеся к подзаданиям, размещаются в текстовых ресурсах. </p>
<p> Для создания нового подзадания в списке подзаданий воспользуйтесь пунктом New Item контекстного меню. </p>
<h2><a name="level2"></a>	 Выдача заданий (Goals) и подзаданий (Task) </h2>

<p> Если для миссии создана описаная выше структура заданий и подзаданий, то они автоматически будут отображаться во время миссии в соответствии с заданными параметрами. </p>
<p> Выдавать задания в миссии можно также с помощью скриптов. Чтобы можно было засчитывать выполнение задания из скрипта, у задания на закладке Tasks в поле Tag необходимо выставить параметр Complete by script . Для этого служат следующие скриптовые функции: </p>

<p> ScenarioSetGoalComplete ( nGoalID, bComplete [ true ]) </p>
<p> ScenarioSetTaskComplete(nGoalID, iTask, bComplete[true]) </p>


<h2><a name="level3"></a>	 Включение миссии в сценарий</a></h2>
<p> Прежде всего для включения миссии в сценарий необходимо внести ее в состав одного из уже заданных блоков сценария. </p>

<p> Также необходимо предоставить игроку интерфейс для навигации по доступным участкам сценария. Для этой цели используется глобальная карта и карта региона. Любая миссия должна быть привязана к этим двум картам. </p>

<p><strong> Глобальная карта (GlobalMaps) </strong></p>
<p><img src="img/properties_Globals.gif" alt="" width="354" height="188" hspace="5" vspace="5" border="0" align="right"> В игре есть единственная глобальная карта, на которой происходят все действия. В принципе, рисунок карты можно заменить, но логику ее использования переопределить нельзя. </p>

<p> Глобальная карта имеет следующие свойства: </p>
<p><em> Scenario</em><strong></strong> — принадлежность тому или иному сценарию. </p>
<p><em> BaseZoneID</em> — ссылка на зону, которая будет служить базой. </p>
<p><em> StartZoneID</em> — вводная миссия в сценарий </p>
<p><em> ScriptID</em><em> —</em> скрипт, <img src="img/sector.gif" alt="" width="53" height="65" hspace="5" vspace="5" border="0" align="left">активирующийся при загрузке глобальной кары </p>
<p><em> Background</em> — ссылка на текстуру фона </p>

<p><img src="img/properties_sector.gif" alt="" width="234" height="367" hspace="5" vspace="5" border="0" align="right"> Активные места на карте отмечены цветными многоугольниками, каждой фигуре соответствует своя карта региона. Эта фигура называется сектором. Крестиками на секторе отмечены узлы, за которые можно передвигать части фигуры, придавая ей нужную форму (фигура определяет координаты курсора мыши, вызывающего переход к карте региона при нажатии левой кнопки). </p>

<p> Чтобы вывести окно свойств сектора, щелкните правой кнопкой мыши по его границе (обратите внимание, что щелчок по внутренней части сектора не даст эффекта). </p>

<p><em> Chapter</em><em> — </em> принадлежность тому или иному региону (стране). </p>
<p><em> Image</em><em> — </em> картинка региона (вам нужно будет создать свою, если станете вносить новый регион на глобальную карту). </p>
<p> Image pos — координаты вывода картинки на экране </p>

<p> Остальные параметры в этом окне неактивны, т.к. они используются в свойствах зон на карте региона. </p>


<p><strong> Разделы (</strong><strong> Chapters</strong><strong> ) </strong></p>

<p> Разделы сценария, расположенные в закладке Chapters, представляют собой карты некоторых регионов, доступных с глобальной карты, на которых территориально расположены игровые зоны. </p>
<p> Описание карты региона включает в себя набор параметров: </p>
<p> список зон, которые будут отображаться в качестве походного лагеря, если команда игрока решит устроить привал; </p>
<p> ссылка на скрипт, который будет выполняться при заходе на эту карту; </p>
<p> ссылка на изображение, которое служит фоном для этой карты. </p>

<p> Определим тип и положение нашей игровой зоны на карте региона. Правым щелчком мыши в основном окне редактора выбираем <strong> New</strong><strong></strong><strong> sector</strong> из контекстного меню. Как и на глобальной карте, область, которая отображает зону следующего уровня, называется сектором. </p>

<p> Далее в контекстном меню, которое выводится щелчком правой кнопкой мыши по кромке созданного сектора, нужно выбрать пункт <strong> Zone</strong><strong></strong> и задать соответствующую этому сектору сценарную зону (значение параметра SmallDescription миссии). </p>

<p> Параметр Probability определяет вероятность появления данной миссии на карте региона, число обычно находится в пределах от 1 до 100 и имеет смысл только для случайных стычек. Если это значение равно 0, то миссия постоянно присутствует на карте (как все сценарные миссии). Сценарные миссии начинают отображаться на карте региона, как только мы получаем улику, ведущую на эту зону. Вид иконки игровой зоны определяется программной логикой. </p>

 <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="119" valign="top"><p><img src="img/icon_scenariozone.gif" alt="" width="50" height="50" border="0"></p></td>
    <td width="538" valign="top"><p> Так выглядит на карте региона сценарная зона. В игре на этом месте будет отображена иконка доступной зоны, если зона открыта, иконка пройденной зоны, если задание выполнено, и пустое место, если про зону пока не известно. </p></td>
  </tr>
  <tr>
    <td width="119" valign="top"><p><img src="img/icon_randomzone.gif" alt="" width="50" height="44" border="0"></p></td>
    <td width="538" valign="top"><p> Так выглядит зона случайных стычек ( random encountes ). В игре на этом месте будет появляться иконка противника пропорционально вероятности, заданной в поле Probability . </p></td>
  </tr>
</table>



<h2><a name="level4"></a>	 Отладка сценария</a></h2>

<p> Все ошибки могут происходить и на этапе проектирования сценария и при вводе связей из-за выбора неверных ссылок в редакторе. </p>

<p><strong> Проверка игровых зон </strong></p>
<p> Убедившись в правильности сценария, следует проверить все игровые зоны (т.е. темплейты) на работоспособность и соответствие намеченному сценарию. Предполагается, что вы собираете сценарий из готовых работающих темплейтов, поэтому проблем с загрузкой темплейта в редакторе у вас быть не должно. Загрузите по очереди все зоны, использованные в сценарии <strong> Templates</strong><strong> . </strong> При<strong></strong>успешной загрузке визуально проверьте правильность указанных темплейтов. </p>

<p><img src="img/find_ID.gif" alt="" width="404" height="122" hspace="5" vspace="5" border="0" align="right"> Искать темплейты сценарных зон в редакторе по ID удобно с помощью функции поиска Ctrl + F ( Find ) или через контекстное меню, вызываемое по нажатию правой кнопки в активной ресурсной закладке. В диалоговом окне Item ID — это ID темплейта, а Variant ID — это ID варианта данного темплейта. </p>

<p> Запустите темплейты сценарных зон в интерфейсе редактора с персонажами по умолчанию и убедитесь, что игровые зоны не содержат ошибок проходимости (см. раздел 3). После этого остается проверить работоспособность заданий. </p>

		
		

			</div>	
		</td>
	</tr>	
</table>
<!--part6-->				
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td><div align="justify">
				<h1>Приложения</h1>	
				 <h2><a name="level1"></a>Клавиатурные
      команды</a></h2> 
  <p>Команды клавиатуры, относящиеся к редактору, находятся в файле .\cfg\input.cfg
    в секции MAPEDITOR BINDS. При необходимости их можно менять, предварительно
    сохранив оригинальный вариант файла input.cfg.</p> 
  <h3>Режим
      редактирования объектов на карте</h3> 
  <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
    <tr> 
      <td width=132 valign=top> <p>Delete</p></td> 
      <td width=525 valign=top> <p>Удалить текущий объект или
          выделенную группу объектов</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+B</p></td> 
      <td width=525 valign=top> <p>Просмотр решётки устойчивости
          строений</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>F</p></td> 
      <td width=525 valign=top> <p>Центрирование камеры на выделенный
          объект</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Esc</p></td> 
      <td width=525 valign=top> <p>Отмена выделения объекта, отмена
          любых незаконченных действий, закрытие контекстного меню</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+C</p></td> 
      <td width=525 valign=top> <p>Копировать</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+V</p></td> 
      <td width=525 valign=top> <p>Вставить</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+A</p></td> 
      <td width=525 valign=top> <p>Выделить все объекты в основном
          окне</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt</p></td> 
      <td width=525 valign=top> <p>Переключить фокус ввода в основное
          окно</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>А</p></td> 
      <td width=525 valign=top> <p>Показать AI-геометрию</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>SPACE</p></td> 
      <td width=525 valign=top> <p>Поднять пятно (spot) над другими</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Num +</p></td> 
      <td width=525 valign=top> <p>Перейти на этаж выше</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Num –</p></td> 
      <td width=525 valign=top> <p>Перейти на этаж ниже</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>R</p></td> 
      <td width=525 valign=top> <p>Повернуть объект на 90 градусов</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+D</p></td> 
      <td width=525 valign=top> <p>Показать / скрыть информативные
          линии</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Z</p></td> 
      <td width=525 valign=top> <p>Временно перейти в режим перемещения
          объекта по вертикали</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Scroll</p></td> 
      <td width=525 valign=top> <p>Вывести текущее значение FPS</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+S</p></td> 
      <td width=525 valign=top> <p>Перейти в режим редактирования
          скрипта</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+Z</p></td> 
      <td width=525 valign=top> <p>Отмена (undo), действует только
          в основном окне и не на всех операциях</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p><span lang=EN-US>Ctrl+Shift+Z</span></p></td> 
      <td width=525 valign=top> <p>Возврат (redo)</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+F</p></td> 
      <td width=525 valign=top> <p>Поиск в окне списка объектов</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p><span lang=EN-US>F6, Shift+F6</span></p></td> 
      <td width=525 valign=top> <p>Следующая / предыдущая панель
          редактора</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>W</p></td> 
      <td width=525 valign=top> <p>Режим отображения в виде «проволочной
          рамки»</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt+Enter</p></td> 
      <td width=525 valign=top> <p>Полноэкранный режим</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>P</p></td> 
      <td width=525 valign=top> <p>Вывести окно настроек редактора</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>N</p></td> 
      <td width=525 valign=top> <p>Вывести следующий вариант темплейта</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>B</p></td> 
      <td width=525 valign=top> <p>Вывести предыдущий вариант
          темплейта</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt+Right</p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение вправо</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt+Left</p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение влево</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p><span lang=EN-US>Alt</span>+<span
  lang=EN-US>Up</span></p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение вперёд</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt+Down</p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение назад</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p><span lang=EN-US>Alt</span>+<span
  lang=EN-US>PgUp</span></p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение вверх</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Alt+PgDn</p></td> 
      <td width=525 valign=top> <p>Сдвинуть выделение вниз</p></td> 
    </tr> 
  </table> 
  <h3>Режим
      просмотра объектов на закладке </h3> 
    <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
    <tr> 
      <td width=132 valign=top> <p>SPACE</p></td> 
      <td width=525 valign=top> <p>Посмотреть фазы разрушения
          объекта</p></td> 
    </tr> 
    <tr> 
      <td width=132 valign=top> <p>Ctrl+I</p></td> 
      <td width=525 valign=top> <p>Записать положение камеры в
          свойства этого объекта</p></td> 
    </tr> 
  </table> 
  <h3>Просмотр       и отладка карты в «игровом» режиме</h3> 
  <p>В игре Операция Silent Storm: Часовые предусмотрен набор отладочных команд, часть из них полезна
    при разработке и отладке миссий. Эти команды не включены в оригинальный файл
    конфигурации input.cfg, но их можно добавить вручную, сделав секцию DEBUG
    FEATURES после секции Camera, тогда их можно будет использовать при запуске
    игры непосредственно в редакторе. Например, взрывы в текущей точке и вывод
    блочной структуры строений дают возможность оценить устойчивость различных
    частей строения к взрывной волне. Телепорт полезен для проверки проходимости
    различных участков карты — мест со сложным рельефом, обстановки в комнатах
    и т.д.</p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>//============================================================================
      // DEBUG FEATURES</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      explode            'LCTRL' + 'J'     // </span><span style='font-size:10.0pt;font-family:"Courier New"'>Взрыв</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>в</span><span
style='font-size:10.0pt;font-family:"Courier New";
'> </span><span style='font-size:10.0pt;font-family:"Courier New"'>текущей</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>точке</span><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New";
'> (1)</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      explode            'RCTRL' + 'J'</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      explosion          'LCTRL' + 'E'     // </span><span style='font-size:10.0pt;font-family:"Courier New"'>Взрыв</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>в</span><span
style='font-size:10.0pt;font-family:"Courier New";
'> </span><span style='font-size:10.0pt;font-family:"Courier New"'>текущей</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>точке</span><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New";
'> (2)</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      explosion          'RCTRL' + 'E'</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      cheat_teleport     'LCTRL' + 'T'     // </span><span style='font-size:10.0pt;font-family:"Courier New"'>Телепорт</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>персонажа</span><span
style='font-size:10.0pt;font-family:"Courier New";
'> </span><span style='font-size:10.0pt;font-family:"Courier New"'>в</span><span style='font-size:10.0pt;
font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>текущую</span><span
style='font-size:10.0pt;font-family:"Courier New";
'> </span><span style='font-size:10.0pt;font-family:"Courier New"'>точку</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      cheat_teleport     'RCTRL' + 'T'</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      wireframe          'LCTRL' + 'W'     // «</span><span style='font-size:10.0pt;font-family:"Courier New"'>Скелетный</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";
'>» </span><span style='font-size:10.0pt;font-family:"Courier New"'>режим</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";
'> (wireframe)</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      wireframe          'RCTRL' + 'W'</span></p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>bind switch_timeofday   'F3'              //
      Переключение времени суток</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>; ====
      AI MAP CONTROLS ====</span></p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>bind aiShowGrid         'G'               //
      Просмотр блочной структуры строения</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      aiShowKnots  'N'                     // </span><span style='font-size:10.0pt;font-family:
"Courier New"'>Вывод</span><span style='font-size:10.0pt;font-family:"Courier New";'> </span><span
style='font-size:10.0pt;font-family:"Courier New"'>узлов</span></p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>bind aiClearTrace 'C'                     //
      Стирание линий проходимости</span></p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>bind aiGridTrace  'T'                     //
      Вывод линий проходимости</span></p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>bind aiShowWaypoints
      'LSHIFT' + 'W'      // Показать пути движения (waypoints)</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      aiShowWaypoints 'RSHIFT' + 'W'</span></p> 
  <p>Для визуализации AI необходимо добавить в секцию GAME BINDS выделенные строки:</p> 
  <p><span style='font-size:10.0pt;font-family:"Courier New"'>...</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind</span><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'> </span><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>gamemenu</span><span
style='font-size:10.0pt;font-family:"Courier New"'>   '</span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New";'>F</span><span style='font-size:10.0pt;font-family:"Courier New"'>10'</span></p> 
  <p><b><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind</span></b><b><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'> </span></b><b><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>showai</span></b><b><span
style='font-size:10.0pt;font-family:"Courier New"'>       '</span></b><b><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";
'>LCTRL</span></b><b><span style='font-size:10.0pt;
font-family:"Courier New"'>' + '</span></b><b><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New";
'>A</span></b><b><span style='font-size:10.0pt;
font-family:"Courier New"'>'           // Включить вывод AI-геометрии</span></b></p> 
  <p><b><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
        showai       'RCTRL' + 'A'</span></b></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>bind
      skipScript         'ESC'</span></p> 
  <p><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New";'>...</span></p> 
	 <h2><a name="level2"></a>Установка SQL-сервера MSDE</h2> 
  <h3>Установка </h3> 
  <p><b>Загрузка последней версии MSDE</b></p> 
  <p>Ссылку на наиболее полную версию сервера MSDE 2000 с последними обновлениями
    и исправлениями безопасности можно найти на web-странице Microsoft по адресу:</p> 
  <p>http://www.microsoft.com/sql/msde/downloads/default.asp</p> 
  <p>Выберите ссылку «Download» в верхней части страницы, на следующей странице
    укажите язык сервера (обычно английский), далее в списке файлов для загрузки
    выберите SQL-сервер (например, sql2kdesksp3.exe, размер около 70 Мб, остальные
    компоненты не требуются). После загрузки запустите exe-файл и укажите временный
    каталог для распаковки комплекта инсталляции (после успешной установки каталог
    можно будет удалить). Для корректной установки сервера следует заменить в
    полученном комплекте конфигурационный файл setup.ini файлом, находящимся
    на компакт-диске: &lt;CD1&gt;\Bin\MSDE\setup.ini. </p> 
  <p><b>Решение проблем с установкой</b></p> 
  <p>Если в операционных системах класса Windows 2000 и Windows XP установить
    SQL-сервер не удаётся, откройте окно 'Run' и выведите log-файл процесса инсталляции
    командой:</p> 
  <p><span lang=EN-US>setup.exe /L*v c:\setup.log</span></p> 
  <p>(имя log-файла и путь к нему можно при желании изменить). Отыщите в log-файле
    строку со словом 'failed'. При ошибке типа <span
lang=EN-US>InstallSQLAgentSecurity</span><span
lang=EN-US> </span><span lang=EN-US>failed</span> (MACHINE,<span lang=EN-US>LocalSystem</span>,87),
    где вместо MACHINE написано имя вашего компьютера, проверьте, установлен
    ли у вас сервис File and Printer Sharing for Microsoft Networks. Если нет,
    добавьте этот сервис в панели свойств локальной сети. Проверьте также, запущены
    ли системные сервисы Server и Computer Browser. Если ваш компьютер подключен
    к сети Интернет напрямую, в целях безопасности рекомендуется оставить сервис
    File and Printer Sharing неиспользованным, убрав галочку в этой строке на
    панели свойств сети. Если ваш компьютер вообще не подключен к сети, установите
    сетевой адаптер Microsoft Loopback Adapter и протокол TCP/IP, это даст возможность
    установить требуемые сетевые компоненты.</p> 
  <h3>Инструменты
      для вывода сценарного графа</h3> 
  <p>Загрузите из Сети компоненты для построения сценарного графа, не входящие
    в поставку редактора — файлы dot.exe, ft.dll, jpeg.dll, png.dll и z.dll,
    и запишите их в каталог &lt;S3&gt;\scengraph. Их можно найти на странице
    разработчика программы Graphwiz по адресу:</p> 
  <p>http://www.research.att.com/sw/tools/graphviz/download.html</p> 
  <p>Найдите на этой странице раздел<span
lang=EN-US> Binary Executable Packages for Windows. </span>Вместо загрузки отдельных
    файлов можно загрузить полный установочный комплект программы Graphwiz —
    Windows Install package (1.10.0). После её установки найдите необходимые
    файлы и скопируйте их вручную в каталог &lt;S3&gt;\scengraph. Если вы не
    предполагаете в дальнейшем работать с программой Graphwiz, её можно удалить.</p> 
	 <h2><a name="level3"></a>Прямой
      доступ к БД игры черед </h2> 
  <p>Если ваши замыслы ограничиваются разработкой собственных миссий, то прямой
    доступ к базе данных (БД) игры вам не нужен. Если же в ваши задачи входит
    изменение исходного сценария игры или создания собственного сценария, придётся
    редактировать БД игры напрямую, поскольку многие поля базы данных, ответственные
    за сценарий, из редактора недоступны. Для этого необходимо получить доступ
    к БД через SQL-сервер, используя соответствующий драйвер. Рекомендуем использовать
    программу Microsoft Access 2000 или XP.</p> 
  <p><img src="img/machine_dsn.gif" width="449" height="388" hspace="5" vspace="5" border="0" align="right" alt="">Прежде
    всего необходимо запустить SQL-сервер. Затем откройте Панель управления (Windows
    Control Panel) и найдите инструмент для управления ODBC (ODBC Data Source).
    На закладке User DSN должен присутствовать источник данных MQIS, а на закладке
    Drivers — драйвер SQL Server. Запустите MS Access и создайте новую пустую
    базу данных (Blank Access database) с любым именем — например, с именем вашего
    профиля.<span style='color:#993300'> </span>Обратите внимание, что SQL-сервер
    поддерживает как основную БД игры, так и базы всех созданных вами профилей
    — следовательно, вы должны решить, к какой базе данных подключиться. Для
    подключения к БД разных профилей необходимо создать разные базы в Access.</p> 
  <p>Следующим шагом должно быть установление связи Access с выбранной базой.
    Для этого в меню <span lang=EN-US>File, Get external data </span>выберите пункт <span lang=EN-US>Link
    tables. </span>В открывшемся диалоговом окне файловой системы необходимо
    из списка типов файлов (нижний выпадающий список) выбрать тип ODBC databases.
    Откроется окно выбора источника данных (см. снимок). В нём необходимо перейти
    на закладку Machine data source и выбрать источник данных MQIS — SQL Server.
    Нажмите «OK».</p> 
  <p><img src="img/sql_login.gif" width="359" height="326" hspace="5" vspace="5" border="0" align="left" alt="">Откроется
    окно подключения к SQL-серверу, в котором необходимо выбрать базу — источник
    данных. Если вы работаете в ОС Windows 2000 или XP, рекомендуется отметить
    поле Use Trusted Connection, при этом для доступа к локальному SQL-серверу
    вводить имя и пароль обычно не требуется. Нажатие кнопки Options &gt;&gt; открывает
    список дополнительных параметров, главный из которых — имя базы. Из списка
    доступных баз данных следует выбрать базу, с которой вы будете работать.
    Исходная база игры имеет имя A5GAME, а базы-копии, созданные в пользовательских
    профилях — A5GAME_имя_профиля. Выберите базу, соответствующую вашему рабочему
    профилю. Поля Language и Application Name можно оставить без изменения. В
    поле Workstation ID следует ввести «localhost» или оставить имя вашей машины,
    если оно было подставлено по умолчанию. После того как связь с требуемой
    базой данных установлена, можно приступать к импорту списка таблиц и их полей.
    Если установить связь с SQL-сервером не удаётся (выводится сообщение об ошибке
    имени или пароля), возможно, ваш пользовательский профиль в Windows имеет
    недостаточные полномочия. Как вариант, используйте административный вход
    или исключите авторизацию на сетевом сервере, если ваша машина работает в
    локальной сети.</p> 
  <p><img src="img/link_tables.gif" width="466" height="241" hspace="5" vspace="5" border="0" align="right" alt="">Вид
    окна для связи с внешними таблицами может зависеть от версии Access. В окне
    выводится список таблиц, которые присутствуют в БД игры. Следует выбрать
    все таблицы кнопкой Select All и нажать OK, тогда Access начнёт чтение таблицы
    и создание ссылок. В некоторые моменты от вас может потребоваться ответ на
    запросы о ключевом поле в очередной связываемой таблице. Вначале попробуйте
    найти поле с именем ID; если в списке полей такого нет — первое поле, где
    «ID» является составной частью имени; а если и таких полей не оказалось,
    выбирайте самое первое поле в списке. После завершения импорта в окне таблиц
    появляется список таблиц игровой БД. Каждую таблицу можно открыть, посмотреть
    и при необходимости внести те или иные изменения. Обратите внимание, что
    созданная в Access'е база данных *.mdb, связанная с БД игры, запоминает внешние
    ссылки, поэтому выполнять импорт ссылок больше не нужно, может понадобиться
    лишь обновление ссылок. Например, можно использовать созданную таким образом
    базу Access для подключения к БД другой модификации игры, для этого воспользуйтесь
    мастером связанных таблиц.</p> 
	 <h2><a name="level4"></a>Архивация
      и восстановление профиля</a></h2> 
  <p>При длительной работе над проектом рекомендуется время от времени делать
    резервные копии каталога профиля со всем содержимым. Это поможет справиться
    с ситуациями, когда неудачные изменения, внесённые в базу данных игры, приводят
    к сбоям — или при входе в миссию, или при загрузке карты в редакторе (копирование
    исходной БД, находящейся в каталоге .\res, на место рабочей исправит ситуацию,
    но приведёт к потере всего созданного материала). Для создания архивной копии
    желательно использовать какой-либо архиватор — например, ZIP, RAR и т.п.
    При архивации профиля обращайте внимание на сохранение структуры подкаталогов.</p> 
  <p>Для восстановления сделанной ранее архивной копии достаточно при выключенном
    SQL-сервере распаковать файлы архива в каталог с именем профиля, заменив
    ими старые файлы. Если требуется перенести профиль с одной машины на другую
    или восстановить профиль после переустановки игры, простое копирование не
    решит задачи, поскольку база данных не будет подключена к SQL-серверу. Необходимо
    выполнить следующие операции: запустить SQL-сервер, в начальном диалоге редактора
    создать новый профиль с именем, который был у старого профиля, остановить
    SQL-сервер, заменить содержимое каталога с именем профиля файлами архивной
    копии, обязательно восстановив при этом структуру подкаталогов. Затем нужно
    запустить SQL-сервер и редактор, и убедиться, что перенесённая база данных
    подключена и с ней можно работать.</p> 
 	 <h2><a name="level5"></a>Элементы HTML,
      поддерживаемые игрой</h2> 
  <p>В текстовых ресурсах игры можно использовать некоторые элементы языка <span lang=EN-US>HTML</span>,
    которые управляют стилем надписей — выравниванием текста, разбиением его
    по абзацам, цветовым оформлением. Все описатели должны располагаться в угловых
    скобках. В отличие от стандартного языка <span lang=EN-US>HTML</span>, закрывающие
    элементы и их вложение описателей не предусмотрены, каждый новый описатель
    отменяет предыдущий описатель того же типа.</p> 
  <p><b>Управление выводом строк</b></p> 
   <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60"> 
    <tr> 
      <td width=95 valign=top> <p>&lt;br&gt;</p></td> 
      <td width=505 valign=top> <p>Принудительный разрыв строки</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;left&gt;</p></td> 
      <td width=505 valign=top> <p>Прижим блока к левому краю</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;right&gt;</p></td> 
      <td width=505 valign=top> <p>Прижим блока к правому краю</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;center&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание блока по центру</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;<span lang=EN-US>nowrap</span>&gt;</p></td> 
      <td width=505 valign=top> <p>Запретить автоматический перенос
          строки</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;justify&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по обоим краям,
          с растяжением пробелов (работает не всегда)</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;wrapleft&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по левому краю
          с «откусыванием»<span
  style='font-family:"Courier New"'> </span>пространства</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;wrapright&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по правому краю
          с «откусыванием»<span
  style='font-family:"Courier New"'> </span>пространства</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;top&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по верхней границе
          (нужно, если есть шрифты разного размера )</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;bottom&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по нижней границе</p></td> 
    </tr> 
    <tr> 
      <td width=95 valign=top> <p>&lt;middle&gt;</p></td> 
      <td width=505 valign=top> <p>Выравнивание по центру</p></td> 
    </tr> 
  </table> 
  <p><b>Управление видом текста</b></p> 
   <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60"> 
    <tr> 
      <td width=182 valign=top> <p>&lt;font ... &gt;</p></td> 
      <td width=475 valign=top> <p>Задать шрифт и его параметры
          (...)</p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p>            <span
  lang=EN-US>size</span>=xx<span lang=EN-US>pt</span></p></td> 
      <td width=475 valign=top> <p>размер шрифта в точках (<span lang=EN-US>points</span>, <span lang=EN-US>pt</span>)</p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p>            <span
  lang=EN-US>face</span>=<span lang=EN-US>name</span></p></td> 
      <td width=475 valign=top> <p>название шрифта (из шрифтов,
          присутствующих игре)</p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p>            outlinesize=ww</p></td> 
      <td width=475 valign=top> <p>размер контура вокруг символов</p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p>            <span
  lang=EN-US>outlinecolor=name</span></p></td> 
      <td width=475 valign=top> <p>цвет контура</p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p><span lang=EN-US>            f</span>orcefontsize=xxpt</p></td> 
      <td width=475 valign=top> <p>игнорировать прибавку, создаваемую
          параметром <span
  lang=EN-US>outline</span></p></td> 
    </tr> 
    <tr> 
      <td width=182 valign=top> <p>            <span
  lang=EN-US>color</span>=<span lang=EN-US>name</span></p></td> 
      <td width=475 valign=top> <p>Цвет берётся из списка: <span lang=EN-US>white</span>, <span lang=EN-US>red</span>, <span lang=EN-US>green</span>, <span
  lang=EN-US>blue</span>, <span lang=EN-US>yellow</span>, <span lang=EN-US>cyan</span>, <span lang=EN-US>orange</span>, <span lang=EN-US>pink</span>, <span lang=EN-US>brown</span>, <span lang=EN-US>grey</span>, <span lang=EN-US>black</span>, <span lang=EN-US>darkyellow</span>, <span lang=EN-US>beige</span>,
          lightblue, либо AARRGGBB —<span
  style='font-family:"Courier New"'> </span>в 16-ричном формате (<span
  lang=EN-US>AA</span> — альфа-канал).</p></td> 
    </tr> 
  </table> 
  <p>Шрифты<span lang=EN-US>: Courier — 16, 18, 20; Courier Bold — 17, 24, 36;
      Impact — 20, 24, 36, 55; Arial — 11.</span></p> 
  <p><b>Вставка изображения в текст</b></p> 
    <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
    <tr> 
      <td width=169 valign=top> <p>&lt;<span lang=EN-US>image</span> ... &gt;</p></td> 
      <td width=488 valign=top> <p>Место вставки картинки</p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>align</span>=<span lang=EN-US>left</span></p></td> 
      <td width=488 valign=top> <p>прижим влево, текст «обтекает»
          справа</p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>align</span>=<span lang=EN-US>right</span></p></td> 
      <td width=488 valign=top> <p>прижим вправо, текст «обтекает»
          слева</p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>id</span>=####</p></td> 
      <td width=488 valign=top> <p>номер картинки в БД из ресурсной
          закладки <span
  lang=EN-US>UITexture</span></p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>width</span>=<span lang=EN-US>xx</span></p></td> 
      <td width=488 valign=top> <p>ширина картинки (если не указана,
          то ширина самого изображения)</p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>height</span>=<span lang=EN-US>yy</span></p></td> 
      <td width=488 valign=top> <p>высота картинки (если не указана,
          то высота самого изображения)</p></td> 
    </tr> 
    <tr> 
      <td width=169 valign=top> <p>            <span
  lang=EN-US>border</span>=<span lang=EN-US>ww</span></p></td> 
      <td width=488 valign=top> <p>ширина отступов вокруг картинки</p></td> 
    </tr> 
  </table> 
  <p><b>Пример строки с разметкой</b></p> 
  <p><span lang=EN-US>&lt;font face=Courier size=16pt&gt;&lt;color=darkyellow&gt;</span>Закрыть<span
lang=EN-US>.&lt;br&gt;&lt;color=beidge&gt;</span>Закрывает панель улик<span lang=EN-US>.</span></p> 
</div> 
<br clear=all style='page-break-before:right;
'> 
<div class=Section2> 
	 <h2><a name="level6"></a>Скриптовые
      функции</h2> 
  <p>В скриптовых функциях для параметров и возвращаемых значений используются
    следующие типы переменных:</p> 
    <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
    <tr> 
      <td width=101 valign=bottom nowrap> <p><span lang=EN-US>number</span></p></td> 
      <td width=37 valign=bottom nowrap> <p><b><span lang=EN-US style='font-family:Courier;'>n</span></b></p></td> 
      <td width=411 valign=top> <p>число рационального типа <span lang=EN-US>real
            (double-precision float)</span></p></td> 
    </tr> 
    <tr> 
      <td width=101 valign=bottom nowrap> <p>string</p></td> 
      <td width=37 valign=bottom nowrap> <p><b><span style='font-family:Courier'>s</span></b></p></td> 
      <td width=411 valign=top> <p>текстовая строка, заканчивающаяся
          '\0'</p></td> 
    </tr> 
    <tr> 
      <td width=101 valign=bottom nowrap> <p>unit</p></td> 
      <td width=37 valign=bottom nowrap> <p><b><span style='font-family:Courier'>u</span></b></p></td> 
      <td width=411 valign=top> <p>ID персонажа</p></td> 
    </tr> 
    <tr> 
      <td width=101 valign=bottom nowrap> <p><span lang=EN-US>bool</span></p></td> 
      <td width=37 valign=bottom nowrap> <p><b><span style='font-family:Courier'>b</span></b></p></td> 
      <td width=411 valign=top> <p>логическое значение (true или
          false)</p></td> 
    </tr> 
    <tr> 
      <td width=101 valign=bottom nowrap> <p>nil</p></td> 
      <td width=37 valign=bottom nowrap> <p><b><span style='font-family:Courier'>nil</span></b></p></td> 
      <td width=411 valign=top> <p>отсутствие значения</p></td> 
    </tr> 
  </table> 
  <p><b>Функции</b></p> 
   <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="50" valign="top"><p> Возврат </p></td>
    <td width="337" valign="top"><p> Имя </p></td>
    <td width="312" valign="top"><p> Описание </p></td>
    <td width="337" valign="top"><p> Пример </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> AddJournalRecord ( int ) </p></td>
    <td width="312" valign="top"><p> Добавить в журнал запись с таким ID , если такой записи в нем еще нет </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> AdvancedCameraMove( cameraStart, cameraEnd, duration, startOffset, endOffset ) </p></td>
    <td width="312" valign="top"><p> Показывает часть траектории между двумя камерами. Для полной траектории указывается время duration , а также времена начала реально показываемого куска и его конца. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> AttachEffectToUnitBone( effect id, unit ) </p></td>
    <td width="312" valign="top"><p> Повесить партикл-эффект на персонажа </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> AttachEffectToWaypoint( effect id, waypoint name ) </p></td>
    <td width="312" valign="top"><p> Повесить партикл-эффект на waypoint </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> BeginSequence( SkipFadeout ) </p></td>
    <td width="312" valign="top"><p> Начинает скриптовый movies </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> BeginZone ( string ) </p></td>
    <td width="312" valign="top"><p> Перейти на зону с таким именем </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> BP ( functionName ) </p></td>
    <td width="312" valign="top"><p> Устанавливает игру на паузу и открывает консоль, сразу перед тем, как скрипт собирается вызвать функцию с таким именем. Удобно для отладки скриптов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> BP () </p></td>
    <td width="312" valign="top"><p> Устанавливает игру на паузу и открывает консоль. Удобно для отладки скриптов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CameraLock( bLock = true ) </p></td>
    <td width="312" valign="top"><p> Блокирует/разрешает перемещения камеры, по умолчанию блокирует </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CameraMove( camera, time ) </p></td>
    <td width="312" valign="top"><p> Плавно перемещает камеру из текущего положения в camera за time (в мс) </p></td>
    <td width="337" valign="top"><p> CameraMove( GetCamera( 6 ), 5000 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CameraSequence( camerasTable, time ) </p></td>
    <td width="312" valign="top"><p> Проигрывает последовательность камер, id которых заданы в camerasTable . Интервал между камерами равен time </p></td>
    <td width="337" valign="top"><p> a = {2,3,4}<br>
        CameraSet( GetCamera( 1 ) )<br>
        CameraSequence( a, 1000 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CameraSet ( camera ) </p></td>
    <td width="312" valign="top"><p> Устанавливает камеру в положение camera </p></td>
    <td width="337" valign="top"><p> CameraSet( GetCamera( 6 ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CameraSetClipping( fMinDistance, fMaxDistance ) </p></td>
    <td width="312" valign="top"><p> Устанавливает новые расстояния до передней и задней clipping planes </p></td>
    <td width="337" valign="top"><p> CameraSetClipping( 0.1, 500 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> CheckScenarioBlockJustComplete( nBlockOrder ) </p></td>
    <td width="312" valign="top"><p> Возвращает для данного блока, пройден ли он &quot;только что&quot;. Если он только что пройден, то после вызова функции будет считаться, что он пройден &quot;не только что&quot;. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CinematicSloMo ( n ) </p></td>
    <td width="312" valign="top"><p> Замедляет вывод ролика в n раз </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> ClueIsFound( clueName ) </p></td>
    <td width="312" valign="top"><p> Есть ли улика clue с именем clueName у игрока в журнале </p></td>
    <td width="337" valign="top"><p> ClueIsFound( 'clue' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ClueShow( clueName ) </p></td>
    <td width="312" valign="top"><p> Показать игроку улику clue </p></td>
    <td width="337" valign="top"><p> ClueShow( 'clue' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CompleteAllBlocksBefore( BlockOrder ) </p></td>
    <td width="312" valign="top"><p> Отметить как пройденные все блоки с номером меньше BlockOrder. Таким образом, становится доступен блок номер BlockOrder. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> CreateAndActivateItem( unit, nRPGItemID ) </p></td>
    <td width="312" valign="top"><p> Создать предмет nRPGItemID у персонажа unit и сделать его активным </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> CreateGroup( name1, name2, ... ) </p></td>
    <td width="312" valign="top"><p> Создание новой группы, name — имена персонажей </p></td>
    <td width="337" valign="top"><p> g = CreateGroup( &quot;fritz&quot;, &quot;klaus&quot; ); g = CreateGroup(); </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> object </p></td>
    <td width="337" valign="top"><p> CreateObject( ObjectID, waypoint, angle, name ) </p></td>
    <td width="312" valign="top"><p> Создание объекта. ObjectID — из objects , waypoint — имя waypoint 'а, angle — угол, на который повернуть, в градусах, name — имя, для обращения из скрипта </p></td>
    <td width="337" valign="top"><p> CreateObject( 528, &quot;wp1&quot;, 45, &quot;BigBox&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> route </p></td>
    <td width="337" valign="top"><p> CreateRoute( name1, name2, … ) </p></td>
    <td width="312" valign="top"><p> Создать route с waypoint' а ми name1, name2, ... </p></td>
    <td width="337" valign="top"><p> route = CreateRoute( &quot;wp1&quot;, &quot;wp2&quot;, &quot;wp3&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> unit </p></td>
    <td width="337" valign="top"><p> CreateUnit( PersID, PlayerID, name, waypoint, level ) </p></td>
    <td width="312" valign="top"><p> Создание unit -а с указанными параметрами. Name — имя для обращения из script -а </p></td>
    <td width="337" valign="top"><p> CreateUnit( 42, 0, &quot;NewUnit&quot;, &quot;wp1&quot;, 12 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> DelayGameStart () </p></td>
    <td width="312" valign="top"><p> Задержать начало игры и начать movie sequence </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> DialogPlay( szDialogCode, bHeroOnLeftSide = true ) </p></td>
    <td width="312" valign="top"><p> Проиграть диалог szDialogCode , герой находится с указанной стороны экрана </p></td>
    <td width="337" valign="top"><p> DialogPlay( 'EComE1' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DestroyItemInHand( unit ) </p></td>
    <td width="312" valign="bottom"><p> То, что у unit -а в руках, исчезает из игры </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeBegin </p></td>
    <td width="312" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeBegin () </p></td>
    <td width="312" valign="bottom"><p> Переводит игру в режим диалога </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeEnd </p></td>
    <td width="312" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeEnd () </p></td>
    <td width="312" valign="bottom"><p> Выходит из режима диалога </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeSet </p></td>
    <td width="312" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> DialogModeSet( TextID, ChoicesCount, ParamsCount, choics…, params… ) </p></td>
    <td width="312" valign="bottom"><p> Выводит диалог с указанным текстом, кол-вом пунктов выбора и переменными (теги начиная от 1) </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> DialogPlayAsAcks ( szDialogCode ) </p></td>
    <td width="312" valign="top"><p> Проиграть диалог как последовательность ack 'ов </p></td>
    <td width="337" valign="top"><p> DialogPlayAsAcks( 'EComE1' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> DividedDeploy() </p></td>
    <td width="312" valign="top"><p> Высадить персонажей по waypoint -ам UnitHero , Unit 1 .. Unit 6 ( waypoint -ы находятся в папке Deploy ) </p></td>
    <td width="337" valign="top"><p> DividedDeploy() </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> EndSequence( bRestoreCameraPos = false, bSkipFade = false ) </p></td>
    <td width="312" valign="top"><p> Закончить movie , запущенный скриптом </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> EnableFeature ( строка ) </p></td>
    <td width="312" valign="top"><p> Используется единственным образом: EnableFeature(&quot;reenter&quot;) разрешает заново заходить на зоны </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> EndSequencePart () </p></td>
    <td width="312" valign="top"><p> Закончить часть movie , запущенного скриптом </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ExecCommand ( string ) </p></td>
    <td width="312" valign="top"><p> Выполнить консольную команду </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ExitToChapter () </p></td>
    <td width="312" valign="top"><p> Безусловный выход на карту региона </p></td>
    <td width="337" valign="top"><p> ExitToChapter() </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Explosion( nGrenadeID, WaypointName ) </p></td>
    <td width="312" valign="top"><p> Подрывает в Waypoint 'е гранату с ID = nGrenadeID </p></td>
    <td width="337" valign="top"><p> Explosion( 21, &quot;wp1&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> FadeIn() </p></td>
    <td width="312" valign="top"><p> Весь экран постепенно проявляется (светлеет) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> FadeOut () </p></td>
    <td width="312" valign="top"><p> Весь экран постепенно темнеет и становится полностью черным </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> item </p></td>
    <td width="337" valign="top"><p> FindItem( id ) </p></td>
    <td width="312" valign="top"><p> Найти первый попавшийся item с ItemID = id лежащий на зоне </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Floor ( int ) </p></td>
    <td width="312" valign="top"><p> Показать все этажи вплоть до указанного номера </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> camera </p></td>
    <td width="337" valign="top"><p> GetCamera( CameraID ) </p></td>
    <td width="312" valign="top"><p> Возвращает камеру по ID </p></td>
    <td width="337" valign="top"><p> c = GetCamera( 6 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetCurrentZoneAILevel () </p></td>
    <td width="312" valign="top"><p> Возвращает уровень персонажей противника </p></td>
    <td width="337" valign="top"><p> nLevel = GetCurrentZoneAILevel() </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> number </p></td>
    <td width="337" valign="top"><p> GetDifficulty () </p></td>
    <td width="312" valign="top"><p> Возвращает текущий коэффициент сложности </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>

  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetDiplomacy( nPlayer1, nPlayer2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает дипломатию между игроками </p></td>
    <td width="337" valign="top"><p> state = GetDiplomacy( 1, 2 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> float </p></td>
    <td width="337" valign="top"><p> GetDistance( position1, position2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает расстояние между положениями в блоках ( tiles ) </p></td>
    <td width="337" valign="top"><p> GetDistance( GetPos( GetUnit( 'fritz' ) ), GetWaypointPos( 'wp1' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> string </p></td>
    <td width="337" valign="top"><p> GetGlobalGameVar( strVal, strDefault ) </p></td>
    <td width="312" valign="top"><p> Если переменная strVal есть, возвращается ее значение. Иначе возвращается значение по умолчанию strDefault </p></td>
    <td width="337" valign="top"><p> nValue = GetGlobalGameVar( &quot;ECct&quot;, 1 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> GetGroup( nID ) </p></td>
    <td width="312" valign="top"><p> Получение существующей группы по ID </p></td>
    <td width="337" valign="top"><p> g = GetGroup( 10 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GetHero() </p></td>
    <td width="312" valign="top"><p> Возвращает ID героя </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> item </p></td>
    <td width="337" valign="top"><p> GetItem( name ) </p></td>
    <td width="312" valign="top"><p> Возвращает item по имени </p></td>
    <td width="337" valign="top"><p> GetItem( 'rifle' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetLastDialogResult() </p></td>
    <td width="312" valign="top"><p> Возвращает результат работы диалога : &quot;1&quot; - нажата &quot;yes&quot;, &quot;0&quot; - нажат &quot;cancel&quot; </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetNextBlockOrder </p></td>
    <td width="312" valign="top"><p> Выдает BlockOrder для _следующего_ блока. Если следующего блока нет, выдает 10000 </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> object </p></td>
    <td width="337" valign="top"><p> GetObject( name ) </p></td>
    <td width="312" valign="top"><p> Получить объект по имени </p></td>
    <td width="337" valign="top"><p> object = GetObject( &quot;car&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> GetParty () </p></td>
    <td width="312" valign="top"><p> Возвращает всю группу </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> position </p></td>
    <td width="337" valign="top"><p> GetPos( unit ) или GetPos( object ) </p></td>
    <td width="312" valign="top"><p> Возвращает положение объекта или unit -а </p></td>
    <td width="337" valign="top"><p> GetPos( GetUnit( 'fritz' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GetScenarioNumber () </p></td>
    <td width="312" valign="top"><p> Возвращает номер текущего сценария </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetTurn () </p></td>
    <td width="312" valign="top"><p> Возвращает номер хода (ходы идут в том числе и в realtime со скоростью 1 раз в 20 секунд) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> unit </p></td>
    <td width="337" valign="top"><p> GetUnit( name ) </p></td>
    <td width="312" valign="top"><p> Возвращает unit -а по имени </p></td>
    <td width="337" valign="top"><p> u = GetUnit( &quot;fritz&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GetUnitDiplomacy( unit, nPlayer ) </p></td>
    <td width="312" valign="top"><p> Возвращает дипломатию персонажа к игроку </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> unit </p></td>
    <td width="337" valign="top"><p> GetUnitPK(unit) </p></td>
    <td width="312" valign="top"><p> Возвращает Р anzerklein , надетый на unit . РК в игре - это тоже unit -ы, т.е. для одетого РК можно вызывать функции вроде UnitGet … и UnitSet ... </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> position </p></td>
    <td width="337" valign="top"><p> GetWaypointPos( waypointName ) </p></td>
    <td width="312" valign="top"><p> Возвращает положение waypoint 'а </p></td>
    <td width="337" valign="top"><p> GetWaypointPos( 'wp1' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupActivateWeapon( group, bActivate ) </p></td>
    <td width="312" valign="top"><p> Все персонажи в группе group берут оружие в руки ( bActivate = true ) или убирают оружие ( false ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> GroupAddGroup( Group1, Group2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает сумму групп Group 1 и Group 2 </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupAddUnit( group, unit ) </p></td>
    <td width="312" valign="top"><p> Добавление персонажа к группе </p></td>
    <td width="337" valign="top"><p> GroupAddUnit( GetGroup( 10 ), GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupAIMode( group, mode ) </p></td>
    <td width="312" valign="top"><p> Включает/выключает контроль AI над этой группой персонажей </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupCanFight( group ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если хотя бы один персонаж способен действовать (не unconscious и не dead ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupCanSee( group1, group2 ) </p></td>
    <td width="312" valign="top"><p> Проверить, видит ли одна группа другую </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupCanSeeUnit( group, unit ) </p></td>
    <td width="312" valign="top"><p> Проверить, видит ли группа персонажа unit </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupCheat( group, cheat, on ) </p></td>
    <td width="312" valign="top"><p> Включить/ выключить cheat для группы </p></td>
    <td width="337" valign="top"><p> GroupCheat( group, CHEAT_NOAI, 1 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupDeleteUnit( group, unit ) </p></td>
    <td width="312" valign="top"><p> Удалить персонаж из группы, если он принадлежит указанной группе </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> GroupGetCross( Group1, Group2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает группу, содержащую элементы, принадлежащие и группе Group 1, и группе Group 2 </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GroupGetID( group ) </p></td>
    <td width="312" valign="top"><p> Получить ID группы </p></td>
    <td width="337" valign="top"><p> n = GroupGetID( g ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> GroupGetSize( group ) </p></td>
    <td width="312" valign="top"><p> Получить размер группы </p></td>
    <td width="337" valign="top"><p> n = GroupGetSize( GetGroup( 10 ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> unit </p></td>
    <td width="337" valign="top"><p> GroupGetUnit( group, n ) </p></td>
    <td width="312" valign="top"><p> Получить n -ного по счету персонажа в группе </p></td>
    <td width="337" valign="top"><p> u = GroupGetUnit( GetGroup( 10 ), 2 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> GroupGetVisible( group ) </p></td>
    <td width="312" valign="top"><p> Сделать видимой группу другого игрока </p></td>
    <td width="337" valign="top"><p> g = GroupGetVisible( GetGroup( 2 ) ); </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupGiveXP( group, xp ) </p></td>
    <td width="312" valign="top"><p> Выдает группе group xp опыта </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupInArea( group, waypoint1, waypoint2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если группа находится в прямоугольнике, заданном waypoint 'ами </p></td>
    <td width="337" valign="top"><p> GroupInArea( GetParty(), &quot;w1&quot;, &quot;w2&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupIsCross( Group1, Group2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если группы Group 1 и Group 2 пересекаются </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> GroupIsDead( group ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если все в группе UnitIsDead () </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupKeepMoving ( group ) </p></td>
    <td width="312" valign="top"><p> Продолжить движение группы после включения/выключения sequence </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupMoveToWaypoint( group, waypoint ) </p></td>
    <td width="312" valign="top"><p> Начать движение группы идет к waypoint 'у </p></td>
    <td width="337" valign="top"><p> GroupMoveToWaypoint( GetGroup( 2 ), &quot;wp1&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupRemove ( group ) </p></td>
    <td width="312" valign="top"><p> Удаление группы </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupRemoveUnit( group, unit ) </p></td>
    <td width="312" valign="top"><p> Удаление персонажа из группы </p></td>
    <td width="337" valign="top"><p> GroupRemoveUnit( GetGroup( 10 ), GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupRoaming( group, waypoint, apRadius ) </p></td>
    <td width="312" valign="top"><p> Персонаж в указанной группе начинает ходить вокруг waypoint 'а не дальше, чем на apRadius AP </p></td>
    <td width="337" valign="top"><p> GroupRoaming( group, 'wp1', 30 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupSetDirection( unit, direction ) </p></td>
    <td width="312" valign="top"><p> Установить направление, в котором смотрят все персонажи в указанной группе </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupSetRoute( group, route, circled ) </p></td>
    <td width="312" valign="top"><p> Ходить группой по маршруту route . Если circled не nil , то ходить циклически </p></td>
    <td width="337" valign="top"><p> GroupSetRoute( GetGroup( 5 ), route, nil ); </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> GroupStop ( group ) </p></td>
    <td width="312" valign="top"><p> Остановить движение группы </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> HasInventoryItemGroup(group,nItemID ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если у группы есть предмет nItemID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> HasInventoryItemUnit(unit,nItemID) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если у персонажа есть предмет nItemID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> HighlightClue( ptr, bool[true] ) </p></td>
    <td width="312" valign="top"><p> Подсвечивает или убирает подсветку с unit -а или RPG item -а </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> HighlightUnitAlways( unit, bool b = true ) </p></td>
    <td width="312" valign="top"><p> Если второй параметр true (по умолчанию это так), то над unit -ом загорается иконка Clue , даже если мы его не видим. Если false , иконка пропадает </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> IsEqual( p1, p2 ) </p></td>
    <td width="312" valign="top"><p> Сравнивает два указателя на что-либо </p></td>
    <td width="337" valign="top"><p> a = GetUnit( 'fritz' ); b = GetUnit( 'fritz' ); c = IsEqual( a, b ) == true </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> IsInterfaceAction () </p></td>
    <td width="312" valign="top"><p> Возвращает true , если выполняется интерфейсная команда, иначе nil </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> IsMissionTaken </p></td>
    <td width="312" valign="top"><p> Возвращает, выбрал ли игрок следующую миссию </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> bool </p></td>
    <td width="337" valign="bottom"><p> IsReadyForNextBlock </p></td>
    <td width="312" valign="bottom"><p> Возвращает, пройдено ли достаточное число зон для прохождения в след. блок </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> bool </p></td>
    <td width="337" valign="bottom"><p> IsRealTime </p></td>
    <td width="312" valign="bottom"><p> Возвращает true, если realtime или sequence </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> bool </p></td>
    <td width="337" valign="bottom"><p> IsScenarioBlockComplete( nBlockOrder ) </p></td>
    <td width="312" valign="bottom"><p> Возвращает, пройден ли игроком сценарный блок </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> IsUIActionIDPresent ( nId ) </p></td>
    <td width="312" valign="bottom"><p> Заведена для того, чтобы можно было написать функцию WaitForUI , в других случаях лучше не вызывать </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> IsValid( ptr ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если ptr содержит допустимый указатель </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> string </p></td>
    <td width="337" valign="top"><p> ItemGetName( item ) </p></td>
    <td width="312" valign="top"><p> Возвращает имя предмета item </p></td>
    <td width="337" valign="top"><p> name = ItemGetName( Item ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ItemRemove ( item ) </p></td>
    <td width="312" valign="top"><p> Удаляет предмет item с карты </p></td>
    <td width="337" valign="top"><p> ItemRemove( GetItem( 'rifle' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ItemSetToWaypoint( item, 'wp' ) </p></td>
    <td width="312" valign="top"><p> Перемещает предмет в waypoint с именем wp </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ItemUnload ( item ) </p></td>
    <td width="312" valign="top"><p> Если предмет — огнестрельное оружие, обнуляет у него счетчик боезапаса </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> KillEmAll () </p></td>
    <td width="312" valign="top"><p> Убить всех врагов на карте </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> LeaveToSubZone ( nSubZone ) </p></td>
    <td width="312" valign="top"><p> Перейти на связанную зону с индексом nSubZone ; надо указать номер PassageObjectID </p></td>
    <td width="337" valign="top"><p> LeaveToSubZone( 2 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int </p></td>
    <td width="337" valign="bottom"><p> NumAvailableMissions() </p></td>
    <td width="312" valign="bottom"><p> Возвращает число доступных миссий </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int </p></td>
    <td width="337" valign="bottom"><p> NumMissionInBlock </p></td>
    <td width="312" valign="bottom"><p> Возвращает номер успешной миссии в блоке. </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> ObjectCancelAction ( object ) </p></td>
    <td width="312" valign="bottom"><p> Объект перестает &quot;держать часики&quot; и играть анимацию </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectClose( object ) </p></td>
    <td width="312" valign="top"><p> Закрыть объект </p></td>
    <td width="337" valign="top"><p> ObjectClose( GetObject( &quot;door&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectDestroy( object ) </p></td>
    <td width="312" valign="top"><p> Уничтожить объект </p></td>
    <td width="337" valign="top"><p> ObjectDestroy( GetObject( &quot;door&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> ObjectGetDestroyStage( object ) </p></td>
    <td width="312" valign="top"><p> Возвращает текущую стадию разрушения для заданного объекта </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectGetHP( object ) </p></td>
    <td width="312" valign="top"><p> Возвращает величину hit points объекта </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> string </p></td>
    <td width="337" valign="top"><p> ObjectGetName ( object ) </p></td>
    <td width="312" valign="top"><p> Возвращает имя объекта </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> ObjectIsOpened( object ) </p></td>
    <td width="312" valign="top"><p> Узнать, открыт ли объект </p></td>
    <td width="337" valign="top"><p> bOpened = ObjectIsOpened( GetObject( &quot;door&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectLockDoor( door, keyNumber, lockHardness ) </p></td>
    <td width="312" valign="top"><p> Закрыть дверь на ключ keyNumber . Можно закрыть можно открытую дверь, окно, решетку и т.п. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectOpen( object ) </p></td>
    <td width="312" valign="top"><p> Открыть объект </p></td>
    <td width="337" valign="top"><p> ObjectOpen( GetObject( &quot;door&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectPlaceInPocket ( object ) </p></td>
    <td width="312" valign="top"><p> Убрать объект с карты в &quot;карман&quot; </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectPlayAnimation( object, nAnimationID ) </p></td>
    <td width="312" valign="top"><p> Проиграть анимацию объектом </p></td>
    <td width="337" valign="top"><p> ObjectPlayAnimation( GetObject( &quot;tumba&quot; ), 993 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectRemove ( object ) </p></td>
    <td width="312" valign="top"><p> Удалить объект из игры </p></td>
    <td width="337" valign="top"><p> ObjectRemove( GetObject( &quot;door&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectRestoreFromPocket ( object ) </p></td>
    <td width="312" valign="top"><p> Поставить объект обратно на карту из &quot;кармана&quot; </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectSetDestroyStage( object, nStage ) </p></td>
    <td width="312" valign="top"><p> Задать стадию разрушения объекта </p></td>
    <td width="337" valign="top"><p> ObjectSetDestroyStage( GetObject( 'car' ), 2 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectSetToWaypoint( object, waypoint, angle ) </p></td>
    <td width="312" valign="top"><p> Изменить положение объекта. Waypoint — новое положение, angle — новый угол </p></td>
    <td width="337" valign="top"><p> ObjectSetToWaypoint( GetObject( &quot;BigBox&quot; ), &quot;wp1&quot;, 30 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ObjectUnlockDoor( door ) </p></td>
    <td width="312" valign="top"><p> Открыть дверь </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> out (...) </p></td>
    <td width="312" valign="top"><p> Вывести строку параметров в окне консоли </p></td>
    <td width="337" valign="top"><p> out(&quot;You can write numbers like this&quot;..n) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> outGroup () </p></td>
    <td width="312" valign="top"><p> Вывести состав группы в окно консоли </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Pause () </p></td>
    <td width="312" valign="top"><p> Устанавливает игру на паузу. Удобно для отладки скриптов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlaceTemplate( nTemplateID, WaypointName ) </p></td>
    <td width="312" valign="top"><p> Помещает template с TemplateID на текущий template в положение указываемое waypoint 'ом (нижний левый угол) </p></td>
    <td width="337" valign="top"><p> PlaceTemplate( 2935, 'wp1' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> sound </p></td>
    <td width="337" valign="top"><p> Play3DSound( nDBSoundID, position ) </p></td>
    <td width="312" valign="top"><p> Проигрывается 3 D -звук с id = nDBSoundID , источник находится в точке position </p></td>
    <td width="337" valign="top"><p> Play3DSound( 333, GetWaypointPos( &quot;wp1&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> effect </p></td>
    <td width="337" valign="top"><p> PlayEffect( nDBEffectID, position ) </p></td>
    <td width="312" valign="top"><p> Проигрывается particle -эффект в точке position </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> PlayerGetMoney( nPlayerID ) </p></td>
    <td width="312" valign="top"><p> Возвращает сумму денег игрока </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> PlayerGetUnits( nPlayerID ) </p></td>
    <td width="312" valign="top"><p> Возвращает группу заданного игрока </p></td>
    <td width="337" valign="top"><p> GroupGetSize( PlayerGetUnits( 0 ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> PlayerGetUnitsEx( nPlayerID, nCount ) </p></td>
    <td width="312" valign="top"><p> Возвращает группу из unit -ов nCount `ного player -а с ID nPlayerID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlayerGiveMoney( nPlayerID, nMoney ) </p></td>
    <td width="312" valign="top"><p> Добавляет сумму денег игроку </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlayerGiveTurn( nPlayerID ) </p></td>
    <td width="312" valign="top"><p> Передает ход игроку под номером nPlayerID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlayerGiveTurn ( player ) </p></td>
    <td width="312" valign="top"><p> Передает ход игроку с указанным номером </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> sound </p></td>
    <td width="337" valign="top"><p> PlaySound( nDBSoundID ) </p></td>
    <td width="312" valign="top"><p> Проигрывает 2 D -звук nDBSoundID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlayerTakeMoney( nPlayerID, nMoney ) </p></td>
    <td width="312" valign="top"><p> Отнимает сумму денег у игрока </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> PlayVideo ( path ) </p></td>
    <td width="312" valign="top"><p> Проигрывает видео- sequence (в пути надо ставить двойные \\ — особенность lua ) </p></td>
    <td width="337" valign="top"><p> PlayVideo( &quot;.\\cfg\\sequencename.seq&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> random( [min], max ) </p></td>
    <td width="312" valign="top"><p> Возвращает случайное значение от min до max , min равен 0 по умолчанию </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> RecalcWaypointPos ( waypointName ) </p></td>
    <td width="312" valign="top"><p> Если в результате массивных разрушений или PlaceTemplate waypoint сильно сдвинулся относительно своего начального местоположения, можно использовать эту функцию, чтобы он заново выбрал место поближе к начальному </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>

  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Save ( name ) </p></td>
    <td width="312" valign="top"><p> Делает запись текущего состояния игры с указанным именем. Удобно для отладки скриптов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScenarioAddGoal ( nGoalID ) </p></td>
    <td width="312" valign="top"><p> Добавляет Scenario Goal в текущую зону </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScenarioAddVisibleZone ( zoneName ) </p></td>
    <td width="312" valign="top"><p> Сделать зону с таким именем видимой, в нее становится можно заходить </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> ScenarioGetTaskComplete( GoalID, taskNumber ) </p></td>
    <td width="312" valign="top"><p> Возвращает, выполнено ли соответствующее подзадание </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScenarioSetGoalComplete( nGoalID, bComplete[true] ) </p></td>
    <td width="312" valign="top"><p> Завершить/провалить задание Goal , добавленное функцией ScenarioAddGoal </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScenarioSetGoalVisible( nGoalID, bVisible[true] ) </p></td>
    <td width="312" valign="top"><p> Делает задание GoalID видимым / невидимым </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScenarioSetTaskComplete( nGoalID, iTask, bComplete[true] ) </p></td>
    <td width="312" valign="top"><p> Завершить/провалить подзадание task , task 'и нумеруются с 0 </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ScriptShadows( bool Activate ) </p></td>
    <td width="312" valign="top"><p> Запретить отрисовку теней </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetAmbientEffect ( nEffectID ) </p></td>
    <td width="312" valign="top"><p> Анимирует освещение в соответствии с nEffectID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetDiplomacy(player1, player2, state) </p></td>
    <td width="312" valign="top"><p> Задать дипломатию между игроками </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetGlobalGameVar( szVar, strValue ) </p></td>
    <td width="312" valign="top"><p> Устанавливает глобальную переменную игры, используемую для контроля сюжета </p></td>
    <td width="337" valign="top"><p> SetGlobalGameVar( &quot;EFCom&quot;, 1 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetMaxCriticalSeverity ( nSeverity ) </p></td>
    <td width="312" valign="top"><p> Устанавливает cheated Severity для всех critical (и наших и противника). Не действует, если включена опция always critical (мелкие критикалы всегда будут продолжать идти) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetTimeOfDay( nTime ) </p></td>
    <td width="312" valign="top"><p> Устанавливает время дня на зоне. nTime может быть DAY / NIGHT / ANYTIME </p></td>
    <td width="337" valign="top"><p> SetTimeOfDay( NIGHT ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetTutorialMode( bOn ) </p></td>
    <td width="312" valign="top"><p> Включает и выключает обучающий режим, включающий в себя выключение autosave и включает показ подсказок ( hints ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SetupAmbientLight ( nLightID ) </p></td>
    <td width="312" valign="top"><p> Устанавливает новое освещение </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowLoseDialog() </p></td>
    <td width="312" valign="top"><p> Показывает LoseDialog </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowCursor ( bool ) </p></td>
    <td width="312" valign="top"><p> Показать / спрятать курсор </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowHallOfFame () </p></td>
    <td width="312" valign="top"><p> Показать таблицу рекордов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowHint ( nHintID ) </p></td>
    <td width="312" valign="top"><p> Вывести экран справки с заданным ID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowLeaveZoneDialog ( nStringID ) </p></td>
    <td width="312" valign="top"><p> Вывести диалог &quot;хотите ли выйти с зоны&quot; с указанной строкой </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> ShowLoseDialog () </p></td>
    <td width="312" valign="top"><p> Вывести стандартный диалог &quot; миссия проиграна&quot; </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Sleep ( nSegments ) </p></td>
    <td width="312" valign="top"><p> Ничего не делать nSegments сегментов (где сегмент 1/20 секунды) </p></td>
    <td width="337" valign="top"><p> Sleep( 10 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> SleepForTurn( n=1 ) </p></td>
    <td width="312" valign="top"><p> Ждет, пока не пройдет n ходов, по умолчанию 1 </p></td>
    <td width="337" valign="top"><p> SleepForTurn(); SleepForTurn( 2 ); </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> StartGame() </p></td>
    <td width="312" valign="top"><p> Разрешить показывать игру и закончить sequence </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> StartThread( luaFunction ) </p></td>
    <td width="312" valign="top"><p> Запускает функцию luaFunction в новом thread-е </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> StopEffect ( effect ) </p></td>
    <td width="312" valign="top"><p> Останавливает проигрывание эффекта: effect — значение, возвращенное PlayEffect () </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> StopSound ( sound ) </p></td>
    <td width="312" valign="top"><p> Останавливает проигрывание звука: sound — значение, возвращенное PlaySound () или Play 3 DSound () </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> TableGetSize( table ) </p></td>
    <td width="312" valign="top"><p> Возвращает размер таблицы </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> TakeMission () </p></td>
    <td width="312" valign="top"><p> Взять текущую миссию </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> TestFPS () </p></td>
    <td width="312" valign="top"><p> Протестировать карту на fps </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Trigger( chechkfunction, execfunction, [cicled], [latency] ) </p></td>
    <td width="312" valign="top"><p> Устанавливает триггер: checkfunction — проверяющая функция, execfunction — выполняемая по условию функция, cicled — зациклена ли проверка, latency — как часто проверять </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> uiShowLoot () </p></td>
    <td width="312" valign="top"><p> Вывести экран трофеев </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> uiShowMissionSelection() </p></td>
    <td width="312" valign="top"><p> Вывести экран выбора миссии </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> uiShowShop () </p></td>
    <td width="312" valign="top"><p> Вывести экран магазина </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> uiShowTeamMngMenu () </p></td>
    <td width="312" valign="top"><p> Вывести экран найма персонажей </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitActivateWeapon( unit, bActivate ) </p></td>
    <td width="312" valign="top"><p> Персонаж достает оружие ( bActivate = true ) или убирает его ( false ) </p></td>
    <td width="337" valign="top"><p> UnitActivateWeapon( GetUnit( 'fritz' ), false ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitAddToParty ( unit ) </p></td>
    <td width="312" valign="top"><p> Присоединяет персонажа (наемника) к партии, при этом он не будет исчезать из партии после выхода с зоны. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitAIMode( unit, mode ) </p></td>
    <td width="312" valign="top"><p> Включает/выключает контроль AI над этим персонажем </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitApplyCritical( unit, criticalID ) </p></td>
    <td width="312" valign="top"><p> Наносит критическое поражение указанному персонажу. Информация о criticalID берется из базы данных по ID </p></td>
    <td width="337" valign="top"><p> UnitApplyCritical( GetUnit(&quot;fritz&quot;), 21 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitApplyCritical( unit, criticalLocation, critical ) </p></td>
    <td width="312" valign="top"><p> Наносит критическое поражение указанному персонажу в указанное место hit location </p></td>
    <td width="337" valign="top"><p> UnitApplyCritical( GetUnit(&quot;fritz&quot;), 0, 5 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitApplyTableCritical( unit, criticalID, nDC[N_MAX_DC] ) </p></td>
    <td width="312" valign="top"><p> Наносит критическое поражение указанному персонажу с заданной степенью сложности проажения. Информация берется из базы данных по ID . nDC [ N _ MAX _ DC ] — номер сложности ( Severity ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitAttachToCannon( unit, cannon, true/false ) </p></td>
    <td width="312" valign="top"><p> Команда начать использовать стационарное оружие (пушку) или закончить это делать. </p>
        <p> Указывается третьим аргументом false , чтобы выйти. AI - units сами не отойдут от пушки, пока функция не будет применена к ним с false . </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitAttackWaypoint( unit, waypoint ) </p></td>
    <td width="312" valign="top"><p> Персонаж стреляет в точку waypoint </p></td>
    <td width="337" valign="top"><p> UnitAttackWaypoint( GetUnit( &quot;hero&quot; ), &quot;wp1&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitCancelAction ( unit ) </p></td>
    <td width="312" valign="top"><p> Отменить текущую команду </p></td>
    <td width="337" valign="top"><p> UnitCancelAction( GetUnit( 'fritz' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitCanFight( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж способен действовать (не unconscious и не dead ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitCanSee( unit, group ) </p></td>
    <td width="312" valign="top"><p> Узнать, видит ли персонаж группу </p></td>
    <td width="337" valign="top"><p> UnitCanSee( agent, heroes ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitCanSeeUnit( unit1, unit2 ) </p></td>
    <td width="312" valign="top"><p> Узнать, видит ли персонаж персонажа </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitCheat( unit, cheat, on ) </p></td>
    <td width="312" valign="top"><p> Включить/ выключить режим cheat для персонажа </p></td>
    <td width="337" valign="top"><p> UnitCheat( GetUnit( &quot;fritz&quot; ), CHEAT_AP, 1 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitCreateItem( unit, nRPGItemID, bClue = false ) </p></td>
    <td width="312" valign="top"><p> Создает в предметах персонажа новый предмет item . Если места недостаточно, предмет падает на землю. Если bClue = true — создается улика </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitDrawWeapon ( unit ) </p></td>
    <td width="312" valign="top"><p> Персонаж достает огнестрельное оружие (если есть) и делает его активным. Предметы в слотах не учитываются </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitDropCorpse ( unit ) </p></td>
    <td width="312" valign="top"><p> Бросить тело, которое несет персонаж </p></td>
    <td width="337" valign="top"><p> UnitDropCorpse( GetUnit( 'fritz' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetAIState( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает одно из чисел от 0 до 3. В файле s3constants.l заведены константы AI_CALM = 0, AI_ALAMED = 1, AI_FIGHTING = 2, AI_SCARED = 3 </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetAmmoQuantityInHand ( unit ) </p></td>
    <td width="312" valign="top"><p> Сколько патронов осталось в активном оружии </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int </p></td>
    <td width="337" valign="bottom"><p> UnitGetDiplomacy( unit, playerID ) </p></td>
    <td width="312" valign="bottom"><p> Возвращает diplomacy у указанного unit -а к игроку с указанным ID </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int </p></td>
    <td width="337" valign="bottom"><p> UnitGetEffectiveEngSkill( unit ) </p></td>
    <td width="312" valign="bottom"><p> Получить навык для разминирования с учетом инженерного предмета, если он в руках. </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int </p></td>
    <td width="337" valign="bottom"><p> UnitGetFloor( unit ) </p></td>
    <td width="312" valign="bottom"><p> Возвращает, на каком этаже стоит unit </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> string </p></td>
    <td width="337" valign="top"><p> UnitGetName( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает имя персонажа </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetSkill( unit, nSkill ) </p></td>
    <td width="312" valign="top"><p> Возвращает значение навыка nSkil для персонажа ( nSkill — одна из констант ST _*) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetSkillMaxValue( unit, nSkill ) </p></td>
    <td width="312" valign="top"><p> Возвращает максимальное значение навыка nSkill для персонажа </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetToHitUnit( unit, target, nTargetHitLocation = HL_ANY ) </p></td>
    <td width="312" valign="top"><p> Возвращает значение вероятности попадания ToHit в заданное место hit location unitTarget </p></td>
    <td width="337" valign="top"><p> UnitGetToHitUnit( GetUnit( &quot;fritz&quot; ), GetUnit( &quot;rocco&quot; ), HL_HEAD ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int </p></td>
    <td width="337" valign="top"><p> UnitGetToHitWaypoint( unit, waypoint, nTileHitLocation = THL_LOWER ) </p></td>
    <td width="312" valign="top"><p> Возвращает значение вероятности попадания ToHit в заданную точку местности waypoint </p></td>
    <td width="337" valign="top"><p> UnitGetToHitWaypoint( GetUnit( &quot;fritz&quot; ), &quot;wp1&quot;, THL_MIDDLE ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> group </p></td>
    <td width="337" valign="top"><p> UnitGetVisible( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает группу другого игрока, видимую данным персонажем </p></td>
    <td width="337" valign="top"><p> g = UnitGetVisible( GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitGiveRandomPerks ( unit ) </p></td>
    <td width="312" valign="top"><p> Автоматически распределяет свободные очки умений указанному персонажу </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitGiveXP( unit, xp ) </p></td>
    <td width="312" valign="top"><p> Выдает персонажу xp опыта </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitHealCriticals(unit, DC = -1) </p></td>
    <td width="312" valign="top"><p> Вылечить критические поражения, если dc &lt; 0 — лечить все независимо от DC </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitHide ( unit ) </p></td>
    <td width="312" valign="top"><p> Попытка замаскировать персонажа (аналог нажатия на кнопку hide ) </p></td>
    <td width="337" valign="top"><p> UnitHide( GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitHoldItem( unit, nRPGItemID ) </p></td>
    <td width="312" valign="top"><p> Создает предмет и дает его персонажу в обход панели предметов (даже если там нет места). Убрать предмет можно повторным вызовом с несуществующим nRPGItemID (например, -1) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitInArea( unit, waypoint1, waypoint2 ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж находится в прямоугольнике, заданном waypoint -ами </p></td>
    <td width="337" valign="top"><p> UnitInArea( GetHero(), &quot;w1&quot;, &quot;w2&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsAction( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж выполняет команду, иначе nil </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsCarryingCorpse( unit, corpse ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж несет тело </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsDead( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж погиб, иначе nil </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsHearGroup( unit, group ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж слышит кого-нибудь из группы group </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsHearUnit( unit, target ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж слышит target </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsSeeUnit( watcher, target ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если наблюдатель видит target </p></td>
    <td width="337" valign="top"><p> bVisible = UnitIsSeeUnit( GetUnit( &quot;fritz&quot; ), GetUnit( &quot;rocco&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsUnconscious( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж потерял сознание и лежит </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsUsingCannon( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж сидит за стационарным оружием </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsWeaponInHand( unit, weapon ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж держит в руке оружие вида weapon ( WP _ GRENADE , WP _ MELEE ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> bool </p></td>
    <td width="337" valign="top"><p> UnitIsWearingPK( unit ) </p></td>
    <td width="312" valign="top"><p> Возвращает true , если персонаж находится в бронекостюме </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitKeepMoving ( unit ) </p></td>
    <td width="312" valign="top"><p> Продолжить движение персонажей после включения/выключения sequence </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitKill( unit, bBloodyDeath=false ) </p></td>
    <td width="312" valign="top"><p> Убить персонажа. Если bBloodyDeath = true , то персонажа разрывает на части </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> unit </p></td>
    <td width="337" valign="top"><p> UnitLeavePK( unit ) </p></td>
    <td width="312" valign="top"><p> Персонаж выходит из бронекостюма. Функция возвращает бронекостюм, в котором он сидел </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitLockPose( unit, bLock ) </p></td>
    <td width="312" valign="top"><p> Включает и выключает режим, в котором персонажи не меняют позу </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitMakeUnconscious ( unit ) </p></td>
    <td width="312" valign="top"><p> Перевести персонажа в бессознательное состояние </p></td>
    <td width="337" valign="top"><p> UnitMakeUnconscious( GetUnit( 'fritz' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitMoveInventoryToStore ( unit ) </p></td>
    <td width="312" valign="top"><p> Забрать у персонажа все предметы и положить на склад </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitMoveToWaypoint( unit, waypointName ) </p></td>
    <td width="312" valign="top"><p> Персонаж идет к точке c именем waypointName </p></td>
    <td width="337" valign="top"><p> UnitMoveToWaypoint( GetUnit( &quot;fritz&quot;), &quot;wp1&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitPlaceInPocket( unit ) </p></td>
    <td width="312" valign="top"><p> Спрятать персонажа в «карман» </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitPlayAnimation( unit, nAnimationID, bCircled ) </p></td>
    <td width="312" valign="top"><p> Персонаж проигрывает анимацию с ID = nAnimationID . Если bCircled == true то анимация проигрывается в цикле </p></td>
    <td width="337" valign="top"><p> UnitPlayAnimation( GetUnit( &quot;fritz&quot; ), 2361, true ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRegenerateVP( unit, nVP ) </p></td>
    <td width="312" valign="top"><p> Отлечить указанное число VP </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitReload ( unit ) </p></td>
    <td width="312" valign="top"><p> Перезарядить оружие персонажа </p></td>
    <td width="337" valign="top"><p> UnitReload( GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRemove( unit ) </p></td>
    <td width="312" valign="top"><p> Удаляет персонажа с карты </p></td>
    <td width="337" valign="top"><p> UnitRemove( GetUnit( 'enemy' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRemoveFromParty( unit, newPlayerID ) </p></td>
    <td width="312" valign="top"><p> Убирает персонажа из группы и передает его под управление игроку номер newPlayerID . Если сделать UnitRemoveFromParty ( unit , 0 ), он останется под контролем игрока, но по окончании миссии покинет нашу группу. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRemoveInventoryItem( unit, itemID ) </p></td>
    <td width="312" valign="top"><p> Удалить предмет ID , находящийся у персонажа (в руках или в inventory ) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRestoreFromPocket( unit ) </p></td>
    <td width="312" valign="top"><p> Вернуть персонажа из «кармана» </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitRoaming( unit, waypoint, apRadius ) </p></td>
    <td width="312" valign="top"><p> Персонаж начинает ходить вокруг точки waypoint не дальше, чем на apRadius (в единицах AP ) </p></td>
    <td width="337" valign="top"><p> UnitRoaming( GetUnit( 'enemy' ), 'wp1', 30 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSayAck( unit, nCondition ) </p></td>
    <td width="312" valign="top"><p> Произнести реплику ( acknowledgment ) персонажем, указатель на которого передан первым параметром, номер условия condition — вторым </p></td>
    <td width="337" valign="top"><p> SayAck(owner,100) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSelectSlot ( unit , 0/1 ) </p></td>
    <td width="312" valign="top"><p> Выбрать активное окно ( slot ) у персонажа, первое (0) или второе (1). </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetAnimSpeed( unit, speed ) </p></td>
    <td width="312" valign="top"><p> Задать скорость анимации speed = число от 0 до бесконечности. На это число будет умножаться время выполнения любой анимации, кроме ходьбы - ходьба при этом работает неверно. Когда перестанет быть нужным, надо сделать UnitSetAnimSpeed ( unit ,1 ), т.е. установить нормальную скорость. </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetBody(unit, modelID) </p></td>
    <td width="312" valign="top"><p> Задать персонажу модель тела с данным ID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetCanTalk( unit, bCanTalk ) </p></td>
    <td width="312" valign="top"><p> Задает, можно ли поговорить с персонажем </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetCivilianLogic( unit, nAPRadius ) </p></td>
    <td width="312" valign="top"><p> Задает логику panic + roaming , когда нет врагов </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetDialog( unit, dialogCode ) </p></td>
    <td width="312" valign="top"><p> Устанавливает диалог, выполняемый при выборе персонажа щелчком мыши </p></td>
    <td width="337" valign="top"><p> UnitSetDialog( GetUnit( 'enemy' ), 'EComDlg1' ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetDiplomacy( unit, nPlayer, state ) </p></td>
    <td width="312" valign="top"><p> Устанавливает дипломатию state между персонажем и указанным игроком </p></td>
    <td width="337" valign="top"><p> UnitSetDiplomacy( GetUnit( &quot;fritz&quot; ), 1, 0 ) </p></td>
  </tr>

  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetDirection( unit, direction ) </p></td>
    <td width="312" valign="top"><p> Устанавливает направление, в котором смотрит персонаж </p></td>
    <td width="337" valign="top"><p> UnitSetDirection( GetUnit( &quot;fritz&quot; ), DIR_LEFT ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetFearLogic( unit ) </p></td>
    <td width="312" valign="top"><p> Устанавливает логику «убегать» с учетом укрытий </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetGuardLogic( unit, nAPRadius = 4 ) </p></td>
    <td width="312" valign="top"><p> Устанавливает логику «охранять» </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetMeleeMode( unit, mode ) </p></td>
    <td width="312" valign="top"><p> Задает режим использования оружия ближнего боя (ножей), mode может быть одной из двух констант MM _ MELEE , MM _ THROW </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetNormalLogic( unit ) </p></td>
    <td width="312" valign="top"><p> Устанавливает стандартную логику </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetPanicLogic( unit ) </p></td>
    <td width="312" valign="top"><p> Устанавливает логику panic </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetPlayer( unit, nPlayer ) </p></td>
    <td width="312" valign="top"><p> Приписывает персонажа указанному игроку </p></td>
    <td width="337" valign="top"><p> UnitChangePlayer( GetUnit (&quot;fritz&quot;), 0 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetPose( unit, pose ) </p></td>
    <td width="312" valign="top"><p> Устанавливает предпочтительную позу </p></td>
    <td width="337" valign="top"><p> UnitSetPose( GetUnit( &quot;fritz&quot; ), POSE_WALK ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetRetreatLogic( unit, 'waypoint' ) </p></td>
    <td width="312" valign="top"><p> Задать движение персонажа к заданной точке, при которой движение имеет более высокий приоритет, чем атака </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetRoute( unit, route, circled ) </p></td>
    <td width="312" valign="top"><p> Задает маршрут для персонажа. Если параметр circled не nil , то персонаж ходит в цикле </p></td>
    <td width="337" valign="top"><p> UnitSetRoute( GetUnit(&quot;fritz&quot;), route, nil ); UnitSetRoute( GetUnit(&quot;officer&quot;), CreateRoute( &quot;wp1&quot;, &quot;wp3&quot; ), 1 ); </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetScriptLogic( unit ) </p></td>
    <td width="312" valign="top"><p> Персонаж ждет скриптовой команды </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetShootMode( unit, shootMode ) </p></td>
    <td width="312" valign="top"><p> Устанавливает персонажу режим стрельбы </p></td>
    <td width="337" valign="top"><p> UnitSetShootMode( GetUnit( &quot;fritz&quot; ), SM_LONGBURST ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetSkill( unit, nSkill, nValue ) </p></td>
    <td width="312" valign="top"><p> Устанавливает персонажу значение навыка nSkil . ( nSkill — одна из констант ST _*) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetSkillMaxValue( unit, nSkill, nNewMaxValue ) </p></td>
    <td width="312" valign="top"><p> Устанавливает новое максимальное значение навыка nSkill </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetToHit( unit, nToHit = -1 ) </p></td>
    <td width="312" valign="top"><p> Устанавливает постоянную вероятность попадания nToHit во все цели. Если nToHit &lt; 0, то считается честный ToHit </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetToWaypoint( unit, waypointName ) </p></td>
    <td width="312" valign="top"><p> Персонаж устанавливается в waypointName </p></td>
    <td width="337" valign="top"><p> UnitSetToWaypoint( GetUnit( &quot;fritz&quot;), &quot;wp1&quot; ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetWishPose( unit, pose ) </p></td>
    <td width="312" valign="top"><p> Задает позу, в которой персонаж будет передвигаться </p></td>
    <td width="337" valign="top"><p> UnitSetWishPose( GetUnit( 'fritz' ), POSE_RUN ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSetXPLevel( unit, nLevel ) </p></td>
    <td width="312" valign="top"><p> Увеличивает уровень персонажа добавлением опыта </p></td>
    <td width="337" valign="top"><p> UnitSetXPLevel( GetUnit(&quot;fritz&quot;), 10 ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitShoot( unit, target, hitLocation ) </p></td>
    <td width="312" valign="top"><p> Персонаж стреляет в указанную цель в hitLocation </p></td>
    <td width="337" valign="top"><p> UnitShoot( GetUnit( &quot;fritz&quot; ), GetUnit( &quot;rocco&quot; ), HL_HEAD ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitShootPrepare( unit, unitTarget, nHitLocation ) </p></td>
    <td width="312" valign="top"><p> Персонаж прицеливается в цель unitTarget на высоту указанной nHitLocation </p></td>
    <td width="337" valign="top"><p> UnitShootPrepare( GetUnit( &quot;fritz&quot; ), GetUnit( &quot;rocco&quot; ), HL_HEAD ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"></td>
    <td width="337" valign="top"><p> UnitStop ( unit ) </p></td>
    <td width="312" valign="top"><p> Остановить движение персонажа </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitSwitchToGrenade ( unit ) </p></td>
    <td width="312" valign="top"><p> Сделать активной гранату (если есть) </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitTakeCorpse( unit, corpse ) </p></td>
    <td width="312" valign="top"><p> Подобрать персонажем тело corpse </p></td>
    <td width="337" valign="top"><p> UnitTakeCorpse( GetUnit( 'fritz' ), GetUnit( 'rocco' ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitTakeObject( unit, item ) </p></td>
    <td width="312" valign="top"><p> Подобрать персонажем указанный предмет </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitTakePerk( unit, perkID ) </p></td>
    <td width="312" valign="top"><p> Взять указанное умение perkID </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitThrowWeaponOut ( unit ) </p></td>
    <td width="312" valign="bottom"><p> Выбросить оружие из активного слота на землю </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p> int,int,int </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponGetDurability(unit) </p></td>
    <td width="312" valign="bottom"><p> П олучить три значения: durability, current maximum durability, maximum durability активного оружия </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponRepairAsOnBase ( unit ) </p></td>
    <td width="312" valign="bottom"><p> Починить оружие так, как это делалось бы на базе (не считая денег) </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponRepairBroken(unit,skill) </p></td>
    <td width="312" valign="bottom"><p> Починить оружие так, как это сделал бы инженер при помощи чинящего предмета с таким суммарным навыком (свой инженерный навык + предмет) </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponRepairJammed(unit,skill) </p></td>
    <td width="312" valign="bottom"><p> Починить заклинившее оружие так, как это сделал бы инженер с таким навыком </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponSetBroken ( unit ) </p></td>
    <td width="312" valign="bottom"><p> Сломать активное оружие </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponSetDurability(unit, durability) </p></td>
    <td width="312" valign="bottom"><p> Установить такую durability активному оружию </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponSetDurability(unit, durability, curMaxDurability) </p></td>
    <td width="312" valign="bottom"><p> У становить такие durability, current maximum durability активному оружию </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponSetDurability(unit, durability, curMaxDurability,maxDurability) </p></td>
    <td width="312" valign="bottom"><p> У становить такие durability, current maximum durability, maximum durability активному оружию </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="bottom"><p> UnitWeaponSetJammed ( unit ) </p></td>
    <td width="312" valign="bottom"><p> Заклинить активное оружие </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> UnitWearPK( unit, unitPK ) </p></td>
    <td width="312" valign="top"><p> Забраться в бронекостюм unitPK </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForGroup ( group ) </p></td>
    <td width="312" valign="top"><p> Ждать, пока все персонажи группы закончат свои действия </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForGroupRoute ( group ) </p></td>
    <td width="312" valign="top"><p> Ждать, пока группа не завершит маршрут </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForInterface(), WaitForInterface( AT_DIALOG ) </p></td>
    <td width="312" valign="top"><p> Выполнение скрипта приостанавливается до завершения движения камеры. Во втором варианте — до завершения диалога </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForObject ( object ) </p></td>
    <td width="312" valign="top"><p> Выполнение скрипта приостанавливается до выполнения команды object -ом (обычно — проигрывание анимации) </p></td>
    <td width="337" valign="top"><p> WaitForObject( GetObject( &quot;tumba&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForPassCalc () </p></td>
    <td width="312" valign="top"><p> Выполнение скрипта приостанавливается до выполнения всех расчетов проходимости </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForUnit ( unit ) </p></td>
    <td width="312" valign="top"><p> Выполнение скрипта приостанавливается до выполнения команды персонажем </p></td>
    <td width="337" valign="top"><p> WaitForUnit( GetUnit( &quot;fritz&quot; ) ) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WaitForUnitRoute( unit ) </p></td>
    <td width="312" valign="top"><p> Ждать, пока персонаж не завершит движение по маршруту </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="bottom"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> WantTurnBased ( bool ) </p></td>
    <td width="312" valign="bottom"><p> Запретить/разрешить real time на зоне. Если вызвать WantTurnBased ( true ), то realtime прекращается и не может начаться до тех пор, пока не будет вызвано WantTurnBased ( false ) </p></td>
    <td width="337" valign="bottom"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p> int, unit </p></td>
    <td width="337" valign="top"><p> WhoHasInventoryItem ( nItemID ) </p></td>
    <td width="312" valign="top"><p> В nNum будет записано количество предметов на руках у всех персонажей, в pWho — какой-нибудь из персонажей. </p></td>
    <td width="337" valign="top"><p> quantity,owner = HasInventoryItem(112) </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> Win ( stringID = 20238 ) </p></td>
    <td width="312" valign="top"><p> Выполнить все задания и показать диалог выхода с зоны с заданным текстом. По умолчанию - &quot;You can leave zone&quot; </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
  <tr>
    <td width="50" valign="top"><p>&nbsp; </p></td>
    <td width="337" valign="top"><p> YesNoDialog( int nStringID ) </p></td>
    <td width="312" valign="top"><p> Вывести диалог Yes / No с указанным текстом </p></td>
    <td width="337" valign="top"><p>&nbsp; </p></td>
  </tr>
</table>

<p><strong> События (функции, активизирующиеся по тому или иному событию и передающие в себя указанные переменные) </strong></p>

  <table width="600" border="1" cellspacing="0" cellpadding="5" bordercolor="#595F60">
  <tr>
    <td width="249" valign="top"><p><strong> Имя</strong><strong></strong></p></td>
    <td width="586" valign="top"><p><strong> Описание</strong><strong></strong></p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnOpenObject ( unit , object ) </p></td>
    <td width="586" valign="bottom"><p> При открывании персонажем объекта object </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnCloseObject ( unit , object ) </p></td>
    <td width="586" valign="bottom"><p> При закрывании персонажем объекта object </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnDialogPhrase ( szDialogCode , nPhrase ) </p></td>
    <td width="586" valign="bottom"><p> При проигрывании фразы nPhrase диалога szDialogCode </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnTalk ( HeroUnit , TargetUnit ) </p></td>
    <td width="586" valign="bottom"><p> Когда главный герой хочет поговорить с персонажем TargetUnit </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnDialogFinished ( szDialogCode ) </p></td>
    <td width="586" valign="bottom"><p> При завершении диалога </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnMineTriggered( unit ) </p></td>
    <td width="586" valign="bottom"><p> При подрыве мины . Значение unit может быть равно nil , если мина сработала от повреждений </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnClickUsable ( unit , object ) </p></td>
    <td width="586" valign="bottom"><p> Если при выбранном персонаже unit щелкнуть по используемому объекту object </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnEnterZone () </p></td>
    <td width="586" valign="bottom"><p> Вызывается после загрузки зоны по истечении одного временного сегмента </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnMineDiffusion( object, success ) </p></td>
    <td width="586" valign="bottom"><p> Позволяет обработать разминирование объекта. Success = true значит, что разминирование прошло успешно. Object — это разминируемый предмет (ловушка на дверь/окно/ящик, или собственно мина) </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnShotAtUnit ( unit ) </p></td>
    <td width="586" valign="bottom"><p> Если кто-то выстрелил в персонажа </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnOpenInventrory () </p></td>
    <td width="586" valign="bottom"><p> На открывание панели предметов </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnCloseInventory () </p></td>
    <td width="586" valign="bottom"><p> На закрывание панели предметов </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnStartTurn( player ) </p></td>
    <td width="586" valign="bottom"><p> На начало хода игрока player </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnUnitNeedCommand ( unit ) </p></td>
    <td width="586" valign="bottom"><p> Персонажу необходимо отдать команду. Если ее нет — конец хода. Применяется вместе с UnitSetScriptLogic </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnPlayerLose() </p></td>
    <td width="586" valign="bottom"><p> Когда главный герой погиб </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnUnitDamageUnit(unit, unit) </p></td>
    <td width="586" valign="bottom"><p> Когда персонаж нанес урон другому персонажу </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnUnitDeath ( unit ) </p></td>
    <td width="586" valign="bottom"><p> Когда персонаж погиб или потерял сознание </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnUnitKillUnit(unit, unit) </p></td>
    <td width="586" valign="bottom"><p> Когда персонаж убил другого персонажа </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnExit </p></td>
    <td width="586" valign="bottom"><p> Показывается на выходе из зоны. Определена в common . l Если вы ее переопределяете, не забудьте вызвать ShowLeaveZoneDialog () </p></td>
  </tr>
  <tr>
    <td width="249" valign="top"><p> OnWeaponBroken( unit, a, b ) </p></td>
    <td width="586" valign="bottom"><p> a = 1 значит, что заклинило, b = 1 значит, что сломалось </p></td>
  </tr>
</table>
			</div>
		</td>
	</tr>	
</table>



</body>
</html>
